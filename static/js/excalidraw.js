(function(){
shadow$provide[645]=function(Y,H,ta,t){var k=H(2);!function(A,p){"object"==typeof t&&"object"==typeof ta?ta.exports=p(H(13),H(22)):"function"==typeof define&&define.amd?define(["react","react-dom"],p):"object"==typeof t?t.Excalidraw=p(H(13),H(22)):A.Excalidraw=p(A.React,A.ReactDOM)}(self,function(A,p){return(()=>{function n(v){if(a[v])return a[v].exports;var m=a[v]={id:v,exports:{}};return q[v](m,m.exports,n),m.exports}var b,f,h,q={5374:v=>{function m(e,r,x,B,F,L,G){try{var C=e[L](G),D=C.value}catch(w){return void x(w)}C.done?
r(D):Promise.resolve(D).then(B,F)}v.exports=function(e){return function(){var r=this,x=arguments;return new Promise(function(B,F){function L(D){m(C,B,F,L,G,"next",D)}function G(D){m(C,B,F,L,G,"throw",D)}var C=e.apply(r,x);L(void 0)})}}},566:v=>{v.exports=function(m,e,r){return e in m?Object.defineProperty(m,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):m[e]=r,m}},6950:v=>{function m(){return v.exports=m=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var x=arguments[r],B;for(B in x)Object.prototype.hasOwnProperty.call(x,
B)&&(e[B]=x[B])}return e},m.apply(this,arguments)}v.exports=m},5474:(v,m,e)=>{var r=e(8387);v.exports=function(x,B){if(null==x)return{};var F,L=r(x,B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(x);for(F=0;F<G.length;F++){var C=G[F];0<=B.indexOf(C)||Object.prototype.propertyIsEnumerable.call(x,C)&&(L[C]=x[C])}}return L}},8387:v=>{v.exports=function(m,e){if(null==m)return{};var r,x={},B=Object.keys(m);for(r=0;r<B.length;r++){var F=B[r];0<=e.indexOf(F)||(x[F]=m[F])}return x}},
6009:(v,m,e)=>{m=e(487);e=e(8328);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},1395:(v,m,e)=>{m=e(487);e=e(6121);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},3211:(v,m,e)=>{m=e(487);e=e(2510);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},5574:(v,m,e)=>{m=e(487);e=e(7972);
"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},4518:(v,m,e)=>{m=e(487);e=e(190);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},3040:(v,m,e)=>{m=e(487);e=e(6718);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},8623:(v,m,e)=>{m=e(487);e=e(3623);"string"==typeof(e=e.__esModule?e.default:
e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},4193:(v,m,e)=>{m=e(487);e=e(103);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},341:(v,m,e)=>{m=e(487);e=e(7061);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},9705:(v,m,e)=>{m=e(487);e=e(1498);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",
singleton:!1});v.exports=e.locals||{}},7143:(v,m,e)=>{m=e(487);e=e(666);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},7428:(v,m,e)=>{m=e(487);e=e(849);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},8465:(v,m,e)=>{m=e(487);e=e(6915);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||
{}},8680:(v,m,e)=>{m=e(487);e=e(7030);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},205:(v,m,e)=>{m=e(487);e=e(3994);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},8416:(v,m,e)=>{m=e(487);e=e(700);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},2816:(v,m,e)=>{m=e(487);e=e(287);
"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},1575:(v,m,e)=>{m=e(487);e=e(5657);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},7287:(v,m,e)=>{m=e(487);e=e(7392);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},8518:(v,m,e)=>{m=e(487);e=e(6065);"string"==typeof(e=e.__esModule?e.default:
e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},5849:(v,m,e)=>{m=e(487);e=e(83);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},9478:(v,m,e)=>{m=e(487);e=e(1554);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},2680:(v,m,e)=>{m=e(487);e=e(1970);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",
singleton:!1});v.exports=e.locals||{}},3142:(v,m,e)=>{m=e(487);e=e(961);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},8234:(v,m,e)=>{m=e(487);e=e(4878);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},4651:(v,m,e)=>{m=e(487);e=e(1988);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||
{}},2189:(v,m,e)=>{m=e(487);e=e(3245);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[v.id,e,""]]);m(e,{insert:"head",singleton:!1});v.exports=e.locals||{}},487:(v,m,e)=>{function r(ia){for(var da=-1,O=0;O<w.length;O++)if(w[O].identifier===ia){da=O;break}return da}function x(ia,da){for(var O={},X=[],S=0;S<ia.length;S++){var V=ia[S],N=da.base?V[0]+da.base:V[0],P=O[N]||0,K="".concat(N," ").concat(P);O[N]=P+1;N=r(K);V={css:V[1],media:V[2],sourceMap:V[3]};-1!==N?(w[N].references++,w[N].updater(V)):
w.push({identifier:K,updater:G(V,da),references:1});X.push(K)}return X}function B(ia){var da=document.createElement("style"),O=ia.attributes||{};if(void 0===O.nonce){var X=e.nc;X&&(O.nonce=X)}if(Object.keys(O).forEach(function(S){da.setAttribute(S,O[S])}),"function"==typeof ia.insert)ia.insert(da);else{ia=D(ia.insert||"head");if(!ia)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ia.appendChild(da)}return da}function F(ia,da,O,
X){O=O?"":X.media?"@media ".concat(X.media," {").concat(X.css,"}"):X.css;ia.styleSheet?ia.styleSheet.cssText=aa(da,O):(O=document.createTextNode(O),X=ia.childNodes,X[da]&&ia.removeChild(X[da]),X.length?ia.insertBefore(O,X[da]):ia.appendChild(O))}function L(ia,da,O){da=O.css;var X=O.media;O=O.sourceMap;if(X?ia.setAttribute("media",X):ia.removeAttribute("media"),O&&"undefined"!=typeof btoa&&(da+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(O)))),
" */")),ia.styleSheet)ia.styleSheet.cssText=da;else{for(;ia.firstChild;)ia.removeChild(ia.firstChild);ia.appendChild(document.createTextNode(da))}}function G(ia,da){if(da.singleton){var O=ka++;var X=T||(T=B(da));var S=F.bind(null,X,O,!1);var V=F.bind(null,X,O,!0)}else X=B(da),S=L.bind(null,X,da),V=function(){if(null===X.parentNode)var N=!1;else X.parentNode.removeChild(X),N=void 0;!N};return S(ia),function(N){N?(N.css!==ia.css||N.media!==ia.media||N.sourceMap!==ia.sourceMap)&&S(ia=N):V()}}var C,D=
function(){var ia={};return function(da){if(void 0===ia[da]){var O=document.querySelector(da);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch(X){O=null}ia[da]=O}return ia[da]}}(),w=[],R,aa=(R=[],function(ia,da){return R[ia]=da,R.filter(Boolean).join("\n")}),T=null,ka=0;v.exports=function(ia,da){(da=da||{}).singleton||"boolean"==typeof da.singleton||(da.singleton=(void 0===C&&(C=!(!(window&&document&&document.all)||window.atob)),C));var O=x(ia=
ia||[],da);return function(X){if(X=X||[],"[object Array]"===Object.prototype.toString.call(X)){for(var S=0;S<O.length;S++){var V=r(O[S]);w[V].references--}X=x(X,da);for(S=0;S<O.length;S++)V=r(O[S]),0===w[V].references&&(w[V].updater(),w.splice(V,1));O=X}}}},2829:v=>{v.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:v=>{v.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(v,m,e)=>{function r(B){if(!e.o(x,B))return Promise.resolve().then(()=>
{var G=Error("Cannot find module '"+B+"'");throw G.code="MODULE_NOT_FOUND",G;});var F=x[B],L=F[0];return Promise.all(F.slice(1).map(e.e)).then(()=>e.t(L,3))}var x={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};r.keys=()=>Object.keys(x);r.id=788;v.exports=r},7154:v=>{function m(){return v.exports=m=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var x=arguments[r],B;for(B in x)Object.prototype.hasOwnProperty.call(x,B)&&(e[B]=x[B])}return e},m.apply(this,arguments)}v.exports=m},6479:(v,m,e)=>{var r=e(7316);v.exports=function(x,B){if(null==x)return{};var F,L=r(x,B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(x);
for(F=0;F<G.length;F++){var C=G[F];0<=B.indexOf(C)||Object.prototype.propertyIsEnumerable.call(x,C)&&(L[C]=x[C])}}return L}},7316:v=>{v.exports=function(m,e){if(null==m)return{};var r,x={},B=Object.keys(m);for(r=0;r<B.length;r++){var F=B[r];0<=e.indexOf(F)||(x[F]=m[F])}return x}},8328:(v,m,e)=>{e.r(m);e.d(m,{default:()=>B});m=e(3645);var r=e.n(m);m=e(1667);m=e.n(m);var x=e(7464);e=e(9638);r=r()(function(F){return F[1]});x=m()(x.Z);e=m()(e.Z);r.push([v.id,'@font-face{font-family:"Virgil";src:url('+
x+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+e+");font-display:swap}",""]);const B=r},6121:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const r=e},2510:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const r=e},7972:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const r=e},190:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const r=e},6718:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const r=e},3623:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const r=e},103:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const r=e},7061:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);
e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const r=e},1498:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const r=e},666:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const r=e},849:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const r=e},6915:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});
m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const r=e},7030:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const r=e},3994:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const r=e},700:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const r=e},287:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const r=e},5657:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const r=e},7392:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const r=e},6065:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const r=e},83:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const r=e},1554:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const r=e},1970:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const r=e},961:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const r=e},4878:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const r=e},1988:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const r=e},3245:(v,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(x){return x[1]});e.push([v.id,"",""]);e.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const r=e},3645:v=>{v.exports=function(m){var e=[];return e.toString=function(){return this.map(function(r){var x=m(r);return r[2]?"@media ".concat(r[2]," {").concat(x,"}"):x}).join("")},e.i=function(r,x,B){"string"==typeof r&&(r=[[null,
r,""]]);var F={};if(B)for(var L=0;L<this.length;L++){var G=this[L][0];null!=G&&(F[G]=!0)}for(L=0;L<r.length;L++)G=[].concat(r[L]),B&&F[G[0]]||(x&&(G[2]?G[2]="".concat(x," and ").concat(G[2]):G[2]=x),e.push(G))},e}},1667:v=>{v.exports=function(m,e){return e||(e={}),"string"!=typeof(m=m&&m.__esModule?m.default:m)?m:(/^['"].*['"]$/.test(m)&&(m=m.slice(1,-1)),e.hash&&(m+=e.hash),/["'() \t\n]/.test(m)||e.needQuotes?'"'.concat(m.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):m)}},9638:(v,m,e)=>{e.d(m,{Z:()=>
r});const r=e.p+"excalidraw-assets/Cascadia.woff2"},7464:(v,m,e)=>{e.d(m,{Z:()=>r});const r=e.p+"excalidraw-assets/Virgil.woff2"},8288:(v,m,e)=>{e.d(m,{iC:()=>x,f:()=>B,qx:()=>F,Iw:()=>L,$e:()=>G,wZ:()=>C,ay:()=>D,oc:()=>w,Oh:()=>R,Ks:()=>r,Vi:()=>aa,$C:()=>T,ut:()=>ka,_D:()=>ia,n5:()=>da,rk:()=>O,Hg:()=>X,hs:()=>S,eQ:()=>V,k:()=>N,LO:()=>P,I:()=>K,Gj:()=>ba,nM:()=>sa,Lg:()=>W,HM:()=>na,V4:()=>ra,EH:()=>xa,Gi:()=>Ba});var r;v=e(2189);e=e.n(v);var x="Excalidraw",B=10,F=8,L=5,G=1,C=30,D=Math.PI/12,
w={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},R={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(va){va.COPY="copy";va.PASTE="paste";va.CUT="cut";va.KEYDOWN="keydown";va.KEYUP="keyup";va.MOUSE_MOVE="mousemove";va.RESIZE="resize";va.UNLOAD="unload";va.BLUR="blur";va.DRAG_OVER="dragover";va.DROP="drop";va.GESTURE_END="gestureend";va.BEFORE_UNLOAD="beforeunload";va.GESTURE_START="gesturestart";va.GESTURE_CHANGE="gesturechange";va.POINTER_MOVE="pointermove";
va.POINTER_UP="pointerup";va.STATE_CHANGE="statechange";va.WHEEL="wheel";va.TOUCH_START="touchstart";va.TOUCH_END="touchend";va.HASHCHANGE="hashchange";va.VISIBILITY_CHANGE="visibilitychange";va.SCROLL="scroll"}(r||(r={}));var aa={TEST:"test",DEVELOPMENT:"development"},T={SHAPE_ACTIONS_MENU:"App-menu__left"},ka={1:"Virgil",2:"Helvetica",3:"Cascadia"},ia="Segoe UI Emoji",da=20,O=1,X="left",S="top",V="{version}",N=20,P={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
K={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ba=300,sa=500,W=5E3,na=100,ra=.1,xa={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Ba=e().appearanceFilter},3956:(v,m,e)=>{function r(g,y){return Math.pow(g[0]-y[0],2)+Math.pow(g[1]-y[1],2)}function x(g,y,z){return[g[0]+(y[0]-g[0])*z,g[1]+(y[1]-g[1])*z]}function B(g,y,z,M){M=M||[];var ca=g[y+0],ja=g[y+1],ya=g[y+2];const wa=g[y+3];var Da=3*ja[0]-2*ca[0]-wa[0];Da*=Da;ja=3*ja[1]-2*ca[1]-wa[1];ja*=ja;let Pa=3*ya[0]-2*wa[0]-ca[0];Pa*=Pa;ca=3*ya[1]-2*wa[1]-
ca[1];(ca*=ca,Da<Pa&&(Da=Pa),ja<ca&&(ja=ca),Da+ja)<z?(z=g[y+0],M.length?1<(Ka=M[M.length-1],lb=z,Math.sqrt(r(Ka,lb)))&&M.push(z):M.push(z),M.push(g[y+3])):(Ka=g[y+0],Da=g[y+1],lb=g[y+2],g=g[y+3],y=x(Ka,Da,.5),ca=x(Da,lb,.5),lb=x(lb,g,.5),Da=x(y,ca,.5),ca=x(ca,lb,.5),ya=x(Da,ca,.5),B([Ka,y,Da,ya],0,z,M),B([ya,ca,lb,g],0,z,M));var Ka,lb;return M}function F(g,y){return L(g,0,g.length,y)}function L(g,y,z,M,ca){ca=ca||[];const ja=g[y],ya=g[z-1];let wa=0,Da=1;for(let sb=y+1;sb<z-1;++sb){var Pa=g[sb];var Ka=
ja,lb=ya,rb=r(Ka,lb);0===rb?Pa=r(Pa,Ka):(rb=((Pa[0]-Ka[0])*(lb[0]-Ka[0])+(Pa[1]-Ka[1])*(lb[1]-Ka[1]))/rb,Pa=(rb=Math.max(0,Math.min(1,rb)),r(Pa,x(Ka,lb,rb))));Pa>wa&&(wa=Pa,Da=sb)}return Math.sqrt(wa)>M?(L(g,y,Da+1,M,ca),L(g,Da,z,M,ca)):(ca.length||ca.push(ja),ca.push(ya)),ca}function G(g,y=.15,z){const M=[],ca=(g.length-1)/3;for(let ja=0;ja<ca;ja++)B(g,3*ja,y,M);return z&&0<z?L(M,0,M.length,z):M}function C(g,y,z){if(g&&g.length){const [M,ca]=y;y=Math.PI/180*z;const ja=Math.cos(y),ya=Math.sin(y);
g.forEach(wa=>{const [Da,Pa]=wa;wa[0]=(Da-M)*ja-(Pa-ca)*ya+M;wa[1]=(Da-M)*ya+(Pa-ca)*ja+ca})}}function D(g){const y=g[0];g=g[1];return Math.sqrt(Math.pow(y[0]-g[0],2)+Math.pow(y[1]-g[1],2))}function w(g,y,z,M){const ca=y[1]-g[1];y=g[0]-y[0];g=ca*g[0]+y*g[1];const ja=M[1]-z[1];M=z[0]-M[0];z=ja*z[0]+M*z[1];const ya=ca*M-ja*y;return ya?[(M*g-y*z)/ya,(ca*z-ja*g)/ya]:null}function R(g,y,z){const M=g.length;if(3>M)return!1;const ca=[Number.MAX_SAFE_INTEGER,z];y=[y,z];z=0;for(let ja=0;ja<M;ja++){const ya=
g[ja],wa=g[(ja+1)%M];if(ka(ya,wa,y,ca)){if(0===T(ya,y,wa))return aa(ya,y,wa);z++}}return 1==z%2}function aa(g,y,z){return y[0]<=Math.max(g[0],z[0])&&y[0]>=Math.min(g[0],z[0])&&y[1]<=Math.max(g[1],z[1])&&y[1]>=Math.min(g[1],z[1])}function T(g,y,z){g=(y[1]-g[1])*(z[0]-y[0])-(y[0]-g[0])*(z[1]-y[1]);return 0===g?0:0<g?1:2}function ka(g,y,z,M){const ca=T(g,y,z),ja=T(g,y,M),ya=T(z,M,g),wa=T(z,M,y);return ca!==ja&&ya!==wa||!(0!==ca||!aa(g,z,y))||!(0!==ja||!aa(g,M,y))||!(0!==ya||!aa(z,g,M))||!(0!==wa||!aa(z,
y,M))}function ia(g,y){const z=[0,0],M=Math.round(y.hachureAngle+90);M&&C(g,z,M);y=function(ca,ja){var ya=[...ca];ya[0].join(",")!==ya[ya.length-1].join(",")&&ya.push([ya[0][0],ya[0][1]]);ca=[];if(ya&&2<ya.length){let Da=ja.hachureGap;0>Da&&(Da=4*ja.strokeWidth);Da=Math.max(Da,.1);ja=[];for(var wa=0;wa<ya.length-1;wa++){const lb=ya[wa],rb=ya[wa+1];if(lb[1]!==rb[1]){const sb=Math.min(lb[1],rb[1]);ja.push({ymin:sb,ymax:Math.max(lb[1],rb[1]),x:sb===lb[1]?lb[0]:rb[0],islope:(rb[0]-lb[0])/(rb[1]-lb[1])})}}if(ja.sort((lb,
rb)=>lb.ymin<rb.ymin?-1:lb.ymin>rb.ymin?1:lb.x<rb.x?-1:lb.x>rb.x?1:lb.ymax===rb.ymax?0:(lb.ymax-rb.ymax)/Math.abs(lb.ymax-rb.ymax)),!ja.length)return ca;let Pa=[],Ka=ja[0].ymin;for(;Pa.length||ja.length;){if(ja.length){ya=-1;for(wa=0;wa<ja.length&&!(ja[wa].ymin>Ka);wa++)ya=wa;ja.splice(0,ya+1).forEach(lb=>{Pa.push({s:Ka,edge:lb})})}if(Pa=Pa.filter(lb=>!(lb.edge.ymax<=Ka)),Pa.sort((lb,rb)=>lb.edge.x===rb.edge.x?0:(lb.edge.x-rb.edge.x)/Math.abs(lb.edge.x-rb.edge.x)),1<Pa.length)for(ya=0;ya<Pa.length;ya+=
2){wa=ya+1;if(wa>=Pa.length)break;ca.push([[Math.round(Pa[ya].edge.x),Ka],[Math.round(Pa[wa].edge.x),Ka]])}Ka+=Da;Pa.forEach(lb=>{lb.edge.x+=Da*lb.edge.islope})}}return ca}(g,y);return M&&(C(g,z,-M),function(ca,ja,ya){const wa=[];ca.forEach(Da=>wa.push(...Da));C(wa,ja,ya)}(y,z,-M)),y}function da(g){const y=[];a:{var z=g;for(var M=[];""!==z;){if(!z.match(/^([ \t\r\n,]+)/))if(z.match(/^([aAcChHlLmMqQsStTvVzZ])/))M[M.length]={type:0,text:RegExp.$1};else{if(!z.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){z=
[];break a}M[M.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}z=z.substr(RegExp.$1.length)}z=(M[M.length]={type:2,text:""},M)}M="BOD";let ca=0;for(var ja=z[ca];2!==ja.type;){let ya=0;const wa=[];if("BOD"===M){if("M"!==ja.text&&"m"!==ja.text)return da("M0,0"+g);ca++;ya=ch[ja.text];M=ja.text}else 1===ja.type?ya=ch[M]:(ca++,ya=ch[ja.text],M=ja.text);if(!(ca+ya<z.length))throw Error("Path data ended short");for(ja=ca;ja<ca+ya;ja++){const Da=z[ja];if(1!==Da.type)throw Error("Param not a number: "+M+
","+Da.text);wa[wa.length]=+Da.text}if("number"!=typeof ch[M])throw Error("Bad segment: "+M);y.push({key:M,data:wa});ca+=ya;ja=z[ca];"M"===M&&(M="L");"m"===M&&(M="l")}return y}function O(g){let y=0,z=0,M=0,ca=0;const ja=[];for(const {key:ya,data:wa}of g)switch(ya){case "M":ja.push({key:"M",data:[...wa]});[y,z]=wa;[M,ca]=wa;break;case "m":y+=wa[0];z+=wa[1];ja.push({key:"M",data:[y,z]});M=y;ca=z;break;case "L":ja.push({key:"L",data:[...wa]});[y,z]=wa;break;case "l":y+=wa[0];z+=wa[1];ja.push({key:"L",
data:[y,z]});break;case "C":ja.push({key:"C",data:[...wa]});y=wa[4];z=wa[5];break;case "c":g=wa.map((Da,Pa)=>Pa%2?Da+z:Da+y);ja.push({key:"C",data:g});y=g[4];z=g[5];break;case "Q":ja.push({key:"Q",data:[...wa]});y=wa[2];z=wa[3];break;case "q":g=wa.map((Da,Pa)=>Pa%2?Da+z:Da+y);ja.push({key:"Q",data:g});y=g[2];z=g[3];break;case "A":ja.push({key:"A",data:[...wa]});y=wa[5];z=wa[6];break;case "a":y+=wa[5];z+=wa[6];ja.push({key:"A",data:[wa[0],wa[1],wa[2],wa[3],wa[4],y,z]});break;case "H":ja.push({key:"H",
data:[...wa]});y=wa[0];break;case "h":y+=wa[0];ja.push({key:"H",data:[y]});break;case "V":ja.push({key:"V",data:[...wa]});z=wa[0];break;case "v":z+=wa[0];ja.push({key:"V",data:[z]});break;case "S":ja.push({key:"S",data:[...wa]});y=wa[2];z=wa[3];break;case "s":g=wa.map((Da,Pa)=>Pa%2?Da+z:Da+y);ja.push({key:"S",data:g});y=g[2];z=g[3];break;case "T":ja.push({key:"T",data:[...wa]});y=wa[0];z=wa[1];break;case "t":y+=wa[0];z+=wa[1];ja.push({key:"T",data:[y,z]});break;case "Z":case "z":ja.push({key:"Z",
data:[]}),y=M,z=ca}return ja}function X(g){const y=[];var z="";let M=0,ca=0,ja=0,ya=0,wa=0,Da=0;for(const {key:Ka,data:lb}of g){switch(Ka){case "M":y.push({key:"M",data:[...lb]});[M,ca]=lb;[ja,ya]=lb;break;case "C":y.push({key:"C",data:[...lb]});M=lb[4];ca=lb[5];wa=lb[2];Da=lb[3];break;case "L":y.push({key:"L",data:[...lb]});[M,ca]=lb;break;case "H":M=lb[0];y.push({key:"L",data:[M,ca]});break;case "V":ca=lb[0];y.push({key:"L",data:[M,ca]});break;case "S":var Pa=g=0;"C"===z||"S"===z?(g=M+(M-wa),Pa=
ca+(ca-Da)):(g=M,Pa=ca);y.push({key:"C",data:[g,Pa,...lb]});wa=lb[0];Da=lb[1];M=lb[2];ca=lb[3];break;case "T":const [rb,sb]=lb;Pa=g=0;"Q"===z||"T"===z?(g=M+(M-wa),Pa=ca+(ca-Da)):(g=M,Pa=ca);y.push({key:"C",data:[M+2*(g-M)/3,ca+2*(Pa-ca)/3,rb+2*(g-rb)/3,sb+2*(Pa-sb)/3,rb,sb]});wa=g;Da=Pa;M=rb;ca=sb;break;case "Q":const [dc,Yb,zc,ed]=lb;y.push({key:"C",data:[M+2*(dc-M)/3,ca+2*(Yb-ca)/3,zc+2*(dc-zc)/3,ed+2*(Yb-ed)/3,zc,ed]});wa=dc;Da=Yb;M=zc;ca=ed;break;case "A":z=Math.abs(lb[0]);g=Math.abs(lb[1]);Pa=
lb[2];const id=lb[3],vd=lb[4],le=lb[5],ke=lb[6];if(0===z||0===g)y.push({key:"C",data:[M,ca,le,ke,le,ke]}),M=le,ca=ke;else if(M!==le||ca!==ke)V(M,ca,le,ke,z,g,Pa,id,vd).forEach(function(Oe){y.push({key:"C",data:Oe})}),M=le,ca=ke;break;case "Z":y.push({key:"Z",data:[]}),M=ja,ca=ya}z=Ka}return y}function S(g,y,z){return[g*Math.cos(z)-y*Math.sin(z),g*Math.sin(z)+y*Math.cos(z)]}function V(g,y,z,M,ca,ja,ya,wa,Da,Pa){const Ka=(lb=ya,Math.PI*lb/180);var lb;lb=[];if(Pa)[wa,rb,sb,dc]=Pa;else{[g,y]=S(g,y,-Ka);
[z,M]=S(z,M,-Ka);var rb=(g-z)/2;var sb=(y-M)/2;var dc=rb*rb/(ca*ca)+sb*sb/(ja*ja);1<dc&&(dc=Math.sqrt(dc),ca*=dc,ja*=dc);dc=ca*ca;var Yb=ja*ja;wa=(wa===Da?-1:1)*Math.sqrt(Math.abs((dc*Yb-dc*sb*sb-Yb*rb*rb)/(dc*sb*sb+Yb*rb*rb)));sb=wa*ca*sb/ja+(g+z)/2;dc=wa*-ja*rb/ca+(y+M)/2;wa=Math.asin(parseFloat(((y-dc)/ja).toFixed(9)));rb=Math.asin(parseFloat(((M-dc)/ja).toFixed(9)));g<sb&&(wa=Math.PI-wa);z<sb&&(rb=Math.PI-rb);0>wa&&(wa=2*Math.PI+wa);0>rb&&(rb=2*Math.PI+rb);Da&&wa>rb&&(wa-=2*Math.PI);!Da&&rb>wa&&
(rb-=2*Math.PI)}if(Math.abs(rb-wa)>120*Math.PI/180){lb=rb;Yb=z;const zc=M;rb=Da&&rb>wa?wa+120*Math.PI/180:wa+120*Math.PI/180*-1;lb=V(z=sb+ca*Math.cos(rb),M=dc+ja*Math.sin(rb),Yb,zc,ca,ja,ya,0,Da,[rb,lb,sb,dc])}ya=Math.tan((rb-wa)/4);ca=4/3*ca*ya;ya*=4/3*ja;ja=[g,y];g=[g+ca*Math.sin(wa),y-ya*Math.cos(wa)];y=[z+ca*Math.sin(rb),M-ya*Math.cos(rb)];z=[z,M];if(g[0]=2*ja[0]-g[0],g[1]=2*ja[1]-g[1],Pa)return[g,y,z].concat(lb);lb=[g,y,z].concat(lb);Pa=[];for(z=0;z<lb.length;z+=3)M=S(lb[z][0],lb[z][1],Ka),g=
S(lb[z+1][0],lb[z+1][1],Ka),y=S(lb[z+2][0],lb[z+2][1],Ka),Pa.push([M[0],M[1],g[0],g[1],y[0],y[1]]);return Pa}function N(g,y,z){const M=(g||[]).length;if(2<M){const ca=[];for(let ja=0;ja<M-1;ja++)ca.push(...va(g[ja][0],g[ja][1],g[ja+1][0],g[ja+1][1],z));return y&&ca.push(...va(g[M-1][0],g[M-1][1],g[0][0],g[0][1],z)),{type:"path",ops:ca}}return 2===M?{type:"path",ops:va(g[0][0],g[0][1],g[1][0],g[1][1],z)}:{type:"path",ops:[]}}function P(g,y){let z=Va(g,1+.2*y.roughness,y);if(!y.disableMultiStroke){var M=
1.5*(1+.22*y.roughness);const ca=Object.assign({},y);ca.randomizer=void 0;y.seed&&(ca.seed=y.seed+1);g=Va(g,M,ca);z=z.concat(g)}return{type:"path",ops:z}}function K(g,y,z){const M=2*Math.PI/Math.max(z.curveStepCount,z.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(g/2,2)+Math.pow(y/2,2))/2)));g=Math.abs(g/2);y=Math.abs(y/2);const ca=1-z.curveFitting;return g+=Ba(g*ca,z),y+=Ba(y*ca,z),{increment:M,rx:g,ry:y}}function ba(g,y,z,M){const [ca,ja]=bb(M.increment,g,y,M.rx,M.ry,1,M.increment*
xa(.1,xa(.4,1,z),z),z);let ya=Ta(ca,null,z);z.disableMultiStroke||([g]=bb(M.increment,g,y,M.rx,M.ry,1.5,0,z),z=Ta(g,null,z),ya=ya.concat(z));return{estimatedPoints:ja,opset:{type:"path",ops:ya}}}function sa(g,y,z,M,ca,ja,ya,wa,Da){z=Math.abs(z/2);M=Math.abs(M/2);z+=Ba(.01*z,Da);for(M+=Ba(.01*M,Da);0>ca;)ca+=2*Math.PI,ja+=2*Math.PI;ja-ca>2*Math.PI&&(ca=0,ja=2*Math.PI);var Pa=Math.min(2*Math.PI/Da.curveStepCount/2,(ja-ca)/2);const Ka=Jb(Pa,g,y,z,M,ca,ja,1,Da);Da.disableMultiStroke||(Pa=Jb(Pa,g,y,z,
M,ca,ja,1.5,Da),Ka.push(...Pa));return ya&&(wa?Ka.push(...va(g,y,g+z*Math.cos(ca),y+M*Math.sin(ca),Da),...va(g,y,g+z*Math.cos(ja),y+M*Math.sin(ja),Da)):Ka.push({op:"lineTo",data:[g,y]},{op:"lineTo",data:[g+z*Math.cos(ca),y+M*Math.sin(ca)]})),{type:"path",ops:Ka}}function W(g,y){const z=[];if(g.length){const M=y.maxRandomnessOffset||0,ca=g.length;if(2<ca){z.push({op:"move",data:[g[0][0]+Ba(M,y),g[0][1]+Ba(M,y)]});for(let ja=1;ja<ca;ja++)z.push({op:"lineTo",data:[g[ja][0]+Ba(M,y),g[ja][1]+Ba(M,y)]})}}return{type:"fillPath",
ops:z}}function na(g,y){var z=Gd;let M=y.fillStyle||"hachure";if(!Bf[M])switch(M){case "zigzag":Bf[M]||(Bf[M]=new ee(z));break;case "cross-hatch":Bf[M]||(Bf[M]=new nf(z));break;case "dots":Bf[M]||(Bf[M]=new Xg(z));break;case "dashed":Bf[M]||(Bf[M]=new Oh(z));break;case "zigzag-line":Bf[M]||(Bf[M]=new Ph(z));break;default:M="hachure",Bf[M]||(Bf[M]=new Rd(z))}return Bf[M].fillPolygon(g,y)}function ra(g){return g.randomizer||(g.randomizer=new Se(g.seed||0)),g.randomizer.next()}function xa(g,y,z,M=1){return z.roughness*
M*(ra(z)*(y-g)+g)}function Ba(g,y,z=1){return xa(-g,g,y,z)}function va(g,y,z,M,ca,ja=!1){const ya=ja?ca.disableMultiStrokeFill:ca.disableMultiStroke;ja=Ma(g,y,z,M,ca,!0,!1);if(ya)return ja;g=Ma(g,y,z,M,ca,!0,!0);return ja.concat(g)}function Ma(g,y,z,M,ca,ja,ya){var wa=Math.pow(g-z,2)+Math.pow(y-M,2),Da=Math.sqrt(wa);let Pa;Pa=200>Da?1:500<Da?.4:-.0016668*Da+1.233334;let Ka=ca.maxRandomnessOffset||0;Ka*Ka*100>wa&&(Ka=Da/10);wa=Ka/2;Da=.2+.2*ra(ca);let lb=ca.bowing*ca.maxRandomnessOffset*(M-y)/200,
rb=ca.bowing*ca.maxRandomnessOffset*(g-z)/200;lb=Ba(lb,ca,Pa);rb=Ba(rb,ca,Pa);const sb=[];return ja&&(ya?sb.push({op:"move",data:[g+Ba(wa,ca,Pa),y+Ba(wa,ca,Pa)]}):sb.push({op:"move",data:[g+Ba(Ka,ca,Pa),y+Ba(Ka,ca,Pa)]})),ya?sb.push({op:"bcurveTo",data:[lb+g+(z-g)*Da+Ba(wa,ca,Pa),rb+y+(M-y)*Da+Ba(wa,ca,Pa),lb+g+2*(z-g)*Da+Ba(wa,ca,Pa),rb+y+2*(M-y)*Da+Ba(wa,ca,Pa),z+Ba(wa,ca,Pa),M+Ba(wa,ca,Pa)]}):sb.push({op:"bcurveTo",data:[lb+g+(z-g)*Da+Ba(Ka,ca,Pa),rb+y+(M-y)*Da+Ba(Ka,ca,Pa),lb+g+2*(z-g)*Da+Ba(Ka,
ca,Pa),rb+y+2*(M-y)*Da+Ba(Ka,ca,Pa),z+Ba(Ka,ca,Pa),M+Ba(Ka,ca,Pa)]}),sb}function Va(g,y,z){const M=[];M.push([g[0][0]+Ba(y,z),g[0][1]+Ba(y,z)]);M.push([g[0][0]+Ba(y,z),g[0][1]+Ba(y,z)]);for(let ca=1;ca<g.length;ca++)M.push([g[ca][0]+Ba(y,z),g[ca][1]+Ba(y,z)]),ca===g.length-1&&M.push([g[ca][0]+Ba(y,z),g[ca][1]+Ba(y,z)]);return Ta(M,null,z)}function Ta(g,y,z){const M=g.length,ca=[];if(3<M){const ja=[],ya=1-z.curveTightness;ca.push({op:"move",data:[g[1][0],g[1][1]]});for(let wa=1;wa+2<M;wa++){const Da=
g[wa];ja[0]=[Da[0],Da[1]];ja[1]=[Da[0]+(ya*g[wa+1][0]-ya*g[wa-1][0])/6,Da[1]+(ya*g[wa+1][1]-ya*g[wa-1][1])/6];ja[2]=[g[wa+1][0]+(ya*g[wa][0]-ya*g[wa+2][0])/6,g[wa+1][1]+(ya*g[wa][1]-ya*g[wa+2][1])/6];ja[3]=[g[wa+1][0],g[wa+1][1]];ca.push({op:"bcurveTo",data:[ja[1][0],ja[1][1],ja[2][0],ja[2][1],ja[3][0],ja[3][1]]})}y&&2===y.length&&(g=z.maxRandomnessOffset,ca.push({op:"lineTo",data:[y[0]+Ba(g,z),y[1]+Ba(g,z)]}))}else 3===M?(ca.push({op:"move",data:[g[1][0],g[1][1]]}),ca.push({op:"bcurveTo",data:[g[1][0],
g[1][1],g[2][0],g[2][1],g[2][0],g[2][1]]})):2===M&&ca.push(...va(g[0][0],g[0][1],g[1][0],g[1][1],z));return ca}function bb(g,y,z,M,ca,ja,ya,wa){const Da=[],Pa=[],Ka=Ba(.5,wa)-Math.PI/2;Pa.push([Ba(ja,wa)+y+.9*M*Math.cos(Ka-g),Ba(ja,wa)+z+.9*ca*Math.sin(Ka-g)]);for(let lb=Ka;lb<2*Math.PI+Ka-.01;lb+=g){const rb=[Ba(ja,wa)+y+M*Math.cos(lb),Ba(ja,wa)+z+ca*Math.sin(lb)];Da.push(rb);Pa.push(rb)}return Pa.push([Ba(ja,wa)+y+M*Math.cos(Ka+2*Math.PI+.5*ya),Ba(ja,wa)+z+ca*Math.sin(Ka+2*Math.PI+.5*ya)]),Pa.push([Ba(ja,
wa)+y+.98*M*Math.cos(Ka+ya),Ba(ja,wa)+z+.98*ca*Math.sin(Ka+ya)]),Pa.push([Ba(ja,wa)+y+.9*M*Math.cos(Ka+.5*ya),Ba(ja,wa)+z+.9*ca*Math.sin(Ka+.5*ya)]),[Pa,Da]}function Jb(g,y,z,M,ca,ja,ya,wa,Da){var Pa=ja+Ba(.1,Da);ja=[];for(ja.push([Ba(wa,Da)+y+.9*M*Math.cos(Pa-g),Ba(wa,Da)+z+.9*ca*Math.sin(Pa-g)]);Pa<=ya;Pa+=g)ja.push([Ba(wa,Da)+y+M*Math.cos(Pa),Ba(wa,Da)+z+ca*Math.sin(Pa)]);return ja.push([y+M*Math.cos(ya),z+ca*Math.sin(ya)]),ja.push([y+M*Math.cos(ya),z+ca*Math.sin(ya)]),Ta(ja,null,Da)}function Hb(g,
y,z,M,ca,ja,ya,wa){const Da=[],Pa=[wa.maxRandomnessOffset||1,(wa.maxRandomnessOffset||1)+.3];let Ka;const lb=wa.disableMultiStroke?1:2;for(let rb=0;rb<lb;rb++)0===rb?Da.push({op:"move",data:[ya[0],ya[1]]}):Da.push({op:"move",data:[ya[0]+Ba(Pa[0],wa),ya[1]+Ba(Pa[0],wa)]}),Ka=[ca+Ba(Pa[rb],wa),ja+Ba(Pa[rb],wa)],Da.push({op:"bcurveTo",data:[g+Ba(Pa[rb],wa),y+Ba(Pa[rb],wa),z+Ba(Pa[rb],wa),M+Ba(Pa[rb],wa),Ka[0],Ka[1]]});return Da}function Tb(g){var y,z,M="";if("string"==typeof g||"number"==typeof g)M+=
g;else if("object"==typeof g)if(Array.isArray(g))for(y=0;y<g.length;y++)g[y]&&(z=Tb(g[y]))&&(M&&(M+=" "),M+=z);else for(y in g)g[y]&&(M&&(M+=" "),M+=y);return M}function mc(){for(var g,y,z=0,M="";z<arguments.length;)(g=arguments[z++])&&(y=Tb(g))&&(M&&(M+=" "),M+=y);return M}function Gb(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function $b(g){for(var y=
1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Gb(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Gb(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Ub(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,
ca).enumerable}));z.push.apply(z,M)}return z}function zb(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Ub(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Ub(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function fb(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function cb(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?fb(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):fb(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Ja(g,y){var z=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Ha(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Ja(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Ja(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,
M))})}return g}function Sa(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function hb(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Sa(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Sa(Object(z)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Vb(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Rb(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Hc(g){for(var y=
1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Rb(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Rb(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Kc(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,
ca).enumerable}));z.push.apply(z,M)}return z}function Dc(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Kc(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Kc(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Ic(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Wc(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Ic(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Ic(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Kd(g,y){var z=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function kd(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Kd(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Kd(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,
M))})}return g}function xe(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function ue(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?xe(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):xe(Object(z)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(z,M))})}return g}function rd(g){var y=g.options,z=g.value,M=g.label,ca=g.onChange,ja=g.onClose,ya=Ea().useRef(),wa=Ea().useRef(),Da=Ea().useRef(null);Ea().useEffect(function(){wa.current?wa.current.focus():Da.current&&Da.current.focus()},[]);return Ea().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":M,onKeyDown:function(Pa){var Ka=y.find(function(dc){return dc.keyBinding===Pa.key.toLowerCase()});if(Pa.metaKey||Pa.altKey||Pa.ctrlKey||
!Ka)if("Tab"===Pa.key)setTimeout(function(){wa.current!==document.activeElement&&ja()},0);else if(xg(Pa.key)){Ka=ua.rtl;if(-1!==(sb=Array.prototype.indexOf.call(Da.current.children,document.activeElement))){var lb=y.length,rb=sb;switch(Pa.key){case Ka?"ArrowLeft":"ArrowRight":case "ArrowDown":rb=(sb+1)%lb;break;case Ka?"ArrowRight":"ArrowLeft":case "ArrowUp":rb=(lb+sb-1)%lb}Da.current.children[rb].focus()}Pa.preventDefault()}else"Escape"!==Pa.key&&"Enter"!==Pa.key||(Pa.preventDefault(),ja());else{var sb=
y.indexOf(Ka);Da.current.children[sb].focus();Pa.preventDefault()}Pa.nativeEvent.stopImmediatePropagation()}},Ea().createElement("div",{className:"picker-content",ref:Da},y.map(function(Pa,Ka){return Ea().createElement("button",{className:"picker-option",onClick:function(lb){lb.currentTarget.focus();ca(Pa.value)},title:"".concat(Pa.text," — ").concat(Pa.keyBinding.toUpperCase()),"aria-label":Pa.text||"none","aria-keyshortcuts":Pa.keyBinding,key:Pa.text,ref:function(lb){lb&&0===Ka&&(ya.current=lb);
lb&&Pa.value===z&&(wa.current=lb)},onFocus:function(){ca(Pa.value)}},Pa.icon,Ea().createElement("span",{className:"picker-keybinding"},Pa.keyBinding))})))}function wd(g){var y,z=g.value,M=g.label,ca=g.options,ja=g.onChange;g=g.group;g=void 0===g?"":g;var ya=Ea().useState(!1),wa=ya[0],Da=ya[1],Pa=Ea().useRef(null);ya=ua.rtl;return Ea().createElement("label",{className:"picker-container"},Ea().createElement("button",{name:g,className:wa?"active":"","aria-label":M,onClick:function(){return Da(!wa)},
ref:Pa},null===(y=ca.find(function(Ka){return Ka.value===z}))||void 0===y?void 0:y.icon),Ea().createElement(Ea().Suspense,{fallback:""},wa?Ea().createElement(Ea().Fragment,null,Ea().createElement(jb,Pd()({onCloseRequest:function(Ka){return Ka.target!==Pa.current&&Da(!1)}},ya?{right:5.5}:{left:-5.5}),Ea().createElement(rd,{options:ca,value:z,label:M,onChange:ja,onClose:function(){var Ka;Da(!1);null===(Ka=Pa.current)||void 0===Ka||Ka.focus()}})),Ea().createElement("div",{className:"picker-triangle"})):
null))}function Ge(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Ne(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Ge(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Ge(Object(z)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Ve(){return(0,jc.useContext)(lg)}function pf(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Ke(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?pf(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,
Object.getOwnPropertyDescriptors(z)):pf(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Ff(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Eg(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Ff(Object(z),!0).forEach(function(M){pd()(g,
M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Ff(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}async function uh(...g){return(await ym).default(...g)}async function jh(...g){return(await rf).default(...g)}function Le(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,
ca).enumerable}));z.push.apply(z,M)}return z}function We(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Le(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Le(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function sg(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Fe(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?sg(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):sg(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function tb(g,y){var z=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Db(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?tb(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):tb(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,
M))})}return g}function ob(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Xa(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?ob(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):ob(Object(z)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(z,M))})}return g}function ib(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function vb(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?ib(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):
ib(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Sb(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function rc(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Sb(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Sb(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function vc(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Nc(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?vc(Object(z),
!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):vc(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function sd(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Yc(g){for(var y=1;y<arguments.length;y++){var z=
null!=arguments[y]?arguments[y]:{};y%2?sd(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):sd(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Xd(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,
M)}return z}function uc(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Xd(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Xd(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Xb(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,
ca).enumerable}));z.push.apply(z,M)}return z}function he(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Xb(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Xb(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function dd(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Ae(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?dd(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):dd(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function qb(g,y){var z=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function ic(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?qb(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):qb(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,
M))})}return g}function mb(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function kc(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?mb(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):mb(Object(z)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(z,M))})}return g}function ld(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Ad(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?ld(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):
ld(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Ud(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Xe(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Ud(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Ud(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Fc(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Tc(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Fc(Object(z),
!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Fc(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function nc(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function yb(g){for(var y=1;y<arguments.length;y++){var z=
null!=arguments[y]?arguments[y]:{};y%2?nc(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):nc(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function yd(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,
M)}return z}function lf(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Od(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,M)}return z}function Xf(g){for(var y=1;y<arguments.length;y++){var z=
null!=arguments[y]?arguments[y]:{};y%2?Od(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Od(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}function Ga(g,y){var z=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ca){return Object.getOwnPropertyDescriptor(g,ca).enumerable}));z.push.apply(z,
M)}return z}function Wa(g){for(var y=1;y<arguments.length;y++){var z=null!=arguments[y]?arguments[y]:{};y%2?Ga(Object(z),!0).forEach(function(M){pd()(g,M,z[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(z)):Ga(Object(z)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(z,M))})}return g}e.r(m);e.d(m,{default:()=>du,defaultLang:()=>Za,getElementMap:()=>$i,getSceneVersion:()=>cl,getSyncableElements:()=>Nk,languages:()=>fa,
restore:()=>mn,restoreAppState:()=>ln,restoreElements:()=>wk});var Ra=e(7154),kb=e.n(Ra),Kb=e(6479),sc=e.n(Kb),jc=e(4698),Ea=e.n(jc),hc=e(8288);const Uc=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==hc.Vi.TEST&&(e.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Uc.u2,"@").concat(Uc.i8,"/dist/"));var Ld=e(5374),Pc=e.n(Ld),Sd=e(2829),Yf=e(2051),ae=function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");
for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=
Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya},Za={code:"en",label:"English"},fa=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",
label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},
{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Za]).sort(function(g,y){return g.label>y.label?1:-1}).filter(function(g){return 85<=Yf[g.code]});"production"===hc.Vi.DEVELOPMENT&&fa.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var la,ua=Za,La={},gb=function(){var g=Pc()(function(y){return ae(this,function(z){switch(z.label){case 0:return ua=
y,document.documentElement.dir=ua.rtl?"rtl":"ltr",document.documentElement.lang=ua.code,y.code.startsWith("__test__")?(La={},[3,3]):[3,1];case 1:return[4,e(788)("./".concat(ua.code,".json"))];case 2:La=z.sent(),z.label=3;case 3:return[2]}})});return function(y){return g.apply(this,arguments)}}(),wb=function(g,y){for(var z=0;z<y.length;++z){var M=y[z];if(void 0===g[M])return;g=g[M]}if("string"==typeof g)return g},eb=function(g,y){if(ua.code.startsWith("__test__"))return g=y?"".concat(g,"(").concat(JSON.stringify(y).slice(1,
-1),")"):g,"‪[[".concat(g,"]]‬");var z=g.split(".");z=wb(La,z)||wb(Sd,z);if(void 0===z)throw Error("Can't find translation for ".concat(g));if(y)for(var M in y)z=z.replace("{{".concat(M,"}}"),y[M]);return z},oc=function(){return Ea().createElement("div",{className:"LoadingMessage"},Ea().createElement("span",null,eb("labels.loadingScene")))},Zc=(la=function(g,y){return(la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,M){z.__proto__=M}||function(z,M){for(var ca in M)Object.prototype.hasOwnProperty.call(M,
ca)&&(z[ca]=M[ca])})(g,y)},function(g,y){function z(){this.constructor=g}if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");la(g,y);g.prototype=null===y?Object.create(y):(z.prototype=y.prototype,new z)}),Cd=function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&
!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],
wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},se=function(g){function y(){for(var z=[],M=0;M<arguments.length;M++)z[M]=arguments[M];var ca;
M=this;return ca=M=g.apply(this,z)||this,M.state={isLoading:!0},ca}return Zc(y,g),y.prototype.componentDidMount=function(){var z=this;return Pc()(function(){var M;return Cd(this,function(ca){switch(ca.label){case 0:return M=fa.find(function(ja){return ja.code===z.props.langCode})||Za,[4,gb(M)];case 1:return ca.sent(),z.setState({isLoading:!1}),[2]}})})()},y.prototype.render=function(){return this.state.isLoading?Ea().createElement(oc,null):this.props.children},y}(Ea().Component),ze=e(566),pd=e.n(ze);
class Rd{constructor(g){this.helper=g}fillPolygon(g,y){return this._fillPolygon(g,y)}_fillPolygon(g,y,z=!1){let M=ia(g,y);z&&(g=this.connectingLines(g,M),M=M.concat(g));return{type:"fillSketch",ops:this.renderLines(M,y)}}renderLines(g,y){const z=[];for(const M of g)z.push(...this.helper.doubleLineOps(M[0][0],M[0][1],M[1][0],M[1][1],y));return z}connectingLines(g,y){const z=[];if(1<y.length)for(let ca=1;ca<y.length;ca++){var M=y[ca-1];3>D(M)||(M=[y[ca][0],M[1]],3<D(M)&&(M=this.splitOnIntersections(g,
M),z.push(...M)))}return z}midPointInPolygon(g,y){return R(g,(y[0][0]+y[1][0])/2,(y[0][1]+y[1][1])/2)}splitOnIntersections(g,y){var z=Math.max(5,.1*D(y)),M=[];for(var ca=0;ca<g.length;ca++){var ja=g[ca],ya=g[(ca+1)%g.length];if(ka(ja,ya,...y)&&(ja=w(ja,ya,y[0],y[1]))){ya=D([ja,y[0]]);const wa=D([ja,y[1]]);ya>z&&wa>z&&M.push({point:ja,distance:ya})}}if(1<M.length){z=M.sort((wa,Da)=>wa.distance-Da.distance).map(wa=>wa.point);if(R(g,...y[0])||z.shift(),R(g,...y[1])||z.pop(),1>=z.length)return this.midPointInPolygon(g,
y)?[y]:[];y=[y[0],...z,y[1]];z=[];for(M=0;M<y.length-1;M+=2)ca=[y[M],y[M+1]],this.midPointInPolygon(g,ca)&&z.push(ca);return z}return this.midPointInPolygon(g,y)?[y]:[]}}class ee extends Rd{fillPolygon(g,y){return this._fillPolygon(g,y,!0)}}class nf extends Rd{fillPolygon(g,y){const z=this._fillPolygon(g,y);y=Object.assign({},y,{hachureAngle:y.hachureAngle+90});g=this._fillPolygon(g,y);return z.ops=z.ops.concat(g.ops),z}}class Xg{constructor(g){this.helper=g}fillPolygon(g,y){g=ia(g,y=Object.assign({},
y,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(g,y)}dotsOnLines(g,y){const z=[];let M=y.hachureGap;0>M&&(M=4*y.strokeWidth);M=Math.max(M,.1);let ca=y.fillWeight;0>ca&&(ca=y.strokeWidth/2);const ja=M/4;for(const Pa of g){var ya=D(Pa);g=Math.ceil(ya/M)-1;ya-=g*M;const Ka=(Pa[0][0]+Pa[1][0])/2-M/4,lb=Math.min(Pa[0][1],Pa[1][1]);for(let rb=0;rb<g;rb++){var wa=lb+ya+rb*M,Da=this.helper.randOffsetWithRange(Ka-ja,Ka+ja,y);wa=this.helper.randOffsetWithRange(wa-ja,wa+ja,y);Da=this.helper.ellipse(Da,
wa,ca,ca,y);z.push(...Da.ops)}}return{type:"fillSketch",ops:z}}}class Oh{constructor(g){this.helper=g}fillPolygon(g,y){g=ia(g,y);return{type:"fillSketch",ops:this.dashedLine(g,y)}}dashedLine(g,y){const z=0>y.dashOffset?0>y.hachureGap?4*y.strokeWidth:y.hachureGap:y.dashOffset,M=0>y.dashGap?0>y.hachureGap?4*y.strokeWidth:y.hachureGap:y.dashGap,ca=[];return g.forEach(ja=>{var ya=D(ja);const wa=Math.floor(ya/(z+M));ya=(ya+M-wa*(z+M))/2;let Da=ja[0];var Pa=ja[1];Da[0]>Pa[0]&&(Da=ja[1],Pa=ja[0]);ja=Math.atan((Pa[1]-
Da[1])/(Pa[0]-Da[0]));for(Pa=0;Pa<wa;Pa++){var Ka=Pa*(z+M),lb=Ka+z;Ka=[Da[0]+Ka*Math.cos(ja)+ya*Math.cos(ja),Da[1]+Ka*Math.sin(ja)+ya*Math.sin(ja)];lb=[Da[0]+lb*Math.cos(ja)+ya*Math.cos(ja),Da[1]+lb*Math.sin(ja)+ya*Math.sin(ja)];ca.push(...this.helper.doubleLineOps(Ka[0],Ka[1],lb[0],lb[1],y))}}),ca}}class Ph{constructor(g){this.helper=g}fillPolygon(g,y){const z=0>y.hachureGap?4*y.strokeWidth:y.hachureGap,M=0>y.zigzagOffset?z:y.zigzagOffset;g=ia(g,y=Object.assign({},y,{hachureGap:z+M}));return{type:"fillSketch",
ops:this.zigzagLines(g,M,y)}}zigzagLines(g,y,z){const M=[];return g.forEach(ca=>{var ja=D(ca);ja=Math.round(ja/(2*y));let ya=ca[0];var wa=ca[1];ya[0]>wa[0]&&(ya=ca[1],wa=ca[0]);ca=Math.atan((wa[1]-ya[1])/(wa[0]-ya[0]));for(wa=0;wa<ja;wa++){var Da=2*wa*y,Pa=2*(wa+1)*y,Ka=Math.sqrt(2*Math.pow(y,2));Da=[ya[0]+Da*Math.cos(ca),ya[1]+Da*Math.sin(ca)];Pa=[ya[0]+Pa*Math.cos(ca),ya[1]+Pa*Math.sin(ca)];Ka=[Da[0]+Ka*Math.cos(ca+Math.PI/4),Da[1]+Ka*Math.sin(ca+Math.PI/4)];M.push(...this.helper.doubleLineOps(Da[0],
Da[1],Ka[0],Ka[1],z),...this.helper.doubleLineOps(Ka[0],Ka[1],Pa[0],Pa[1],z))}}),M}}const Bf={};class Se{constructor(g){this.seed=g}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const ch={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Gd={randOffset:function(g,y){return Ba(g,y)},randOffsetWithRange:function(g,y,z){return xa(g,y,z)},ellipse:function(g,y,z,M,ca){z=K(z,M,ca);return ba(g,y,ca,z).opset},doubleLineOps:function(g,
y,z,M,ca){return va(g,y,z,M,ca,!0)}};class Ch{constructor(g){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=g||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*
2**31)}_o(g){return g?Object.assign({},this.defaultOptions,g):this.defaultOptions}_d(g,y,z){return{shape:g,sets:y||[],options:z||this.defaultOptions}}line(g,y,z,M,ca){ca=this._o(ca);return this._d("line",[{type:"path",ops:va(g,y,z,M,ca)}],ca)}rectangle(g,y,z,M,ca){ca=this._o(ca);const ja=[];var ya=N([[g,y],[g+z,y],[g+z,y+M],[g,y+M]],!0,ca);ca.fill&&(g=[[g,y],[g+z,y],[g+z,y+M],[g,y+M]],"solid"===ca.fillStyle?ja.push(W(g,ca)):ja.push(na(g,ca)));return"none"!==ca.stroke&&ja.push(ya),this._d("rectangle",
ja,ca)}ellipse(g,y,z,M,ca){ca=this._o(ca);const ja=[];M=K(z,M,ca);z=ba(g,y,ca,M);ca.fill&&("solid"===ca.fillStyle?(g=ba(g,y,ca,M).opset,g.type="fillPath",ja.push(g)):ja.push(na(z.estimatedPoints,ca)));return"none"!==ca.stroke&&ja.push(z.opset),this._d("ellipse",ja,ca)}circle(g,y,z,M){g=this.ellipse(g,y,z,z,M);return g.shape="circle",g}linearPath(g,y){y=this._o(y);return this._d("linearPath",[N(g,!1,y)],y)}arc(g,y,z,M,ca,ja,ya=!1,wa){wa=this._o(wa);const Da=[],Pa=sa(g,y,z,M,ca,ja,ya,!0,wa);if(ya&&
wa.fill)if("solid"===wa.fillStyle)g=sa(g,y,z,M,ca,ja,!0,!1,wa),g.type="fillPath",Da.push(g);else{ya=Da.push;z=Math.abs(z/2);M=Math.abs(M/2);z+=Ba(.01*z,wa);for(M+=Ba(.01*M,wa);0>ca;)ca+=2*Math.PI,ja+=2*Math.PI;ja-ca>2*Math.PI&&(ca=0,ja=2*Math.PI);const Ka=(ja-ca)/wa.curveStepCount,lb=[];for(;ca<=ja;ca+=Ka)lb.push([g+z*Math.cos(ca),y+M*Math.sin(ca)]);g=(lb.push([g+z*Math.cos(ja),y+M*Math.sin(ja)]),lb.push([g,y]),na(lb,wa));ya.call(Da,g)}return"none"!==wa.stroke&&Da.push(Pa),this._d("arc",Da,wa)}curve(g,
y){y=this._o(y);const z=[],M=P(g,y);y.fill&&"none"!==y.fill&&3<=g.length&&(g=G(function(ca,ja=0){var ya=ca.length;if(3>ya)throw Error("A curve must have at least three points.");const wa=[];if(3===ya)wa.push([...ca[0]],[...ca[1]],[...ca[2]],[...ca[2]]);else{ya=[];ya.push(ca[0],ca[0]);for(var Da=1;Da<ca.length;Da++)ya.push(ca[Da]),Da===ca.length-1&&ya.push(ca[Da]);ca=[];ja=1-ja;wa.push([...ya[0]]);for(Da=1;Da+2<ya.length;Da++){const Pa=ya[Da];ca[0]=[Pa[0],Pa[1]];ca[1]=[Pa[0]+(ja*ya[Da+1][0]-ja*ya[Da-
1][0])/6,Pa[1]+(ja*ya[Da+1][1]-ja*ya[Da-1][1])/6];ca[2]=[ya[Da+1][0]+(ja*ya[Da][0]-ja*ya[Da+2][0])/6,ya[Da+1][1]+(ja*ya[Da][1]-ja*ya[Da+2][1])/6];ca[3]=[ya[Da+1][0],ya[Da+1][1]];wa.push(ca[1],ca[2],ca[3])}}return wa}(g),10,(1+y.roughness)/2),"solid"===y.fillStyle?z.push(W(g,y)):z.push(na(g,y)));return"none"!==y.stroke&&z.push(M),this._d("curve",z,y)}polygon(g,y){y=this._o(y);const z=[],M=N(g,!0,y);return y.fill&&("solid"===y.fillStyle?z.push(W(g,y)):z.push(na(g,y))),"none"!==y.stroke&&z.push(M),this._d("polygon",
z,y)}path(g,y){const z=this._o(y),M=[];if(!g)return this._d("path",M,z);g=(g||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");y=z.fill&&"transparent"!==z.fill&&"none"!==z.fill;const ca="none"!==z.stroke,ja=!!(z.simplification&&1>z.simplification),ya=function(wa,Da,Pa){var Ka=X(O(da(wa)));wa=[];let lb=[];var rb=[0,0];let sb=[];const dc=()=>{4<=sb.length&&lb.push(...G(sb,Da));sb=[]};for(const {key:Yb,data:zc}of Ka)switch(Yb){case "M":dc();lb.length&&(wa.push(lb),lb=[]);rb=[zc[0],
zc[1]];lb.push(rb);break;case "L":dc();lb.push([zc[0],zc[1]]);break;case "C":sb.length||(Ka=lb.length?lb[lb.length-1]:rb,sb.push([Ka[0],Ka[1]]));sb.push([zc[0],zc[1]]);sb.push([zc[2],zc[3]]);sb.push([zc[4],zc[5]]);break;case "Z":dc(),lb.push([rb[0],rb[1]])}dc();lb.length&&(wa.push(lb),lb=[]);if(!Pa)return wa;rb=[];for(const Yb of wa)wa=F(Yb,Pa),wa.length&&rb.push(wa);return rb}(g,1,ja?4-4*z.simplification:(1+z.roughness)/2);if(y)if(z.combineNestedSvgPaths){const wa=[];ya.forEach(Da=>wa.push(...Da));
"solid"===z.fillStyle?M.push(W(wa,z)):M.push(na(wa,z))}else ya.forEach(wa=>{"solid"===z.fillStyle?M.push(W(wa,z)):M.push(na(wa,z))});return ca&&(ja?ya.forEach(wa=>{M.push(N(wa,!1,z))}):M.push(function(wa,Da){wa=X(O(da(wa)));const Pa=[];let Ka=[0,0],lb=[0,0];for(const {key:rb,data:sb}of wa)switch(rb){case "M":const dc=1*(Da.maxRandomnessOffset||0);Pa.push({op:"move",data:sb.map(ke=>ke+Ba(dc,Da))});lb=[sb[0],sb[1]];Ka=[sb[0],sb[1]];break;case "L":Pa.push(...va(lb[0],lb[1],sb[0],sb[1],Da));lb=[sb[0],
sb[1]];break;case "C":const [Yb,zc,ed,id,vd,le]=sb;Pa.push(...Hb(Yb,zc,ed,id,vd,le,lb,Da));lb=[vd,le];break;case "Z":Pa.push(...va(lb[0],lb[1],Ka[0],Ka[1],Da)),lb=[Ka[0],Ka[1]]}return{type:"path",ops:Pa}}(g,z))),this._d("path",M,z)}opsToPath(g){let y="";for(const z of g.ops)switch(g=z.data,z.op){case "move":y+=`M${g[0]} ${g[1]} `;break;case "bcurveTo":y+=`C${g[0]} ${g[1]}, ${g[2]} ${g[3]}, ${g[4]} ${g[5]} `;break;case "lineTo":y+=`L${g[0]} ${g[1]} `}return y.trim()}toPaths(g){var y=g.sets||[];g=g.options||
this.defaultOptions;const z=[];for(const M of y){y=null;switch(M.type){case "path":y={d:this.opsToPath(M),stroke:g.stroke,strokeWidth:g.strokeWidth,fill:"none"};break;case "fillPath":y={d:this.opsToPath(M),stroke:"none",strokeWidth:0,fill:g.fill||"none"};break;case "fillSketch":y=this.fillSketch(M,g)}y&&z.push(y)}return z}fillSketch(g,y){let z=y.fillWeight;return 0>z&&(z=y.strokeWidth/2),{d:this.opsToPath(g),stroke:y.fill||"none",strokeWidth:z,fill:"none"}}}class qi{constructor(g,y){this.canvas=g;
this.ctx=this.canvas.getContext("2d");this.gen=new Ch(y)}draw(g){const y=g.sets||[],z=g.options||this.getDefaultOptions(),M=this.ctx;for(const ca of y)switch(ca.type){case "path":M.save();M.strokeStyle="none"===z.stroke?"transparent":z.stroke;M.lineWidth=z.strokeWidth;z.strokeLineDash&&M.setLineDash(z.strokeLineDash);z.strokeLineDashOffset&&(M.lineDashOffset=z.strokeLineDashOffset);this._drawToContext(M,ca);M.restore();break;case "fillPath":M.save();M.fillStyle=z.fill||"";this._drawToContext(M,ca,
"curve"===g.shape||"polygon"===g.shape?"evenodd":"nonzero");M.restore();break;case "fillSketch":this.fillSketch(M,ca,z)}}fillSketch(g,y,z){let M=z.fillWeight;0>M&&(M=z.strokeWidth/2);g.save();z.fillLineDash&&g.setLineDash(z.fillLineDash);z.fillLineDashOffset&&(g.lineDashOffset=z.fillLineDashOffset);g.strokeStyle=z.fill||"";g.lineWidth=M;this._drawToContext(g,y);g.restore()}_drawToContext(g,y,z="nonzero"){g.beginPath();for(const M of y.ops){const ca=M.data;switch(M.op){case "move":g.moveTo(ca[0],ca[1]);
break;case "bcurveTo":g.bezierCurveTo(ca[0],ca[1],ca[2],ca[3],ca[4],ca[5]);break;case "lineTo":g.lineTo(ca[0],ca[1])}}"fillPath"===y.type?g.fill(z):g.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(g,y,z,M,ca){g=this.gen.line(g,y,z,M,ca);return this.draw(g),g}rectangle(g,y,z,M,ca){g=this.gen.rectangle(g,y,z,M,ca);return this.draw(g),g}ellipse(g,y,z,M,ca){g=this.gen.ellipse(g,y,z,M,ca);return this.draw(g),g}circle(g,y,z,M){g=this.gen.circle(g,y,z,M);
return this.draw(g),g}linearPath(g,y){g=this.gen.linearPath(g,y);return this.draw(g),g}polygon(g,y){g=this.gen.polygon(g,y);return this.draw(g),g}arc(g,y,z,M,ca,ja,ya=!1,wa){g=this.gen.arc(g,y,z,M,ca,ja,ya,wa);return this.draw(g),g}curve(g,y){g=this.gen.curve(g,y);return this.draw(g),g}path(g,y){g=this.gen.path(g,y);return this.draw(g),g}}class xk{constructor(g,y){this.svg=g;this.gen=new Ch(y)}draw(g){var y=g.sets||[];const z=g.options||this.getDefaultOptions(),M=this.svg.ownerDocument||window.document,
ca=M.createElementNS("http://www.w3.org/2000/svg","g");for(const ja of y){y=null;switch(ja.type){case "path":y=M.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("d",this.opsToPath(ja));y.setAttribute("stroke",z.stroke);y.setAttribute("stroke-width",z.strokeWidth+"");y.setAttribute("fill","none");z.strokeLineDash&&y.setAttribute("stroke-dasharray",z.strokeLineDash.join(" ").trim());z.strokeLineDashOffset&&y.setAttribute("stroke-dashoffset",`${z.strokeLineDashOffset}`);break;case "fillPath":y=
M.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("d",this.opsToPath(ja));y.setAttribute("stroke","none");y.setAttribute("stroke-width","0");y.setAttribute("fill",z.fill||"");"curve"!==g.shape&&"polygon"!==g.shape||y.setAttribute("fill-rule","evenodd");break;case "fillSketch":y=this.fillSketch(M,ja,z)}y&&ca.appendChild(y)}return ca}fillSketch(g,y,z){let M=z.fillWeight;0>M&&(M=z.strokeWidth/2);g=g.createElementNS("http://www.w3.org/2000/svg","path");return g.setAttribute("d",this.opsToPath(y)),
g.setAttribute("stroke",z.fill||""),g.setAttribute("stroke-width",M+""),g.setAttribute("fill","none"),z.fillLineDash&&g.setAttribute("stroke-dasharray",z.fillLineDash.join(" ").trim()),z.fillLineDashOffset&&g.setAttribute("stroke-dashoffset",`${z.fillLineDashOffset}`),g}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(g){return this.gen.opsToPath(g)}line(g,y,z,M,ca){g=this.gen.line(g,y,z,M,ca);return this.draw(g)}rectangle(g,y,z,M,ca){g=this.gen.rectangle(g,
y,z,M,ca);return this.draw(g)}ellipse(g,y,z,M,ca){g=this.gen.ellipse(g,y,z,M,ca);return this.draw(g)}circle(g,y,z,M){g=this.gen.circle(g,y,z,M);return this.draw(g)}linearPath(g,y){g=this.gen.linearPath(g,y);return this.draw(g)}polygon(g,y){g=this.gen.polygon(g,y);return this.draw(g)}arc(g,y,z,M,ca,ja,ya=!1,wa){g=this.gen.arc(g,y,z,M,ca,ja,ya,wa);return this.draw(g)}curve(g,y){g=this.gen.curve(g,y);return this.draw(g)}path(g,y){g=this.gen.path(g,y);return this.draw(g)}}const Qh={canvas:(g,y)=>new qi(g,
y),svg:(g,y)=>new xk(g,y),generator:g=>new Ch(g),newSeed:()=>Ch.newSeed()};var be=function(g){return null!=g&&"text"===g.type},Fg=function(g){return null!=g&&hj(g.type)},hj=function(g){return"arrow"===g||"line"===g||"draw"===g},og=function(g){return null!=g&&"arrow"===g.type},yk=function(g){return null!=g&&("rectangle"===g.type||"diamond"===g.type||"ellipse"===g.type||"text"===g.type)},Hf=function(g,y,z,M,ca){return[(g-z)*Math.cos(ca)-(y-M)*Math.sin(ca)+z,(g-z)*Math.sin(ca)+(y-M)*Math.cos(ca)+M]},
ij=function(g,y,z){return Hf(g[0],g[1],y[0],y[1],z)},Zf=function(g,y,z,M,ca,ja,ya,wa){var Da=Math.cos(M);M=Math.sin(M);return g.e&&g.w?y+=ca+ya:g.e?(y+=ca*(1+Da),z+=ca*M,y+=ya*(1-Da),z+=ya*-M):g.w&&(y+=ca*(1-Da),z+=ca*-M,y+=ya*(1+Da),z+=ya*M),g.n&&g.s?z+=ja+wa:g.n?(y+=ja*M,z+=ja*(1-Da),y+=wa*-M,z+=wa*(1+Da)):g.s&&(y+=ja*-M,z+=ja*(1+Da),y+=wa*M,z+=wa*(1-Da)),[y,z]},ei=function(g,y){if(void 0===y&&(y=1),3<=g.length){var z=[g[0],g[g.length-1]];g=z[0];z=z[1];return Math.hypot(z[0]-g[0],z[1]-g[1])<=hc.qx/
y}return!1},Ei=function(g,y,z){var M=g.length;if(3>M)return!1;var ca=[Number.MAX_SAFE_INTEGER,z];y=[y,z];for(var ja=z=0;ja<M;ja++){var ya=g[ja],wa=g[(ja+1)%M],Da=ya,Pa=wa,Ka=y,lb=ca,rb=jj(Da,Pa,Ka),sb=jj(Da,Pa,lb),dc=jj(Ka,lb,Da),Yb=jj(Ka,lb,Pa);if(rb!==sb&&dc!==Yb||0===rb&&zk(Da,Ka,Pa)||0===sb&&zk(Da,lb,Pa)||0===dc&&zk(Ka,Da,lb)||0===Yb&&zk(Ka,Pa,lb)){if(0===jj(ya,y,wa))return zk(ya,y,wa);z++}}return 1==z%2},zk=function(g,y,z){return y[0]<=Math.max(g[0],z[0])&&y[0]>=Math.min(g[0],z[0])&&y[1]<=Math.max(g[1],
z[1])&&y[1]>=Math.min(g[1],z[1])},jj=function(g,y,z){g=(y[1]-g[1])*(z[0]-y[0])-(y[0]-g[0])*(z[1]-y[1]);return 0===g?0:0<g?1:2},ri=function(g,y,z){return z?[Math.round(g/z)*z,Math.round(y/z)*z]:[g,y]},Gi=function(g,y,z){var M=z.map(function(Da){return Da[g]}),ca=Math.max.apply(Math,M);M=Math.min.apply(Math,M);ca-=M;var ja=0===ca?1:y/ca,ya=1/0;y=z.map(function(Da){return Da.map(function(Pa,Ka){if(Ka!==g)return Pa;Pa*=ja;return ya=Math.min(Pa,ya),Pa})});if(2===y.length)return y;var wa=M-ya;return y.map(function(Da){return Da.map(function(Pa,
Ka){return Ka===g?Pa+wa:Pa})})},ig=function(g){return Fg(g)?vj(g):[g.x,g.y,g.x+g.width,g.y+g.height]},Hi=function(g){for(var y=0,z=g.sets;y<z.length;y++){var M=z[y];if("path"===M.type)return M.ops}return g.sets[0].ops},Bk=function(g,y){var z=[0,0];g=g.reduce(function(M,ca){var ja,ya=ca.op;ca=ca.data;if("move"===ya)z=ca;else if("bcurveTo"===ya){var wa=[ca[0],ca[1]],Da=[ca[2],ca[3]],Pa=[ca[4],ca[5]],Ka=z;z=Pa;ya=function(sb,dc){return Math.pow(1-sb,3)*Pa[dc]+3*sb*Math.pow(1-sb,2)*Da[dc]+3*Math.pow(sb,
2)*(1-sb)*wa[dc]+Ka[dc]*Math.pow(sb,3)};for(ca=0;1>=ca;){var lb=ya(ca,0),rb=ya(ca,1);y&&(lb=(ja=y(lb,rb))[0],rb=ja[1]);M.minY=Math.min(M.minY,rb);M.minX=Math.min(M.minX,lb);M.maxX=Math.max(M.maxX,lb);M.maxY=Math.max(M.maxY,rb);ca+=.1}}return M},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[g.minX,g.minY,g.maxX,g.maxY]},vj=function(g){if(2>g.points.length||!wi.get(g)){var y=g.points.reduce(function(z,M){var ca=M[0];M=M[1];return z.minY=Math.min(z.minY,M),z.minX=Math.min(z.minX,ca),z.maxX=Math.max(z.maxX,
ca),z.maxY=Math.max(z.maxY,M),z},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[y.minX+g.x,y.minY+g.y,y.maxX+g.x,y.maxY+g.y]}y=wi.get(g);y=Hi(y[0]);y=Bk(y);return[y[0]+g.x,y[1]+g.y,y[2]+g.x,y[3]+g.y]},si=function(g){var y=ig(g),z=y[0],M=y[1],ca=y[2],ja=y[3];y=(z+ca)/2;var ya=(M+ja)/2;if(Fg(g))return function(lb,rb,sb){if(2>lb.points.length||!wi.get(lb)){var dc=lb.points.reduce(function(Yb,zc){var ed,id=zc[0];zc=zc[1];return id=(ed=Hf(lb.x+id,lb.y+zc,rb,sb,lb.angle))[0],zc=ed[1],Yb.minY=Math.min(Yb.minY,
zc),Yb.minX=Math.min(Yb.minX,id),Yb.maxX=Math.max(Yb.maxX,id),Yb.maxY=Math.max(Yb.maxY,zc),Yb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[dc.minX,dc.minY,dc.maxX,dc.maxY]}dc=wi.get(lb);dc=Hi(dc[0]);return Bk(dc,function(Yb,zc){return Hf(lb.x+Yb,lb.y+zc,rb,sb,lb.angle)})}(g,y,ya);if("diamond"===g.type){M=Hf(y,M,y,ya,g.angle);var wa=M[0];M=M[1];ja=Hf(y,ja,y,ya,g.angle);var Da=ja[0];ja=ja[1];var Pa=Hf(z,ya,y,ya,g.angle);z=Pa[0];Pa=Pa[1];ya=Hf(ca,ya,y,ya,g.angle);y=ya[0];ya=ya[1];return[Math.min(wa,
Da,z,y),Math.min(M,ja,Pa,ya),Math.max(wa,Da,z,y),Math.max(M,ja,Pa,ya)]}if("ellipse"===g.type)return ca=(ca-z)/2,wa=(ja-M)/2,M=Math.cos(g.angle),Da=Math.sin(g.angle),g=Math.hypot(ca*M,wa*Da),ca=Math.hypot(wa*M,ca*Da),[y-g,ya-ca,y+g,ya+ca];Da=Hf(z,M,y,ya,g.angle);wa=Da[0];Da=Da[1];Pa=Hf(z,ja,y,ya,g.angle);z=Pa[0];Pa=Pa[1];var Ka=Hf(ca,ja,y,ya,g.angle);ja=Ka[0];Ka=Ka[1];ya=Hf(ca,M,y,ya,g.angle);y=ya[0];ya=ya[1];return[Math.min(wa,z,ja,y),Math.min(Da,Pa,Ka,ya),Math.max(wa,z,ja,y),Math.max(Da,Pa,Ka,ya)]},
Bg=function(g){if(!g.length)return[0,0,0,0];var y=1/0,z=-1/0,M=1/0,ca=-1/0;return g.forEach(function(ja){ja=si(ja);var ya=ja[1],wa=ja[2],Da=ja[3];y=Math.min(y,ja[0]);M=Math.min(M,ya);z=Math.max(z,wa);ca=Math.max(ca,Da)}),[y,M,z,ca]},Pg=function(g,y,z){if(!Fg(g))return[g.x,g.y,g.x+y,g.y+z];y=Gi(0,y,Gi(1,z,g.points));z=Qh.generator();y="sharp"===g.strokeSharpness?z.linearPath(y,Th(g)):z.curve(y,Th(g));y=Hi(y);y=Bk(y);return[y[0]+g.x,y[1]+g.y,y[2]+g.x,y[3]+g.y]},Be=function(g,y,z){var M=Qh.generator();
y="sharp"===z?M.linearPath(y,Th(g)):M.curve(y,Th(g));y=Hi(y);y=Bk(y);return[y[0]+g.x,y[1]+g.y,y[2]+g.x,y[3]+g.y]};const Ee=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var vh=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},Jg=function(g){return[Ee.Q6[g],Ee.iQ[g],Ee.pl[g],Ee.ht[g],Ee.QN[g],Ee.iN[g],Ee.sl[g],Ee.$C[g],Ee.ek[g],Ee.LR[g],Ee.er[g],Ee.$y[g]]};const Ek={canvasBackground:vh([Ee.ix,Ee.MA[0],Ee.MA[1]],Jg(0)),elementBackground:vh(["transparent",Ee.MA[4],Ee.MA[6]],Jg(6)),elementStroke:vh([Ee.Sn,Ee.MA[8],Ee.MA[7]],Jg(9))};var $f=e(6207),Kg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Jj=/^Win/.test(window.navigator.platform),
cf=Kg?"metaKey":"ctrlKey",xg=function(g){return"ArrowLeft"===g||"ArrowRight"===g||"ArrowDown"===g||"ArrowUp"===g},kj=function(g){return g.charAt(0).toUpperCase()+g.slice(1)},Cg=function(g){return g instanceof HTMLElement&&"wysiwyg"===g.dataset.type||g instanceof HTMLBRElement||g instanceof HTMLTextAreaElement||g instanceof HTMLInputElement&&("text"===g.type||"number"===g.type)},Vi=function(g){var y=g.fontFamily;return"".concat(g.fontSize,"px ").concat("".concat(hc.ut[y],", ").concat(hc._D))},Wi=function(g,
y){var z=document.createElement("div"),M=document.body;z.style.position="absolute";z.style.whiteSpace="pre";z.style.font=y;M.appendChild(z);z.innerText=g.split("\n").map(function(ca){return ca||" "}).join("\n");g=z.offsetWidth;y=z.offsetHeight;M=document.createElement("span");M.style.display="inline-block";M.style.overflow="hidden";M.style.width="1px";M.style.height="1px";z.appendChild(M);M=M.offsetTop+M.offsetHeight;return document.body.removeChild(z),{width:g,height:y,baseline:M}},ti=function(g,
y){var z,M=0,ca=function(){for(var ja=[],ya=0;ya<arguments.length;ya++)ja[ya]=arguments[ya];z=ja;clearTimeout(M);M=window.setTimeout(function(){return g.apply(void 0,ja)},y)};return ca.flush=function(){clearTimeout(M);z&&g.apply(void 0,z)},ca.cancel=function(){clearTimeout(M)},ca},Ii=function(g){g&&(g.style.cursor="")},Ji=function(g,y){g&&(g.style.cursor=y)},ui=function(g,y){g&&("selection"===y?Ii(g):g.style.cursor=hc.oc.CROSSHAIR)},wh=function(){var g;return"HTML"===(null===(g=document.fullscreenElement)||
void 0===g?void 0:g.nodeName)},Wd=function(g){return g=g.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Kg?g.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):g.replace(/\bCtrlOrCmd\b/i,"Ctrl")},ug=function(g,y){var z=y.zoom,M=1/z.value;return{x:(g.clientX-z.translation.x-y.offsetLeft)*M-y.scrollX,y:(g.clientY-z.translation.y-y.offsetTop)*M-y.scrollY}},mh=function(g,y){var z=y.zoom;return{x:(g.sceneX+y.scrollX+
y.offsetLeft)*z.value+z.translation.x,y:(g.sceneY+y.scrollY+y.offsetTop)*z.value+z.translation.y}},ag=function(g){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(g))},xh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Dg=function(g){return{x:g[0],y:g[1]}},Gk=function(g){if("AbortError"!==(null==g?void 0:g.name))throw g;},bg=function(g){return function(y){(0,$f.unstable_batchedUpdates)(g,y)}},xl=function(g,y){var z,M=[{value:1,
symbol:"b"},{value:1E3,symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(z=M.length-1;0<z&&!(g>=M[z].value);z--);return(g/M[z].value).toFixed(y).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+M[z].symbol},Lf=function(){var g;return(null===(g=document.querySelector('meta[name\x3d"version"]'))||void 0===g?void 0:g.content)||hc.eQ},Dh=function(){var g=new Map,y=hc.rk,z=hc.n5,M=Ee.Sn,ca=hc.Hg,ja=window.innerHeight,ya="".concat(eb("labels.untitled"),"-"),wa=ya.concat;var Da=new Date;var Pa=Da.getFullYear();
var Ka="".concat(Da.getMonth()+1).padStart(2,"0"),lb="".concat(Da.getDate()).padStart(2,"0"),rb="".concat(Da.getHours()).padStart(2,"0");Da="".concat(Da.getMinutes()).padStart(2,"0");Pa="".concat(Pa,"-").concat(Ka,"-").concat(lb,"-").concat(rb).concat(Da);return{appearance:"light",collaborators:g,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:y,currentItemFontSize:z,currentItemLinearStrokeSharpness:"round",
currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:M,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:ca,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:ja,isBindingEnabled:!0,
isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:wa.call(ya,Pa),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Ee.ix,width:window.innerWidth,
zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},nh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,
export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,
export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,
export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,
export:!1},selectionElement:{browser:!1,export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},
vi=function(g,y){for(var z={},M=0,ca=Object.keys(g);M<ca.length;M++){var ja=ca[M],ya=nh[ja];null!=ya&&ya[y]&&(z[ja]=g[ja])}return z},pg=Dh(),Sh=[12,8],Yk=[3,6],fi=function(g,y,z){switch(z.globalAlpha=g.opacity/100,g.type){case "rectangle":case "diamond":case "ellipse":y.draw(wi.get(g));break;case "arrow":case "draw":case "line":wi.get(g).forEach(function(lb){y.draw(lb)});break;default:if(!be(g))throw Error("Unimplemented type ".concat(g.type));var M=xh.test(g.text),ca=M&&!z.canvas.isConnected;ca&&
document.body.appendChild(z.canvas);z.canvas.setAttribute("dir",M?"rtl":"ltr");M=z.font;z.font=Vi(g);var ja=z.fillStyle;z.fillStyle=g.strokeColor;var ya=z.textAlign;z.textAlign=g.textAlign;var wa=g.text.replace(/\r\n?/g,"\n").split("\n"),Da=g.height/wa.length,Pa=g.height-g.baseline;g="center"===g.textAlign?g.width/2:"right"===g.textAlign?g.width:0;for(var Ka=0;Ka<wa.length;Ka++)z.fillText(wa[Ka],g,(Ka+1)*Da-Pa);z.fillStyle=ja;z.font=M;z.textAlign=ya;ca&&z.canvas.remove()}z.globalAlpha=1},Hk=new WeakMap,
wi=new WeakMap,Th=function(g){var y={seed:g.seed,strokeLineDash:"dashed"===g.strokeStyle?Sh:"dotted"===g.strokeStyle?Yk:void 0,disableMultiStroke:"solid"!==g.strokeStyle,strokeWidth:"solid"!==g.strokeStyle?g.strokeWidth+.5:g.strokeWidth,fillWeight:g.strokeWidth/2,hachureGap:4*g.strokeWidth,roughness:g.roughness,stroke:g.strokeColor};switch(g.type){case "rectangle":case "diamond":case "ellipse":return y.fillStyle=g.fillStyle,y.fill="transparent"===g.backgroundColor?void 0:g.backgroundColor,"ellipse"===
g.type&&(y.curveFitting=1),y;case "line":case "draw":return ei(g.points)&&(y.fillStyle=g.fillStyle,y.fill="transparent"===g.backgroundColor?void 0:g.backgroundColor),y;case "arrow":return y;default:throw Error("Unimplemented type ".concat(g.type));}},Yj=function(g,y){var z=wi.get(g)||null;if(!z){switch(Hk.delete(g),g.type){case "rectangle":if("round"===g.strokeSharpness){z=g.width;var M=g.height,ca=.25*Math.min(z,M);z=y.path("M ".concat(ca," 0 L ").concat(z-ca," 0 Q ").concat(z," 0, ").concat(z," ").concat(ca,
" L ").concat(z," ").concat(M-ca," Q ").concat(z," ").concat(M,", ").concat(z-ca," ").concat(M," L ").concat(ca," ").concat(M," Q 0 ").concat(M,", 0 ").concat(M-ca," L 0 ").concat(ca," Q 0 0, ").concat(ca," 0"),Th(g))}else z=y.rectangle(0,0,g.width,g.height,Th(g));break;case "diamond":z=function(ya){var wa=Math.floor(ya.width/2)+1,Da=Math.floor(ya.height/2)+1;return[wa,0,ya.width,Da,wa,ya.height,0,Da]}(g);z=y.polygon([[z[0],z[1]],[z[2],z[3]],[z[4],z[5]],[z[6],z[7]]],Th(g));break;case "ellipse":z=
y.ellipse(g.width/2,g.height/2,g.width,g.height,Th(g));break;case "line":case "draw":case "arrow":var ja=Th(g);z=g.points.length?g.points:[[0,0]];if(z="sharp"===g.strokeSharpness?ja.fill?[y.polygon(z,ja)]:[y.linearPath(z,ja)]:[y.curve(z,ja)],"arrow"===g.type){M=g.startArrowhead;M=void 0===M?null:M;ca=g.endArrowhead;ca=void 0===ca?"arrow":ca;function ya(wa,Da,Pa,Ka){Da=function(dc,Yb,zc,ed){Yb=Hi(Yb[0]);if(1>Yb.length)return null;var id="start"===zc?1:Yb.length-1,vd=Yb[id].data,le=[vd[4],vd[5]],ke=
[vd[2],vd[3]],Oe=[vd[0],vd[1]];Yb=Yb[id-1];var Je=[0,0];"move"===Yb.op?Je=Yb.data:"bcurveTo"===Yb.op&&(Je=[Yb.data[4],Yb.data[5]]);id=function(zd,Zd){return Math.pow(1-zd,3)*le[Zd]+3*zd*Math.pow(1-zd,2)*ke[Zd]+3*Math.pow(zd,2)*(1-zd)*Oe[Zd]+Je[Zd]*Math.pow(zd,3)};Yb="start"===zc?Je:le;zc=Yb[0];Yb=Yb[1];vd=[id(.3,0),id(.3,1)];id=vd[0];vd=vd[1];var df=Math.hypot(zc-id,Yb-vd);id=(zc-id)/df;vd=(Yb-vd)/df;df={arrow:30,bar:15,dot:15}[ed];dc=dc.points.reduce(function(zd,Zd,je,$e){je=0<je?$e[je-1]:[0,0];
return zd+Math.hypot(Zd[0]-je[0],Zd[1]-je[1])},0);df=Math.min(df,dc/2);dc=zc-id*df;id=Yb-vd*df;if("dot"===ed)return[zc,Yb,Math.hypot(id-Yb,dc-zc)];vd={arrow:20,bar:90}[ed];df=Hf(dc,id,zc,Yb,-vd*Math.PI/180);ed=df[0];df=df[1];dc=Hf(dc,id,zc,Yb,vd*Math.PI/180);return[zc,Yb,ed,df,dc[0],dc[1]]}(wa,Da,Pa,Ka);if(null===Da)return[];if("dot"===Ka)return[y.circle(Da[0],Da[1],Da[2],$b($b({},ja),{},{fill:wa.strokeColor,fillStyle:"solid"}))];Ka=Da[0];Pa=Da[1];var lb=Da[2],rb=Da[3],sb=Da[4];Da=Da[5];return"dotted"===
wa.strokeStyle?ja.strokeLineDash=[3,4]:delete ja.strokeLineDash,[y.line(lb,rb,Ka,Pa,ja),y.line(sb,Da,Ka,Pa,ja)]}null!==M&&(M=ya(g,z,"start",M),z.push.apply(z,M));null!==ca&&(M=ya(g,z,"end",ca),z.push.apply(z,M))}break;case "text":z=[]}wi.set(g,z)}},on=function(g,y,z,M,ca){var ja=y.generator;switch(g.type){case "selection":z.translate(g.x+ca.scrollX,g.y+ca.scrollY);y=z.fillStyle;z.fillStyle="rgba(0, 0, 255, 0.10)";z.fillRect(0,0,g.width,g.height);z.fillStyle=y;z.translate(-g.x-ca.scrollX,-g.y-ca.scrollY);
break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Yj(g,ja),M){y=ca?ca.zoom:pg.zoom;ja=(M=Hk.get(g))&&M.canvasZoom!==y.value&&!(null!=ca&&ca.shouldCacheIgnoreZoom);if(!M||ja){M=document.createElement("canvas");ja=M.getContext("2d");var ya=0,wa=0;if(Fg(g)){ya=ig(g);var Da=ya[0];wa=ya[1];var Pa=ya[3];M.width=Math.abs(Da-ya[2])*window.devicePixelRatio*y.value+40*y.value;M.height=Math.abs(wa-Pa)*window.devicePixelRatio*y.value+40*y.value;ya=g.x>Da?
Math.floor(Math.abs(g.x-Da))*window.devicePixelRatio*y.value:0;wa=g.y>wa?Math.floor(Math.abs(g.y-wa))*window.devicePixelRatio*y.value:0;ja.translate(ya,wa)}else M.width=g.width*window.devicePixelRatio*y.value+40*y.value,M.height=g.height*window.devicePixelRatio*y.value+40*y.value;ja.translate(20*y.value,20*y.value);ja.scale(window.devicePixelRatio*y.value,window.devicePixelRatio*y.value);Da=Qh.canvas(M);y=(fi(g,Da,ja),ja.translate(-20*y.value,-20*y.value),ja.scale(1/(window.devicePixelRatio*y.value),
1/(window.devicePixelRatio*y.value)),{element:g,canvas:M,canvasZoom:y.value,canvasOffsetX:ya,canvasOffsetY:wa});g=(Hk.set(g,y),y)}else g=M;y=g.element;ya=ig(y);M=ya[0];ja=ya[1];wa=ya[2];ya=ya[3];Da=((M+wa)/2+ca.scrollX)*window.devicePixelRatio;ca=((ja+ya)/2+ca.scrollY)*window.devicePixelRatio;z.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);z.translate(Da,ca);z.rotate(y.angle);z.drawImage(g.canvas,-(wa-M)/2*window.devicePixelRatio-20*g.canvasZoom/g.canvasZoom,-(ya-ja)/2*window.devicePixelRatio-
20*g.canvasZoom/g.canvasZoom,g.canvas.width/g.canvasZoom,g.canvas.height/g.canvasZoom);z.rotate(-y.angle);z.translate(-Da,-ca);z.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else ja=ig(g),wa=ja[0],M=ja[1],ya=ja[2],Da=ja[3],ja=(wa+ya)/2+ca.scrollX,ca=(M+Da)/2+ca.scrollY,wa=(ya-wa)/2-(g.x-wa),M=(Da-M)/2-(g.y-M),z.translate(ja,ca),z.rotate(g.angle),z.translate(-wa,-M),fi(g,y,z),z.translate(wa,M),z.rotate(-g.angle),z.translate(-ja,-ca);break;default:throw Error("Unimplemented type ".concat(g.type));
}},yh=function(){function g(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return g.mapElementToScene=function(y,z){"string"==typeof y?this.sceneMapById.set(y,z):this.sceneMapByElement.set(y,z)},g.getScene=function(y){return"string"==typeof y?this.sceneMapById.get(y)||null:this.sceneMapByElement.get(y)||null},g.prototype.getElementsIncludingDeleted=function(){return this.elements},g.prototype.getElements=function(){return this.nonDeletedElements},g.prototype.getElement=
function(y){return this.elementsMap.get(y)||null},g.prototype.getNonDeletedElement=function(y){return(y=this.getElement(y))&&!y.isDeleted?y:null},g.prototype.getNonDeletedElements=function(y){var z=this,M=[];return y.forEach(function(ca){ca=z.getNonDeletedElement(ca);null!=ca&&M.push(ca)}),M},g.prototype.replaceAllElements=function(y){var z=this;this.elements=y;this.elementsMap.clear();y.forEach(function(M){z.elementsMap.set(M.id,M);g.mapElementToScene(M,z)});this.nonDeletedElements=ge(this.elements);
this.informMutation()},g.prototype.informMutation=function(){for(var y=0,z=Array.from(this.callbacks);y<z.length;y++)(0,z[y])()},g.prototype.addCallback=function(y){var z=this;if(this.callbacks.has(y))throw Error();return this.callbacks.add(y),function(){if(!z.callbacks.has(y))throw Error();z.callbacks.delete(y)}},g.prototype.destroy=function(){var y=this;g.sceneMapById.forEach(function(z,M){z===y&&g.sceneMapById.delete(M)});this.callbacks.clear()},g}();yh.sceneMapByElement=new WeakMap;yh.sceneMapById=
new Map;var Pm=new Se(Date.now()),Zj=function(){return Math.floor(Pm.next()*Math.pow(2,31))},xi=function(){return((g=21)=>{let y="",z=crypto.getRandomValues(new Uint8Array(g));for(;g--;){let M=63&z[g];y+=36>M?M.toString(36):62>M?(M-26).toString(36).toUpperCase():63>M?"_":"-"}return y})()},jf=function(g,y){var z,M=!1,ca=y.points,ja;for(ja in void 0!==ca&&(y=zb(zb({},function(sb){var dc=sb.map(function(Yb){return Yb[0]});sb=sb.map(function(Yb){return Yb[1]});return{width:Math.max.apply(Math,dc)-Math.min.apply(Math,
dc),height:Math.max.apply(Math,sb)-Math.min.apply(Math,sb)}}(ca)),y)),y){var ya=y[ja];if(void 0!==ya&&(g[ja]!==ya||"object"==typeof ya&&null!==ya&&"groupIds"!==ja)){if("points"===ja){var wa=g[ja],Da=ya;if(wa.length===Da.length){for(var Pa=!1,Ka=wa.length;--Ka;){var lb=wa[Ka],rb=Da[Ka];if(lb[0]!==rb[0]||lb[1]!==rb[1]){Pa=!0;break}}if(!Pa)continue}}g[ja]=ya;M=!0}}M&&(void 0===y.height&&void 0===y.width&&void 0===ca||wi.delete(g),g.version++,g.versionNonce=Zj(),null===(z=yh.getScene(g))||void 0===z||
z.informMutation())},yg=function(g,y){return zb(zb(zb({},g),y),{},{version:g.version+1,versionNonce:Zj()})},Rh=function(g){return Fg(g)?2>g.points.length:0===g.width&&0===g.height},Ye=function(g,y,z){var M=Math.abs(y),ca=Math.abs(z);"line"===g||"arrow"===g||"draw"===g?(g=Math.round(Math.atan(ca/M)/hc.ay)*hc.ay,0===g?z=0:g===Math.PI/2?y=0:z=Math.round(M*Math.tan(g))*Math.sign(z)||z):"selection"!==g&&(z=M*Math.sign(z));return{width:y,height:z}},Ml=function(g){var y={width:g.width,height:g.height,x:g.x,
y:g.y};if(0>g.width){var z=Math.abs(g.width);y.width=z;y.x=g.x-z}0>g.height&&(z=Math.abs(g.height),y.height=z,y.y=g.y-z);return y},Of=e(5474),Vh=e.n(Of),zl=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},bk=function(g,y,z){var M,ca;z=z.filter(function(ja){return ja.groupIds.includes(g)});return 2>z.length?y.selectedGroupIds[g]||y.editingGroupId===g?cb(cb({},y),{},{selectedGroupIds:cb(cb({},y.selectedGroupIds),{},(M={},M[g]=!1,M)),editingGroupId:null}):y:cb(cb({},
y),{},{selectedGroupIds:cb(cb({},y.selectedGroupIds),{},(ca={},ca[g]=!0,ca)),selectedElementIds:cb(cb({},y.selectedElementIds),Object.fromEntries(z.map(function(ja){return[ja.id,!0]})))})},zh=function(g,y){return y.groupIds.filter(function(z){return z!==g.editingGroupId}).find(function(z){return g.selectedGroupIds[z]})},Li=function(g){return Object.entries(g.selectedGroupIds).filter(function(y){y[0];return y[1]}).map(function(y){var z=y[0];y[1];return z})},Wh=function(g,y){for(var z=cb({},g),M=0,
ca=uf(y,g);M<ca.length;M++){var ja=ca[M].groupIds;if(g.editingGroupId){var ya=ja.indexOf(g.editingGroupId);-1<ya&&(ja=ja.slice(0,ya))}0<ja.length&&(z=bk(ja[ja.length-1],z,y))}return z},ck=function(g,y){return g.filter(function(z){return z.groupIds.includes(y)})},yj=function(g,y){var z,M,ca=y.x,ja=y.y,ya=y.strokeColor,wa=y.backgroundColor,Da=y.fillStyle,Pa=y.strokeWidth,Ka=y.strokeStyle,lb=y.roughness,rb=y.opacity,sb=y.width;sb=void 0===sb?0:sb;var dc=y.height;dc=void 0===dc?0:dc;var Yb=y.angle;Yb=
void 0===Yb?0:Yb;var zc=y.groupIds;zc=void 0===zc?[]:zc;var ed=y.strokeSharpness,id=y.boundElementIds;id=void 0===id?null:id;y=Vh()(y,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));return{id:y.id||xi(),type:g,x:ca,y:ja,width:sb,height:dc,angle:Yb,strokeColor:ya,backgroundColor:wa,fillStyle:Da,strokeWidth:Pa,strokeStyle:Ka,roughness:lb,opacity:rb,groupIds:zc,strokeSharpness:ed,seed:null!==
(z=y.seed)&&void 0!==z?z:Zj(),version:y.version||1,versionNonce:null!==(M=y.versionNonce)&&void 0!==M?M:0,isDeleted:!1,boundElementIds:id}},Ol=function(g){return yj(g.type,g)},Xh=function(g,y){return{x:"center"===g.textAlign?y.width/2:"right"===g.textAlign?y.width:0,y:"middle"===g.verticalAlign?y.height/2:0}},Kj=function(g){var y=Wi(g.text,Vi(g)),z=Xh(g,y);return yg(Ha(Ha({},yj("text",g)),{},{text:g.text,fontSize:g.fontSize,fontFamily:g.fontFamily,textAlign:g.textAlign,verticalAlign:g.verticalAlign,
x:g.x-z.x,y:g.y-z.y,width:y.width,height:y.height,baseline:y.baseline}),{})},Te=function(g){return Ha(Ha({},yj(g.type,g)),{},{points:g.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:g.startArrowhead,endArrowhead:g.endArrowhead})},Lj=function(g,y){if(void 0===y&&(y=0),null==g||"object"!=typeof g)return g;if("[object Object]"===Object.prototype.toString.call(g)){var z="function"==typeof g.constructor?Object.create(Object.getPrototypeOf(g)):{},M;for(M in g)g.hasOwnProperty(M)&&
(0!==y||"shape"!==M&&"canvas"!==M)&&(z[M]=Lj(g[M],y+1));return z}if(Array.isArray(g)){z=g.length;for(M=Array(z);z--;)M[z]=Lj(g[z],y+1);return M}return g},Yi=function(g,y,z,M){z=Lj(z);return z.id=xi(),z.seed=Zj(),z.groupIds=function(ca,ja,ya){var wa=zl([],ca);ja=ja?ca.indexOf(ja):-1;ca=-1<ja?ja:ca.length;for(ja=0;ja<ca;ja++)wa[ja]=ya(wa[ja]);return wa}(z.groupIds,g,function(ca){return y.has(ca)||y.set(ca,xi()),y.get(ca)}),M&&(z=Object.assign(z,M)),z},Re={mouse:8,pen:16,touch:28},Al={e:!0,s:!0,n:!0,
w:!0},Ql={e:!0,s:!0,n:!0,w:!0},Yh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},zj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},eh=function(g,y,z,M,ca,ja,ya){g=Hf(g+z/2,y+M/2,ca,ja,ya);return[g[0]-z/2,g[1]-M/2,z,M]},Fk=function(g,y,z,M,ca){var ja=g[0],ya=g[1],wa=g[2];g=g[3];void 0===ca&&(ca={});var Da=Re[M];M=Da/z.value;var Pa=Da/z.value,Ka=Da/z.value,lb=Da/z.value,rb=wa-ja,sb=g-ya,dc=(ja+wa)/2,Yb=(ya+g)/2,zc=4/z.value;Da=(Da-8)/(2*z.value);var ed={nw:ca.nw?void 0:eh(ja-zc-Ka+Da,ya-zc-lb+Da,M,Pa,dc,Yb,y),ne:ca.ne?void 0:
eh(wa+zc-Da,ya-zc-lb+Da,M,Pa,dc,Yb,y),sw:ca.sw?void 0:eh(ja-zc-Ka+Da,g+zc-Da,M,Pa,dc,Yb,y),se:ca.se?void 0:eh(wa+zc-Da,g+zc-Da,M,Pa,dc,Yb,y),rotation:ca.rotation?void 0:eh(ja+rb/2-M/2,ya-zc-lb+Da-16/z.value,M,Pa,dc,Yb,y)};z=5*Re.mouse/z.value;return Math.abs(rb)>z&&(ca.n||(ed.n=eh(ja+rb/2-M/2,ya-zc-lb+Da,M,Pa,dc,Yb,y)),ca.s||(ed.s=eh(ja+rb/2-M/2,g+zc-Da,M,Pa,dc,Yb,y))),Math.abs(sb)>z&&(ca.w||(ed.w=eh(ja-zc-Ka+Da,ya+sb/2-Pa/2,M,Pa,dc,Yb,y)),ca.e||(ed.e=eh(wa+zc-Da,ya+sb/2-Pa/2,M,Pa,dc,Yb,y))),ed},
wj=function(g,y,z){void 0===z&&(z="mouse");var M={};if("arrow"===g.type||"line"===g.type||"draw"===g.type){if(2===g.points.length){var ca=g.points[1];0===ca[0]||0===ca[1]?M=zj:0<ca[0]&&0>ca[1]?M=Yh:0<ca[0]&&0<ca[1]?M=zj:0>ca[0]&&0<ca[1]?M=Yh:0>ca[0]&&0>ca[1]&&(M=zj)}}else"text"===g.type&&(M=Ql);return Fk(ig(g),g.angle,y,z,M)},zi=function(g,y){return[0,0,0,0,y,g,1,0]},Yg=function(g,y){void 0===g&&(g=0);void 0===y&&(y=0);var z=[0,0,0,0,0,0,0,0];if(0>y||7<y)throw Error("Expected `index` betwen 0 and 7, got `".concat(y,
"`"));return 0!==g&&(z[y]=g),z},Ih=function(g){return[g[0],g[1],g[2],g[3],-g[4],-g[5],-g[6],-g[7]]},yl=function(g,y){return"number"==typeof y?[g[0]-y,g[1],g[2],g[3],g[4],g[5],g[6],g[7]]:[g[0]-y[0],g[1]-y[1],g[2]-y[2],g[3]-y[3],g[4]-y[4],g[5]-y[5],g[6]-y[6],g[7]-y[7]]},Jk=function(g,y){return"number"==typeof y?[g[0]*y,g[1]*y,g[2]*y,g[3]*y,g[4]*y,g[5]*y,g[6]*y,g[7]*y]:[y[0]*g[0]+y[2]*g[2]+y[3]*g[3]-y[6]*g[6],y[1]*g[0]+y[0]*g[1]-y[4]*g[2]+y[5]*g[3]+y[2]*g[4]-y[3]*g[5]-y[7]*g[6]-y[6]*g[7],y[2]*g[0]+y[0]*
g[2]-y[6]*g[3]+y[3]*g[6],y[3]*g[0]+y[6]*g[2]+y[0]*g[3]-y[2]*g[6],y[4]*g[0]+y[2]*g[1]-y[1]*g[2]+y[7]*g[3]+y[0]*g[4]+y[6]*g[5]-y[5]*g[6]+y[3]*g[7],y[5]*g[0]-y[3]*g[1]+y[7]*g[2]+y[1]*g[3]-y[6]*g[4]+y[0]*g[5]+y[4]*g[6]+y[2]*g[7],y[6]*g[0]+y[3]*g[2]-y[2]*g[3]+y[0]*g[6],y[7]*g[0]+y[6]*g[1]+y[5]*g[2]+y[4]*g[3]+y[3]*g[4]+y[2]*g[5]+y[1]*g[6]+y[0]*g[7]]},gk=function(g,y){return[Mj(g,y),g[1]*y[7]+g[4]*y[5]-g[5]*y[4]+g[7]*y[1],g[2]*y[7]-g[4]*y[6]+g[6]*y[4]+g[7]*y[2],g[3]*y[7]+g[5]*y[6]-g[6]*y[5]+g[7]*y[3],g[4]*
y[7]+g[7]*y[4],g[5]*y[7]+g[7]*y[5],g[6]*y[7]+g[7]*y[6],g[7]*y[7]]},Mj=function(g,y){return g[0]*y[7]+g[1]*y[6]+g[2]*y[5]+g[3]*y[4]+g[4]*y[3]+g[5]*y[2]+g[6]*y[1]+g[7]*y[0]},Sm=function(g){return Math.sqrt(Math.abs(g[0]*g[0]-g[2]*g[2]-g[3]*g[3]+g[6]*g[6]))},lj=function(g){var y=Sm(g);return 0===y||1===y?g:Jk(g,(0>g[6]?-1:1)/y)},Nl=(Yg(1,1),Yg(1,2),Yg(1,3),Yg(1,4),Yg(1,5),Yg(1,6),Yg(1,7),function(g,y,z){return lj([0,z,g,y,0,0,0,0])}),dk=function(g,y){return z=g,[(M=y)[0]*z[0]+M[2]*z[2]+M[3]*z[3]-M[6]*
z[6],M[1]*z[0]+M[0]*z[1]-M[4]*z[2]+M[5]*z[3]+M[2]*z[4]-M[3]*z[5]-M[7]*z[6]-M[6]*z[7],M[2]*z[0]+M[0]*z[2]-M[6]*z[3]+M[3]*z[6],M[3]*z[0]+M[6]*z[2]+M[0]*z[3]-M[2]*z[6],M[4]*z[0]+M[7]*z[3]+M[0]*z[4]+M[3]*z[7],M[5]*z[0]+M[7]*z[2]+M[0]*z[5]+M[2]*z[7],M[6]*z[0]+M[0]*z[6],M[7]*z[0]+M[0]*z[7]];var z,M},ek=function(g){return[0,0,0,0,g[1],g[0],1,0]},hi=function(g){return[g[5],g[4]]},oj=function(g,y){return z=Jk(g,Math.sin(y/2)),M=Math.cos(y/2),"number"==typeof M?[z[0]+M,z[1],z[2],z[3],z[4],z[5],z[6],z[7]]:[z[0]+
M[0],z[1]+M[1],z[2]+M[2],z[3]+M[3],z[4]+M[4],z[5]+M[5],z[6]+M[6],z[7]+M[7]];var z,M},Ni=function(g,y){return lj(Jk(Jk(g,y),Ih(g)))},Lk=function(g,y,z,M){var ca=10/y.zoom.value;return!fk(g,y,[z,M])&&Rl(g,[z,M],ca)},fk=function(g,y,z){y=10/y.zoom.value;if("text"===g.type)var M=dm;else"arrow"===g.type?M=!1:(M="transparent"!==g.backgroundColor,M="line"===g.type||"draw"===g.type?M&&ei(g.points):M),M=M?ik:Ik;return nj({element:g,point:z,threshold:y,check:M})},Rl=function(g,y,z){var M=y[0],ca=y[1],ja=ig(g);
y=ja[0];var ya=ja[1],wa=ja[2];ja=ja[3];M=Hf(M,ca,(y+wa)/2,(ya+ja)/2,-g.angle);g=M[0];M=M[1];return g>y-z&&g<wa+z&&M>ya-z&&M<ja+z},Mk=function(g,y){var z=y.x;y=y.y;var M=Zi(g,g.width,g.height);return nj({element:g,point:[z,y],threshold:M,check:Gn})},Zi=function(g,y,z){return Math.max(16,Math.min(.25*("diamond"===g.type?1/Math.sqrt(2):1)*Math.min(y,z),32))},nj=function(g){switch(g.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var y=cm(g.element,g.point);return g.check(y,g.threshold);
case "arrow":case "line":case "draw":return eo(g);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},cm=function(g,y){switch(g.type){case "rectangle":case "text":var z=Ui(g,y),M=z[1],ca=z[2];g=Math;y=g.max;z=Nl(0,1,-z[3]);z=Mj(M,z);ca=Nl(1,0,-ca);M=Mj(M,ca);return y.call(g,z,M);case "diamond":return M=Ui(g,y),g=M[1],y=M[2],M=M[3],y=Nl(M,y,-M*y),Mj(g,y);case "ellipse":return g=qn(g,y),y=g[1],-Math.sign(y[1])*Mj(g[0],y)}},dm=function(g,y){return 0>
g},ik=function(g,y){return g<y},Ik=function(g,y){return Math.abs(g)<y},Gn=function(g,y){return 0<=g&&g<y},qn=function(g,y){y=Ui(g,y);g=y[1];var z=y[2],M=y[3];y=hi(g);var ca=y[0],ja=y[1],ya=.707,wa=.707;[0,1,2,3].forEach(function(Da){Da=(z*z-M*M)*Math.pow(ya,3)/z;var Pa=(M*M-z*z)*Math.pow(wa,3)/M,Ka=ca-Da,lb=ja-Pa,rb=Math.hypot(M*wa-Pa,z*ya-Da),sb=Math.hypot(lb,Ka);ya=Math.min(1,Math.max(0,(Ka*rb/sb+Da)/z));wa=Math.min(1,Math.max(0,(lb*rb/sb+Pa)/M));Da=Math.hypot(wa,ya);ya/=Da;wa/=Da});y=zi(z*ya,M*
wa);return[g,dk(lj(gk(y,g)),y)]},eo=function(g){var y=g.element,z=g.threshold;if(!wi.get(y))return!1;var M=Ui(g.element,g.point),ca=M[0],ja=M[1],ya=M[2];M=Nl(0,1,-M[3]);ya=Nl(1,0,-ya);if(!ik(Mj(ja,M),z)||!ik(Mj(ja,ya),z))return!1;ca=hi(ca);var wa=ca[0],Da=ca[1];ca=wi.get(y);return g.check===ik&&ca.some(function(Pa){var Ka=y.strokeSharpness;var lb=[],rb=!1,sb=0;for(Pa=Hi(Pa);sb<Pa.length;sb++){var dc=Pa[sb];"move"===dc.op?(rb=!rb)&&lb.push([dc.data[0],dc.data[1]]):"bcurveTo"===dc.op&&rb&&(lb.push([dc.data[0],
dc.data[1]]),lb.push([dc.data[2],dc.data[3]]),lb.push([dc.data[4],dc.data[5]]))}4<=lb.length?"sharp"===Ka?Ka=Ei(lb,wa,Da):(Ka=G(lb,10,5),Ka=Ei(Ka,wa,Da)):Ka=!1;return Ka})?!0:ca.some(function(Pa){return Xk(Pa,wa,Da,z)})},Ui=function(g,y){var z,M=ek(y);y=ig(g);var ca=Sl(y),ja=oj(ca,g.angle);M=Ni(ja,M);ca=yl(M,[0,0,0,0,ca[4],ca[5],0,0]);ca=[0,0,0,0,Math.abs(ca[4]),Math.abs(ca[5]),1,0];g=(z=g.x,[0,0,0,0,g.y,z,0,0]);return[yl(M,g),ca,(y[2]-y[0])/2,(y[3]-y[1])/2]},Ll=function(g){var y=ig(g);y=Sl(y);g=
oj(y,g.angle);y=[0,0,0,0,y[4],y[5],0,0];y=Ih([1,0,0,0,-.5*y[5],.5*y[4],0,0]);return Jk(y,g)},Sl=function(g){return zi((g[0]+g[2])/2,(g[1]+g[3])/2)},Ak=function(g,y,z,M){switch(void 0===M&&(M=0),g.type){case "rectangle":case "text":case "diamond":var ca=Ag(g);var ja=ca.flatMap(function(ya,wa){wa=[ya,ca[(wa+1)%4]];var Da=M;ya=wa[0];wa=wa[1];var Pa=[0,0,0,0,wa[4]-ya[4],wa[5]-ya[5],0,0];var Ka=Math.sqrt(Math.abs(Pa[7]*Pa[7]-Pa[5]*Pa[5]-Pa[4]*Pa[4]+Pa[1]*Pa[1]));Pa=0===Ka||1===Ka?Pa:Jk(Pa,1/Ka);Da*=.5;
Da=[1,0,0,0,Da*Pa[4],Da*Pa[5],0,0];wa=[Ni(Da,ya),Ni(Da,wa)];ya=wa[0];wa=wa[1];if(0<=Mj(ya,y)*Mj(wa,y))var lb=[];else{a:{ya=lj(gk(wa,ya));ya=lj((lb=y,[(rb=ya)[0]*lb[0],rb[1]*lb[0]+rb[0]*lb[1],rb[2]*lb[0]+rb[0]*lb[2],rb[3]*lb[0]+rb[0]*lb[3],rb[4]*lb[0]+rb[2]*lb[1]-rb[1]*lb[2]+rb[0]*lb[4],rb[5]*lb[0]-rb[3]*lb[1]+rb[1]*lb[3]+rb[0]*lb[5],rb[6]*lb[0]+rb[3]*lb[2]-rb[2]*lb[3]+rb[0]*lb[6],rb[7]*lb[0]+rb[6]*lb[1]+rb[5]*lb[2]+rb[4]*lb[3]+rb[3]*lb[4]+rb[2]*lb[5]+rb[1]*lb[6]]));break a;var rb}lb=[ya]}return lb}).concat(ca.flatMap(function(ya){var wa=
M;if(0===wa)var Da=0===Mj(y,ya)?[ya]:[];else{Da=y[2];var Pa=y[3],Ka=y[1],lb=hi(ya);ya=lb[0];var rb=lb[1];lb=Da*Da+Pa*Pa;wa=wa*wa*lb-Math.pow(Da*ya+Pa*rb+Ka,2);if(0===lb||0>=wa)Da=[];else{wa=Math.sqrt(wa);var sb=ya*Pa*Pa-rb*Da*Pa-Da*Ka;Ka=rb*Da*Da-ya*Da*Pa-Pa*Ka;Da=[zi((sb+Pa*wa)/lb,(Ka-Da*wa)/lb),zi((sb-Pa*wa)/lb,(Ka+Da*wa)/lb)]}}return Da}));break;case "ellipse":ja=Fi(g,M,y)}if(2>ja.length)return[];g=ja.sort(function(ya,wa){return Sm(gk(ya,z))-Sm(gk(wa,z))});return[g[0],g[g.length-1]]},Ag=function(g,
y){void 0===y&&(y=1);var z=y*g.width/2;y=y*g.height/2;switch(g.type){case "rectangle":case "text":return[zi(z,y),zi(z,-y),zi(-z,-y),zi(-z,y)];case "diamond":return[zi(0,y),zi(z,0),zi(0,-y),zi(-z,0)]}},Fi=function(g,y,z){var M=g.width/2+y;g=g.height/2+y;y=z[2];var ca=z[3],ja=z[1];z=M*M*y*y+g*g*ca*ca;var ya=z-ja*ja;if(0===z||0>=ya)return[];ya=Math.sqrt(ya);var wa=-M*M*y*ja;ja*=-g*g*ca;return[zi((wa+M*g*ca*ya)/z,(ja-M*g*y*ya)/z),zi((wa-M*g*ca*ya)/z,(ja+M*g*y*ya)/z)]},oh=function(g,y,z){var M=Math.sign(y),
ca=0,ja=null;return Ag(g,Math.abs(y)).forEach(function(ya){var wa=M*lj(gk(ya,z))[1];wa>ca&&(ca=wa,ja=ya)}),ja},Xk=function(g,y,z,M){var ca=[0,0];return Hi(g).some(function(ja,ya){ya=ja.op;var wa=ja.data;if("move"===ya)ca=wa;else if("bcurveTo"===ya){ja=[wa[0],wa[1]];ya=[wa[2],wa[3]];wa=[wa[4],wa[5]];var Da=ca;return ca=wa,function(Pa,Ka,lb,rb,sb,dc){var Yb=sb[0];sb=sb[1];for(var zc=function(le,ke){return Math.pow(1-le,3)*rb[ke]+3*le*Math.pow(1-le,2)*lb[ke]+3*Math.pow(le,2)*(1-le)*Ka[ke]+Pa[ke]*Math.pow(le,
3)},ed=0;1>=ed;){var id=zc(ed,0),vd=zc(ed,1);if(Math.sqrt(Math.pow(id-Yb,2)+Math.pow(vd-sb,2))<dc)return!0;ed+=.01}return!1}(Da,ja,ya,wa,[y,z],M)}return!1})},dh=function(g,y,z){return y>=g[0]&&y<=g[0]+g[2]&&z>=g[1]&&z<=g[1]+g[3]},Oi=function(g,y,z,M,ca,ja){return g.reduce(function(ya,wa){return ya?ya:(ya=function(Da,Pa,Ka,lb,rb,sb){if(!Pa.selectedElementIds[Da.id])return!1;Da=wj(Da,rb,sb);Pa=Da.rotation;var dc=Vh()(Da,["rotation"]);if(Pa&&dh(Pa,Ka,lb))return"rotation";Da=Object.keys(dc).filter(function(Yb){Yb=
dc[Yb];return!!Yb&&dh(Yb,Ka,lb)});return 0<Da.length&&Da[0]}(wa,y,z,M,ca,ja))?{element:wa,transformHandleType:ya}:null},null)},of=function(g,y,z,M,ca){var ja=Fk([g[0],g[1],g[2],g[3]],0,M,ca,Al);return Object.keys(ja).find(function(ya){return(ya=ja[ya])&&dh(ya,y,z)})||!1},Ah=["ns","nesw","ew","nwse"],Ie=function(g){var y=g.element,z=y&&-1==Math.sign(y.height)*Math.sign(y.width),M=null;switch(g.transformHandleType){case "n":case "s":M="ns";break;case "w":case "e":M="ew";break;case "nw":case "se":M=
z?"nesw":"nwse";break;case "ne":case "sw":M=z?"nwse":"nesw";break;case "rotation":return"grab"}M&&y&&(g=M,y=y.angle,z=Ah.indexOf(g),0<=z&&(g=Ah[(z+Math.round(y/(Math.PI/4)))%Ah.length]),M=g);return M?"".concat(M,"-resize"):""},dl=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},dg=function(){function g(y,z){this.elementId=y.id;yh.mapElementToScene(this.elementId,z);g.normalizePoints(y);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset=
{x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return g.getElement=function(y){var z;return(null===(z=yh.getScene(y))||void 0===z?void 0:z.getNonDeletedElement(y))||null},g.handlePointDragging=function(y,z,M,ca,ja){if(!y.editingLinearElement)return!1;var ya=y.editingLinearElement,wa=ya.activePointIndex,Da=ya.isDragging,Pa=g.getElement(ya.elementId);return Pa?null!=wa&&-1<wa?(!1===Da&&z({editingLinearElement:hb(hb({},ya),{},{isDragging:!0})}),y=g.createPointAt(Pa,M-ya.pointerOffset.x,
ca-ya.pointerOffset.y,y.gridSize),g.movePoint(Pa,wa,y),og(Pa)&&ja(Pa,0===wa?"start":"end"),!0):!1:!1},g.handlePointerUp=function(y,z,M){y=z.activePointIndex;var ca=z.isDragging,ja=g.getElement(z.elementId);if(!ja)return z;var ya={};!ca||0!==y&&y!==ja.points.length-1||(ei(ja.points,M.zoom.value)&&g.movePoint(ja,y,0===y?ja.points[ja.points.length-1]:ja.points[0]),ca=M.isBindingEnabled?bi(Dg(g.getPointAtIndexGlobalCoordinates(ja,y)),yh.getScene(ja)):null,(M={})[0===y?"startBindingElement":"endBindingElement"]=
ca,ya=M);return hb(hb(hb({},z),ya),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},g.handlePointerDown=function(y,z,M,ca,ja){var ya={didAddPoint:!1,hitElement:null};if(!z.editingLinearElement)return ya;var wa=g.getElement(z.editingLinearElement.elementId);if(!wa)return ya;if(y.altKey)return null==z.editingLinearElement.lastUncommittedPoint&&jf(wa,{points:dl(dl([],wa.points),[g.createPointAt(wa,ja.x,ja.y,z.gridSize)])}),ca.resumeRecording(),M({editingLinearElement:hb(hb({},z.editingLinearElement),{},
{activePointIndex:wa.points.length-1,lastUncommittedPoint:null,endBindingElement:bi(ja,yh.getScene(wa))})}),ya.didAddPoint=!0,ya;y=g.getPointIndexUnderCursor(wa,z.zoom,ja.x,ja.y);if(-1<y)ya.hitElement=wa;else{var Da=z.editingLinearElement;ca=Da.startBindingElement;Da=Da.endBindingElement;z.isBindingEnabled&&og(wa)&&Pf(wa,ca,Da)}Da=ig(wa);ca=(Da[0]+Da[2])/2;Da=(Da[1]+Da[3])/2;wa=-1<y&&Hf(wa.x+wa.points[y][0],wa.y+wa.points[y][1],ca,Da,wa.angle);return M({editingLinearElement:hb(hb({},z.editingLinearElement),
{},{activePointIndex:-1<y?y:null,pointerOffset:wa?{x:ja.x-wa[0],y:ja.y-wa[1]}:{x:0,y:0}})}),ya},g.handlePointerMove=function(y,z,M,ca,ja){var ya=ca.lastUncommittedPoint,wa=g.getElement(ca.elementId);if(!wa)return ca;var Da=wa.points,Pa=Da[Da.length-1];if(!y.altKey)return Pa===ya&&g.movePoint(wa,Da.length-1,"delete"),hb(hb({},ca),{},{lastUncommittedPoint:null});y=g.createPointAt(wa,z-ca.pointerOffset.x,M-ca.pointerOffset.y,ja);return Pa===ya?g.movePoint(wa,wa.points.length-1,y):g.movePoint(wa,"new",
y),hb(hb({},ca),{},{lastUncommittedPoint:wa.points[wa.points.length-1]})},g.getPointsGlobalCoordinates=function(y){var z=ig(y),M=(z[0]+z[2])/2,ca=(z[1]+z[3])/2;return y.points.map(function(ja){var ya;return[(ya=Hf(y.x+ja[0],y.y+ja[1],M,ca,y.angle))[0],ya[1]]})},g.getPointAtIndexGlobalCoordinates=function(y,z){var M=0>z?y.points.length+z:z;z=ig(y);M=y.points[M];return Hf(y.x+M[0],y.y+M[1],(z[0]+z[2])/2,(z[1]+z[3])/2,y.angle)},g.pointFromAbsoluteCoords=function(y,z){var M=ig(y);z=Hf(z[0],z[1],(M[0]+
M[2])/2,(M[1]+M[3])/2,-y.angle);return[z[0]-y.x,z[1]-y.y]},g.getPointIndexUnderCursor=function(y,z,M,ca){y=this.getPointsGlobalCoordinates(y);for(var ja=y.length;-1<--ja;){var ya=y[ja];if(Math.hypot(ya[0]-M,ya[1]-ca)*z.value<this.POINT_HANDLE_SIZE/2+1)return ja}return-1},g.createPointAt=function(y,z,M,ca){z=ri(z,M,ca);M=ig(y);z=Hf(z[0],z[1],(M[0]+M[2])/2,(M[1]+M[3])/2,-y.angle);return[z[0]-y.x,z[1]-y.y]},g.normalizePoints=function(y){var z=y.points,M=z[0][0],ca=z[0][1];jf(y,{points:z.map(function(ja,
ya){return[ja[0]-M,ja[1]-ca]}),x:y.x+M,y:y.y+ca})},g.movePointByOffset=function(y,z,M){var ca=y.points[z];g.movePoint(y,z,[ca[0]+M.x,ca[1]+M.y])},g.movePoint=function(y,z,M,ca){var ja=y.points,ya=0,wa=0;if("delete"===M){if("new"===z)throw Error("invalid args in movePoint");(M=ja.slice()).splice(z,1);0===z&&(ya=M[0][0],wa=M[0][1],M=M.map(function(lb,rb){return 0===rb?[0,0]:[lb[0]-ya,lb[1]-wa]}))}else if("new"===z)M=dl(dl([],ja),[M]);else{var Da=M[0]-ja[z][0],Pa=M[1]-ja[z][1];M=ja.map(function(lb,rb){return rb===
z?0===rb?(ya=Da,wa=Pa,lb):(ya=0,wa=0,[lb[0]+Da,lb[1]+Pa]):ya||wa?[lb[0]-ya,lb[1]-wa]:lb})}var Ka=Be(y,M,y.strokeSharpness||"round");ja=Be(y,ja,y.strokeSharpness||"round");ja=Hf(ya,wa,(ja[0]+ja[2])/2-(Ka[0]+Ka[2])/2,(ja[1]+ja[3])/2-(Ka[1]+Ka[3])/2,y.angle);jf(y,hb(hb({},ca),{},{points:M,x:y.x+ja[0],y:y.y+ja[1]}))},g}();dg.POINT_HANDLE_SIZE=20;var Um=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},Pf=function(g,y,z){var M=new Set,ca=new Set;Gg(g,y,z,"start",M,ca);
Gg(g,z,y,"end",M,ca);y=Array.from(ca).filter(function(ja){return!M.has(ja)});yh.getScene(g).getNonDeletedElements(y).forEach(function(ja){var ya;jf(ja,{boundElementIds:null===(ya=ja.boundElementIds)||void 0===ya?void 0:ya.filter(function(wa){return wa!==g.id})})})},Gg=function(g,y,z,M,ca,ja){if("keep"!==y)if(null!=y)null!=z&&("keep"===z?Ef(g,y,M):"start"!==M&&z.id===y.id)||(Dj(g,y,M),ca.add(y.id));else{var ya;y="start"===M?"startBinding":"endBinding";z=g[y];g=null==z?null:(jf(g,((ya={})[y]=null,ya)),
z.elementId);null!=g&&ja.add(g)}},vg=function(g){g.forEach(function(y){og(y)?Pf(y,Mg(y,"start"),Mg(y,"end")):yk(y)&&em(y)})},em=function(g){sh(g).forEach(function(y){var z=y[1];return Pf(y[0],"end"===z?"keep":g,"start"===z?"keep":g)})},jk=function(g,y,z,M){null!=y.startBoundElement&&Dj(g,y.startBoundElement,"start");y=bi(M,z);null==y||Ef(g,y,"end")||Dj(g,y,"end")},Dj=function(g,y,z){var M,ca;jf(g,((M={})["start"===z?"startBinding":"endBinding"]=function(ja){for(var ya=1;ya<arguments.length;ya++){var wa=
null!=arguments[ya]?arguments[ya]:{};ya%2?Vb(Object(wa),!0).forEach(function(Da){pd()(ja,Da,wa[Da])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ja,Object.getOwnPropertyDescriptors(wa)):Vb(Object(wa)).forEach(function(Da){Object.defineProperty(ja,Da,Object.getOwnPropertyDescriptor(wa,Da))})}return ja}({elementId:y.id},af(g,y,z)),M));jf(y,{boundElementIds:Array.from(new Set(Um(Um([],null!==(ca=y.boundElementIds)&&void 0!==ca?ca:[]),[g.id])))})},Ef=function(g,y,z){z=g["start"===z?"endBinding":
"startBinding"];return(null==z?void 0:z.elementId)===y.id&&3>g.points.length},ih=function(g){g.forEach(function(y){og(y)&&Pf(y,null,null)})},bi=function(g,y){return ni(y.getElements(),function(z){return yk(z)&&Mk(z,g)})},af=function(g,y,z){var M="start"===z?-1:1;z=-1===M?0:g.points.length-1;M=z-M;z=dg.getPointAtIndexGlobalCoordinates(g,z);M=dg.getPointAtIndexGlobalCoordinates(g,M);a:{g=Ll(y);M=Ni(g,ek(M));g=Ni(g,ek(z));var ca=lj(gk(g,M));g=y.height/y.width;M=y.width/2;var ja=y.height/2,ya=ca[2],wa=
ca[3];ca=ca[1];var Da=Math.abs(wa),Pa=Math.abs(ya);switch(y.type){case "rectangle":case "text":g=ca/(M*(Pa+g*Da));break a;case "diamond":g=Da<Pa?ca/(Pa*M):ca/(Da*ja);break a;case "ellipse":g=ca/(M*Math.sqrt(Math.pow(ya,2)+Math.pow(g,2)*Math.pow(wa,2)));break a}g=void 0}return{focus:g,gap:Math.max(1,cm(y,z))}},Ai=function(g,y){var z,M=null!==(z=g.boundElementIds)&&void 0!==z?z:[];if(0!==M.length){y=null!=y?y:{};var ca=y.newSize,ja=sj(y.simultaneouslyUpdated);yh.getScene(g).getNonDeletedElements(M).forEach(function(ya){var wa,
Da;if((null===(wa=ya.startBinding)||void 0===wa?void 0:wa.elementId)===g.id||(null===(Da=ya.endBinding)||void 0===Da?void 0:Da.elementId)===g.id)wa=xf(g,ya.startBinding,ca),Da=xf(g,ya.endBinding,ca),ja.has(ya.id)?jf(ya,{startBinding:wa,endBinding:Da}):(jn(ya,"start",wa,g),jn(ya,"end",Da,g))})}},sj=function(g){return new Set((g||[]).map(function(y){return y.id}))},jn=function(g,y,z,M){var ca;if(!(null==z||z.elementId!==M.id&&2<g.points.length)){var ja=yh.getScene(g).getElement(z.elementId);if(null!=
ja){var ya="start"===y?-1:1;M=-1===ya?0:g.points.length-1;var wa=dg.getPointAtIndexGlobalCoordinates(g,M-ya);ya=function(Da,Pa,Ka){if(0===Pa){var lb=ig(Da);lb=Sl(lb);return hi(lb)}lb=Ll(Da);Ka=Ni(lb,ek(Ka));lb=Ih(lb);switch(Da.type){case "rectangle":case "text":case "diamond":var rb=oh(Da,Pa,Ka);break;case "ellipse":var sb=Math.abs(Pa);rb=Da.width*sb/2;Da=Da.height*sb/2;Pa=Math.sign(Pa);sb=hi(Ka);Ka=sb[0];sb=sb[1];sb=0===sb?1E-4:sb;var dc=Math.pow(Ka,2)*Math.pow(Da,2)+Math.pow(sb,2)*Math.pow(rb,2);
Pa=(-Ka*Math.pow(Da,2)+Pa*sb*Math.sqrt(Math.max(0,dc-Math.pow(rb,2)*Math.pow(Da,2))))/dc;Ka=(-Pa*Ka-1)/sb;rb=-Math.pow(rb,2)*Pa/(Math.pow(Ka,2)*Math.pow(Da,2)+Math.pow(Pa,2)*Math.pow(rb,2));rb=zi(rb,(-Pa*rb-1)/Ka)}return hi(Ni(lb,rb))}(ja,z.focus,wa);0===z.gap?ja=ya:(ja=function(Da,Pa,Ka,lb){void 0===lb&&(lb=0);var rb=Ll(Da);Pa=Ni(rb,ek(Pa));Ka=Ni(rb,ek(Ka));Ka=lj(gk(Ka,Pa));var sb=Ih(rb);return Ak(Da,Ka,Pa,lb).map(function(dc){return hi(Ni(sb,dc))})}(ja,wa,ya,z.gap),ja=0===ja.length?ya:ja[0]);dg.movePoint(g,
M,dg.pointFromAbsoluteCoords(g,ja),((ca={})["start"===y?"startBinding":"endBinding"]=z,ca))}}},xf=function(g,y,z){if(null==y||null==z)return y;var M=y.gap,ca=y.focus,ja=z.width;z=z.height;var ya=g.width,wa=g.height;return{elementId:y.elementId,gap:Math.max(1,Math.min(Zi(g,ja,z),M*(ja<z?ja/ya:z/wa))),focus:ca}},Il=function(g){return[Mg(g,"start"),Mg(g,"end")].filter(function(y){return null!=y})},Mg=function(g,y){return bi(Dg(dg.getPointAtIndexGlobalCoordinates(g,"start"===y?0:-1)),yh.getScene(g))},
sh=function(g){return yh.getScene(g).getElements().map(function(y){if(!og(y))return null;var z=Vf(y,"start",g),M=Vf(y,"end",g);return z||M?[y,z&&M?"both":z?"start":"end",g]:null}).filter(function(y){return null!=y})},Vf=function(g,y,z){return null==g["start"===y?"startBinding":"endBinding"]&&!Ef(g,z,y)&&Mk(z,Dg(dg.getPointAtIndexGlobalCoordinates(g,"start"===y?0:-1)))},Uj=function(g,y,z,M){var ca=new Set,ja=new Set,ya="duplicatesServeAsOld"===M;y.forEach(function(wa){var Da=wa.boundElementIds;if(null!=
Da&&0<Da.length&&(Da.forEach(function(Pa){ya&&!z.has(Pa)&&ca.add(Pa)}),ja.add(z.get(wa.id))),og(wa))null!=wa.startBinding&&(Da=wa.startBinding.elementId,ya&&!z.has(Da)&&ja.add(Da)),null!=wa.endBinding&&(Da=wa.endBinding.elementId,ya&&!z.has(Da)&&ja.add(Da)),null==wa.startBinding&&null==wa.endBinding||ca.add(z.get(wa.id))});g.filter(function(wa){return ca.has(wa.id)}).forEach(function(wa){var Da=wa.endBinding;jf(wa,{startBinding:Fh(wa.startBinding,z),endBinding:Fh(Da,z)})});g.filter(function(wa){return ja.has(wa.id)}).forEach(function(wa){var Da=
wa.boundElementIds;null!=Da&&0<Da.length&&jf(wa,{boundElementIds:Da.map(function(Pa){var Ka;return null!==(Ka=z.get(Pa))&&void 0!==Ka?Ka:Pa})})})},Fh=function(g,y){var z;if(null==g)return null;var M=g.elementId;return{focus:g.focus,gap:g.gap,elementId:null!==(z=y.get(M))&&void 0!==z?z:M}},tj=function(g,y){var z=new Set(y.map(function(ca){return ca.id})),M=new Set;y.forEach(function(ca){var ja;yk(ca)&&(null===(ja=ca.boundElementIds)||void 0===ja||ja.forEach(function(ya){z.has(ya)||M.add(ya)}))});g.filter(function(ca){return M.has(ca.id)}).forEach(function(ca){var ja=
ca.endBinding;jf(ca,{startBinding:nm(ca.startBinding,z),endBinding:nm(ja,z)})})},nm=function(g,y){return null==g||y.has(g.elementId)?null:g},ej=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},Qf=function(g){return g>=2*Math.PI?g-2*Math.PI:g},kf=function(g,y,z){return Fg(g)?{points:Gi(0,y,Gi(1,z,g.points))}:{}},Ng=function(g,y,z){y=y/g.width*g.fontSize;if(1>y)return null;g=Wi(g.text,Vi({fontSize:y,fontFamily:g.fontFamily}));return{size:y,baseline:g.baseline+(z-g.height)}},
Jl=function(g,y,z,M){var ca=Bg(g),ja=ca[0],ya=ca[1],wa=ca[2],Da=ca[3];switch(y){case "se":var Pa=Math.max((z-ja)/(wa-ja),(M-ya)/(Da-ya));var Ka=function(rb,sb,dc){var Yb=sb[0];sb=sb[1];return{x:rb.x+(Yb-ja)*(Pa-1)+Yb-dc[0],y:rb.y+(sb-ya)*(Pa-1)+sb-dc[1]}};break;case "nw":Pa=Math.max((wa-z)/(wa-ja),(Da-M)/(Da-ya));Ka=function(rb,sb,dc){var Yb=sb[2];sb=sb[3];return{x:rb.x-(wa-Yb)*(Pa-1)+Yb-dc[2],y:rb.y-(Da-sb)*(Pa-1)+sb-dc[3]}};break;case "ne":Pa=Math.max((z-ja)/(wa-ja),(Da-M)/(Da-ya));Ka=function(rb,
sb,dc){var Yb=sb[0];sb=sb[3];return{x:rb.x+(Yb-ja)*(Pa-1)+Yb-dc[0],y:rb.y-(Da-sb)*(Pa-1)+sb-dc[3]}};break;case "sw":Pa=Math.max((wa-z)/(wa-ja),(M-ya)/(Da-ya)),Ka=function(rb,sb,dc){var Yb=sb[1];sb=sb[2];return{x:rb.x-(wa-sb)*(Pa-1)+sb-dc[2],y:rb.y+(Yb-ya)*(Pa-1)+Yb-dc[1]}}}if(0<Pa){var lb=g.reduce(function(rb,sb){if(!rb)return rb;var dc=sb.width*Pa,Yb=sb.height*Pa,zc={};if("text"===sb.type){zc=Ng(sb,dc,Yb);if(null===zc)return null;zc={fontSize:zc.size,baseline:zc.baseline}}var ed=ig(sb),id=kf(sb,
dc,Yb);Ai(sb,{newSize:{width:dc,height:Yb},simultaneouslyUpdated:g});var vd=Pg(Hc(Hc({},sb),id),dc,Yb);ed=Ka(sb,ed,vd);sb=ed.x;ed=ed.y;return ej(ej([],rb),[Hc(Hc({width:dc,height:Yb,x:sb,y:ed},id),zc)])},[]);lb&&g.forEach(function(rb,sb){jf(rb,lb[sb])})}},rl=function(g,y,z,M,ca,ja,ya){var wa=5*Math.PI/2+Math.atan2(M-ya,z-ja);ca&&(wa+=hc.ay/2,wa-=wa%hc.ay);y.forEach(function(Da,Pa){var Ka,lb,rb=ig(Da);Pa=(rb[0]+rb[2])/2;rb=(rb[1]+rb[3])/2;var sb=null!==(Ka=null===(lb=g.originalElements.get(Da.id))||
void 0===lb?void 0:lb.angle)&&void 0!==Ka?Ka:Da.angle;Ka=Hf(Pa,rb,ja,ya,wa+sb-Da.angle);jf(Da,{x:Da.x+(Ka[0]-Pa),y:Da.y+(Ka[1]-rb),angle:Qf(wa+sb)})})},li=function(g,y,z,M,ca,ja,ya,wa,Da,Pa){var Ka;Da&&(ya=(Ka=Ye(y,ya,ja<M?-wa:wa)).width,0>(wa=Ka.height)&&(wa=-wa));y=ca<z?z-ya:z;ja=ja<M?M-wa:M;Pa&&(y=z-(ya+=ya)/2,ja=M-(wa+=wa)/2);0!==ya&&0!==wa&&jf(g,{x:y,y:ja,width:ya,height:wa})},sl=function(g){return g.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},qk=function(g){var y=Wi(g.text,Vi(g));jf(g,
{width:y.width,height:y.height,baseline:y.baseline})},rh=function(g,y){return!(g.viewModeEnabled||!g.editingElement&&!uf(y,g).length&&"selection"===g.elementType)},Nk=function(g){return g.filter(function(y){return y.isDeleted||!Rh(y)})},$i=function(g){return g.reduce(function(y,z){return y[z.id]=z,y},{})},cl=function(g){return g.reduce(function(y,z){return y+z.version},0)},ge=function(g){return g.filter(function(y){return!y.isDeleted})},Df=function(g){return ge(g).map(function(y){return hj(y.type)?
Dc(Dc({},y),{},{lastCommittedPoint:null}):y})},ki=function(g,y,z){var M=[g.horizontal,g.vertical].map(function(ca){return null!=ca&&ca.x<=y&&y<=ca.x+ca.width&&ca.y<=z&&z<=ca.y+ca.height});g=M[0];M=M[1];return{isOverEither:g||M,isOverHorizontal:g,isOverVertical:M}},kg=function(g,y){return g.some(function(z){return y.selectedElementIds[z.id]})},uf=function(g,y){return g.filter(function(z){return y.selectedElementIds[z.id]})},kk=function(g,y){return y.editingElement?[y.editingElement]:uf(g,y)},Xi=function(g){var y=
g.scenePoint,z=g.viewportDimensions;g=g.zoom;return{scrollX:z.width/2*(1/g.value)-y.x-1/g.value*g.translation.x,scrollY:z.height/2*(1/g.value)-y.y-1/g.value*g.translation.y}},mi=function(g,y,z){var M;if(!g.length)return{scrollX:0,scrollY:0};var ca=Bg(g);z=ca[0];var ja=ca[1],ya=ca[2];ca=ca[3];return function(wa,Da,Pa){Da=Pa[2];var Ka=Pa[3],lb=mh({sceneX:Pa[0],sceneY:Pa[1]},wa);Pa=lb.x;lb=lb.y;Da=mh({sceneX:Da,sceneY:Ka},wa);Ka=Da.y;return Da.x-Pa>wa.width||Ka-lb>wa.height}(y,0,[z,ja,ya,ca])&&(z=(M=
function(wa,Da){if(!wa.length)return[0,0,0,0];var Pa=1/0,Ka=wa[0];return wa.forEach(function(lb){var rb=si(lb);rb=Math.hypot(Da.x-(rb[0]+rb[2])/2,Da.y-(rb[1]+rb[3])/2);rb<Pa&&(Pa=rb,Ka=lb)}),si(Ka)}(g,ug({clientX:y.scrollX,clientY:y.scrollY},y)))[0],ja=M[1],ya=M[2],ca=M[3]),Xi({scenePoint:{x:(z+ya)/2,y:(ja+ca)/2},viewportDimensions:{width:y.width,height:y.height},zoom:y.zoom})},Oj=function(g){return"rectangle"===g||"ellipse"===g||"diamond"===g||"draw"===g||"line"===g},Uf=function(g){return"rectangle"===
g||"ellipse"===g||"diamond"===g||"arrow"===g||"draw"===g||"line"===g},rk=function(g){return"rectangle"===g||"arrow"===g||"draw"===g||"line"===g},ni=function(g,y){for(var z=null,M=g.length-1;0<=M;--M){var ca=g[M];if(!ca.isDeleted&&y(ca)){z=ca;break}}return z},ci=function(g,y,z,M){return void 0===M&&(M={x:0,y:0}),{value:g,translation:{x:M.x-z.left-g/y.value*(M.x-z.left-y.translation.x),y:M.y-z.top-g/y.value*(M.y-z.top-y.translation.y)}}},Sj=function(g){g=parseFloat(g.toFixed(2));return Math.max(.1,
Math.min(g,10))},gf=(e(9478),Ea().forwardRef(function(g,y){var z=Ea().useRef(null);Ea().useImperativeHandle(y,function(){return z.current});y="ToolIcon_size_".concat(g.size||"m");return"button"===g.type?Ea().createElement("button",{className:mc("ToolIcon_type_button",y,g.className,g.visible&&!g.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!g.hidden,"ToolIcon--selected":g.selected}),hidden:g.hidden,title:g.title,"aria-label":g["aria-label"],type:"button",onClick:g.onClick,
ref:z},Ea().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},g.icon||g.label,g.keyBindingLabel&&Ea().createElement("span",{className:"ToolIcon__keybinding"},g.keyBindingLabel)),g.showAriaLabel&&Ea().createElement("div",{className:"ToolIcon__label"},g["aria-label"]),g.children):Ea().createElement("label",{className:mc("ToolIcon",g.className),title:g.title},Ea().createElement("input",{className:"ToolIcon_type_radio ".concat(y),type:"radio",name:g.name,"aria-label":g["aria-label"],
"aria-keyshortcuts":g["aria-keyshortcuts"],"data-testid":g["data-testid"],id:g.id,onChange:g.onChange,checked:g.checked,ref:z}),Ea().createElement("div",{className:"ToolIcon__icon"},g.icon,g.keyBindingLabel&&Ea().createElement("span",{className:"ToolIcon__keybinding"},g.keyBindingLabel)))}));gf.defaultProps={visible:!0,className:""};var zg=function(g){return"light"===g?Ee.$y[4]:Ee.$y[9]},ve=function(g){return"light"===g?Ee.Sn:Ee.MA[4]},Hg=function(g){return"light"===g?Ee.ix:"#1e1e1e"},te=function(g,
y){void 0===y&&(y=512);y="number"==typeof y?{width:y}:y;var z=y.width;z=void 0===z?512:z;var M=y.height;M=void 0===M?z:M;var ca=y.mirror;y=y.style;return Ea().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(z," ").concat(M),className:mc({"rtl-mirror":ca}),style:y},"string"==typeof g?Ea().createElement("path",{fill:"currentColor",d:g}):g)},tl=te("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),De=te("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Fm=te("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),om=te("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),tk=te("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ri=te("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Mh=te("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
th=te("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),oi=te("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Ej=te("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),sk=te("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Sk=te("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
lh=te("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Fj=te("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),fd=te("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),$d=(te("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),te("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),te(Ea().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),td=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,
null,Ea().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ve(g),stroke:ve(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24,mirror:!0})}),Id=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,
null,Ea().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:zg(g),stroke:zg(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ve(g),stroke:ve(g),strokeWidth:"2"})),{width:24,mirror:!0})}),pi=Ea().memo(function(g){g=g.appearance;
return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:ve(g),stroke:ve(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24,mirror:!0})}),Gf=Ea().memo(function(g){g=
g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:zg(g),stroke:zg(g),strokeLinejoin:"round",strokeWidth:"2"}),Ea().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:ve(g),stroke:ve(g),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),Gh=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 2,5 H 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24,mirror:!0})}),rg=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 2,19 H 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24,mirror:!0})}),Aj=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 5,2 V 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24})}),hd=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 19,2 V 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24})}),od=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M5 5V19Z",fill:"black"}),Ea().createElement("path",{d:"M19 5V19M5 5V19",stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24})}),Og=
Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M5 5L19 5M5 19H19",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:zg(g),stroke:zg(g),strokeWidth:"2"})),{width:24})}),ad=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:zg(g),stroke:zg(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M 2,12 H 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Tk=Ea().memo(function(g){g=g.appearance;
return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:zg(g),stroke:zg(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M 12,2 V 22",fill:ve(g),stroke:ve(g),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),Kl=te("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),uj=(te("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),te("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),te("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),kh=te("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),tg=te("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Vd=te("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),sf=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",
{d:"M25 26H111V111H25",fill:ve(g)}),Ea().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ve(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M100 100H160V160H100",fill:ve(g)}),Ea().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:ve(g),strokeWidth:"2"}),Ea().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Ok=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M25 26H111V111H25",fill:ve(g)}),Ea().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ve(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M100 100H160V160H100",fill:ve(g)}),Ea().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:ve(g),strokeWidth:"2"}),Ea().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Hg(g),stroke:ve(g),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Uk=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:ve(g)}),{width:40,height:20})}),ce=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("g",{fill:ve(g),fillRule:"evenodd",clipRule:"evenodd"},Ea().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),Ea().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),pm=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M2 2H38V18H2V2Z",fill:ve(g)}),{width:40,height:20})}),aj=Ea().memo(function(g){var y=g.appearance;g=g.strokeWidth;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(y),strokeWidth:g,fill:"none"}),{width:40,height:20})}),Yd=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20})}),el=Ea().memo(function(g){g=
g.appearance;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(g),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),eg=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(g),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Si=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),zm=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),uk=Ea().memo(function(g){g=
g.appearance;return te(Ea().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),fl=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",
{d:"M10 17L10 5L35 5",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Vk=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Pk=Ea().memo(function(g){g=g.appearance;return te(Ea().createElement("path",{d:"M6 10H34",stroke:ve(g),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Hh=Ea().memo(function(g){var y=g.appearance;g=g.flip;g=void 0!==
g&&g;return te(Ea().createElement("g",{transform:g?"translate(40, 0) scale(-1, 1)":"",stroke:ve(y),strokeWidth:2,fill:"none"},Ea().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),Ea().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),Vm=Ea().memo(function(g){var y=g.appearance;g=g.flip;g=void 0!==g&&g;return te(Ea().createElement("g",{stroke:ve(y),fill:ve(y),transform:g?"translate(40, 0) scale(-1, 1)":""},Ea().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
Ea().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Hj=Ea().memo(function(g){var y=g.appearance;g=g.flip;g=void 0!==g&&g;return te(Ea().createElement("g",{transform:g?"translate(40, 0) scale(-1, 1)":""},Ea().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:ve(y),strokeWidth:2,fill:"none"})),{width:40,height:20})}),jg=[],ne=function(g){return jg=jg.concat(g),g},qh=function(g,y){var z;return g.editingGroupId&&(y=ck(ge(y),g.editingGroupId),
y.length)?Wc(Wc({},g),{},{selectedElementIds:(z={},z[y[0].id]=!0,z)}):g},Rg=ne({name:"deleteSelectedElements",perform:function(g,y){if(y.editingLinearElement){var z=y.editingLinearElement,M=z.activePointIndex,ca=z.startBindingElement,ja=z.endBindingElement,ya=dg.getElement(z.elementId);if(!ya)return!1;if(null==M||-1===M||2>ya.points.length)return g=g.filter(function(wa){return wa.id!==ya.id}),{elements:g,appState:Wc(Wc({},qh(y,g)),{},{editingLinearElement:null}),commitToHistory:!1};z={startBindingElement:0===
M?null:ca,endBindingElement:M===ya.points.length-1?null:ja};return dg.movePoint(ya,M,"delete"),{elements:g,appState:Wc(Wc({},y),{},{editingLinearElement:Wc(Wc(Wc({},y.editingLinearElement),z),{},{activePointIndex:0<M?M-1:0})}),commitToHistory:!0}}z=function(wa,Da){return{elements:wa.map(function(Pa){return Da.selectedElementIds[Pa.id]?yg(Pa,{isDeleted:!0}):Pa}),appState:Wc(Wc({},Da),{},{selectedElementIds:{}})}}(g,y);M=z.elements;z=z.appState;return tj(M,g.filter(function(wa){return y.selectedElementIds[wa.id]})),
{elements:M,appState:Wc(Wc({},z=qh(z,M)),{},{elementType:"selection",multiElement:null}),commitToHistory:kg(ge(g),y)}},contextItemLabel:"labels.delete",keyTest:function(g){return"Backspace"===g.key||"Delete"===g.key},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{type:"button",icon:Ri,title:eb("labels.delete"),"aria-label":eb("labels.delete"),onClick:function(){return M(null)},visible:kg(ge(y),z)})}}),di=function(g,y){for(var z=0,M=y.length,ca=
g.length;z<M;z++,ca++)g[ca]=y[z];return g},Tl=function(g,y){for(var z=[],M=[],ca=null,ja=-1;++ja<g.length;)y.selectedElementIds[g[ja].id]?(M.length&&(z=z.concat(M),M=[]),z.push(ja),ca=ja+1):g[ja].isDeleted&&ca===ja?(ca=ja+1,M.push(ja)):M=[];return z},Nh=function(g,y,z,M){var ca=y[z],ja=function(ya){return!ya.isDeleted&&(!g.editingGroupId||ya.groupIds.includes(g.editingGroupId))};z="left"===M?function(ya,wa,Da){void 0===Da&&(Da=ya.length-1);0>Da&&(Da=ya.length+Da);for(Da=Math.min(ya.length-1,Math.max(Da,
0))+1;-1<--Da;)if(wa(ya[Da],Da,ya))return Da;return-1}(y,ja,Math.max(0,z-1)):function(ya,wa,Da){void 0===Da&&(Da=0);0>Da&&(Da=ya.length+Da);for(Da=Math.min(ya.length,Math.max(Da,0))-1;++Da<ya.length;)if(wa(ya[Da],Da,ya))return Da;return-1}(y,ja,z+1);ja=y[z];if(!ja)return-1;if(g.editingGroupId){if((null==ca?void 0:ca.groupIds.join(""))===(null==ja?void 0:ja.groupIds.join("")))return z;if(null==ja||!ja.groupIds.includes(g.editingGroupId))return-1}if(!ja.groupIds.length)return z;ca=g.editingGroupId?
ja.groupIds[ja.groupIds.indexOf(g.editingGroupId)-1]:ja.groupIds[ja.groupIds.length-1];ca=ck(y,ca);return ca.length?"left"===M?y.indexOf(ca[0]):y.indexOf(ca[ca.length-1]):z},pe=function(g,y,z){var M,ca=Tl(y,g),ja=(M=0,ca.reduce(function(ya,wa,Da){return 0<Da&&ca[Da-1]!==wa-1&&(M=++M),(ya[M]||(ya[M]=[])).push(wa),ya},[]));return"right"===z&&(ja=ja.reverse()),ja.forEach(function(ya,wa){wa=ya[0];ya=ya[ya.length-1];var Da="left"===z?wa:ya,Pa=Nh(g,y,Da,z);if(-1!==Pa&&Da!==Pa){Da="left"===z?y.slice(0,Pa):
y.slice(0,wa);var Ka=y.slice(wa,ya+1);wa="left"===z?y.slice(Pa,wa):y.slice(ya+1,Pa+1);ya="left"===z?y.slice(ya+1):y.slice(Pa+1);y=di("left"===z?di(di(di([],Da),Ka),wa):di(di(di([],Da),wa),Ka),ya)}}),y},Wg=function(g,y,z){var M=Tl(g,y),ca=[],ja=[];if("left"===z){if(y.editingGroupId){if(!(y=ck(g,y.editingGroupId)).length)return g;var ya=g.indexOf(y[0])}else ya=0;y=M[M.length-1]}else{if(y.editingGroupId){if(!(y=ck(g,y.editingGroupId)).length)return g;y=g.indexOf(y[y.length-1])}else y=g.length-1;ya=M[0]}for(var wa=
ya;wa<y+1;wa++)M.includes(wa)?ca.push(g[wa]):ja.push(g[wa]);M=g.slice(0,ya);g=g.slice(y+1);return di("left"===z?di(di(di([],M),ca),ja):di(di(di([],M),ja),ca),g)},Am=ne({name:"sendBackward",perform:function(g,y){return{elements:pe(y,g.slice(),"left"),appState:y,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(g){return g[cf]&&!g.shiftKey&&"BracketLeft"===g.code},PanelComponent:function(g){var y=g.updateData;g=g.appState;return Ea().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return y(null)},title:"".concat(eb("labels.sendBackward")," — ").concat(Wd("CtrlOrCmd+["))},Ea().createElement(Id,{appearance:g.appearance}))}}),ul=ne({name:"bringForward",perform:function(g,y){return{elements:pe(y,g.slice(),"right"),appState:y,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(g){return g[cf]&&!g.shiftKey&&"BracketRight"===g.code},PanelComponent:function(g){var y=g.updateData;g=g.appState;
return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return y(null)},title:"".concat(eb("labels.bringForward")," — ").concat(Wd("CtrlOrCmd+]"))},Ea().createElement(td,{appearance:g.appearance}))}}),u=ne({name:"sendToBack",perform:function(g,y){return{elements:Wg(g,y,"left"),appState:y,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(g){return Kg?g[cf]&&g.altKey&&"BracketLeft"===g.code:g[cf]&&g.shiftKey&&"BracketLeft"===g.code},PanelComponent:function(g){var y=
g.updateData;g=g.appState;return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return y(null)},title:"".concat(eb("labels.sendToBack")," — ").concat(Wd(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},Ea().createElement(Gf,{appearance:g.appearance}))}}),J=ne({name:"bringToFront",perform:function(g,y){return{elements:Wg(g,y,"right"),appState:y,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(g){return Kg?g[cf]&&g.altKey&&"BracketRight"===
g.code:g[cf]&&g.shiftKey&&"BracketRight"===g.code},PanelComponent:function(g){var y=g.updateData;g=g.appState;return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(z){return y(null)},title:"".concat(eb("labels.bringToFront")," — ").concat(Wd(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},Ea().createElement(pi,{appearance:g.appearance}))}}),ha=ne({name:"selectAll",perform:function(g,y){return!y.editingLinearElement&&{appState:Wh(kd(kd({},y),{},{editingGroupId:null,
selectedElementIds:g.reduce(function(z,M){return M.isDeleted||(z[M.id]=!0),z},{})}),ge(g)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(g){return g[cf]&&"a"===g.key}}),ea=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},qa=ne({name:"duplicateSelection",perform:function(g,y){if(y.editingLinearElement){var z=y.editingLinearElement,M=z.activePointIndex;z=dg.getElement(z.elementId);if(!z||null===M)return!1;var ca=z.points,ja=ca[M],ya=ca[M+
1];return jf(z,{points:ea(ea(ea([],ca.slice(0,M+1)),[ya?[(ja[0]+ya[0])/2,(ja[1]+ya[1])/2]:[ja[0]+30,ja[1]+30]]),ca.slice(M+1))}),{appState:ue(ue({},y),{},{editingLinearElement:ue(ue({},y.editingLinearElement),{},{activePointIndex:M+1})}),elements:g,commitToHistory:!0}}return ue(ue({},Fa(g,y)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(g){return g[cf]&&"d"===g.key},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,
{type:"button",icon:tg,title:"".concat(eb("labels.duplicateSelection")," — ").concat(Wd("CtrlOrCmd+D")),"aria-label":eb("labels.duplicateSelection"),onClick:function(){return M(null)},visible:kg(ge(y),z)})}}),Fa=function(g,y){for(var z=new Map,M=[],ca=[],ja=new Map,ya=function(lb){var rb=Yi(y.editingGroupId,z,lb,{x:lb.x+hc.k/2,y:lb.y+hc.k/2});return ja.set(lb.id,rb.id),ca.push(lb),M.push(rb),rb},wa=[],Da=0;Da<g.length;){var Pa=g[Da];if(y.selectedElementIds[Pa.id]){if(Pa.groupIds.length){var Ka=zh(y,
Pa);if(Ka){Pa=ck(g,Ka);wa.push.apply(wa,ea(ea([],Pa),Pa.map(function(lb){return ya(lb)})));Da+=Pa.length;continue}}wa.push(Pa,ya(Pa))}else wa.push(Pa);Da++}return Uj(wa,ca,ja),{elements:wa,appState:Wh(ue(ue({},y),{},{selectedGroupIds:{},selectedElementIds:M.reduce(function(lb,rb){return lb[rb.id]=!0,lb},{})}),ge(wa))}},Oa=function(g){var y=g.options,z=g.value,M=g.onChange,ca=g.group;return Ea().createElement("div",{className:"buttonList buttonListIcon"},y.map(function(ja){return Ea().createElement("label",
{key:ja.text,className:mc({active:z===ja.value}),title:ja.text},Ea().createElement("input",{type:"radio",name:ca,onChange:function(){return M(ja.value)},checked:z===ja.value}),ja.icon)}))},Qa=function(g){var y=g.options,z=g.value,M=g.onChange,ca=g.group;return Ea().createElement("div",{className:"buttonList"},y.map(function(ja){return Ea().createElement("label",{key:ja.text,className:mc({active:z===ja.value})},Ea().createElement("input",{type:"radio",name:ca,onChange:function(){return M(ja.value)},
checked:z===ja.value}),ja.text)}))},jb=(e(2816),function(g){var y=g.children,z=g.left,M=g.top,ca=g.onCloseRequest;g=g.fitInViewport;var ja=void 0!==g&&g,ya=(0,jc.useRef)(null);return(0,jc.useLayoutEffect)(function(){if(ja&&ya.current){var wa=ya.current,Da=wa.getBoundingClientRect(),Pa=Da.y,Ka=Da.width,lb=Da.height,rb=window.innerWidth;Da.x+Ka>rb&&(wa.style.left="".concat(rb-Ka,"px"));Da=window.innerHeight;Pa+lb>Da&&(wa.style.top="".concat(Da-lb,"px"))}},[ja]),(0,jc.useEffect)(function(){if(ca){var wa=
function(Da){var Pa;null!==(Pa=ya.current)&&void 0!==Pa&&Pa.contains(Da.target)||(0,$f.unstable_batchedUpdates)(function(){return ca(Da)})};return document.addEventListener("pointerdown",wa,!1),function(){return document.removeEventListener("pointerdown",wa,!1)}}},[ca]),Ea().createElement("div",{className:"popover",style:{top:M,left:z},ref:ya},y)}),Fb=(e(5574),function(g){var y=(new Option).style;return y.color=g,!!y.color}),Ib=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),
wc=function(g){var y=g.colors,z=g.color,M=g.onChange,ca=g.onClose,ja=g.label,ya=g.showInput,wa=void 0===ya||ya;g=g.type;var Da=Ea().useRef(),Pa=Ea().useRef(),Ka=Ea().useRef(),lb=Ea().useRef();Ea().useEffect(function(){Pa.current?Pa.current.focus():lb.current?lb.current.focus():Ka.current&&Ka.current.focus()},[]);return Ea().createElement("div",{className:"color-picker color-picker-type-".concat(g),role:"dialog","aria-modal":"true","aria-label":eb("labels.colorPicker"),onKeyDown:function(rb){if("Tab"===
rb.key){var sb,dc=document.activeElement;if(rb.shiftKey)dc===Da.current&&(null===(sb=lb.current)||void 0===sb||sb.focus(),rb.preventDefault());else if(dc===lb.current){var Yb;null===(Yb=Da.current)||void 0===Yb||Yb.focus();rb.preventDefault()}}else xg(rb.key)?(dc=document.activeElement,sb=ua.rtl,-1!==(Yb=Array.prototype.indexOf.call(Ka.current.children,dc))&&(dc=Ka.current.children.length-(wa?1:0),Ka.current.children[rb.key===(sb?"ArrowLeft":"ArrowRight")?(Yb+1)%dc:rb.key===(sb?"ArrowRight":"ArrowLeft")?
(dc+Yb-1)%dc:"ArrowDown"===rb.key?(Yb+5)%dc:"ArrowUp"===rb.key?(dc+Yb-5)%dc:Yb].focus()),rb.preventDefault()):Ib.includes(rb.key.toLowerCase())&&!Cg(rb.target)?(Yb=Ib.indexOf(rb.key.toLowerCase()),Ka.current.children[Yb].focus(),rb.preventDefault()):"Escape"!==rb.key&&"Enter"!==rb.key||(rb.preventDefault(),ca());rb.nativeEvent.stopImmediatePropagation()}},Ea().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),Ea().createElement("div",{className:"color-picker-triangle"}),
Ea().createElement("div",{className:"color-picker-content",ref:function(rb){rb&&(Ka.current=rb)},tabIndex:0},y.map(function(rb,sb){return Ea().createElement("button",{className:"color-picker-swatch",onClick:function(dc){dc.currentTarget.focus();M(rb)},title:"".concat(rb," — ").concat(Ib[sb].toUpperCase()),"aria-label":rb,"aria-keyshortcuts":Ib[sb],style:{color:rb},key:rb,ref:function(dc){dc&&0===sb&&(Da.current=dc);dc&&rb===z&&(Pa.current=dc)},onFocus:function(){M(rb)}},"transparent"===rb?Ea().createElement("div",
{className:"color-picker-transparent"}):void 0,Ea().createElement("span",{className:"color-picker-keybinding"},Ib[sb]))}),wa&&Ea().createElement(yc,{color:z,label:ja,onChange:function(rb){M(rb)},ref:lb})))},yc=Ea().forwardRef(function(g,y){var z=g.color,M=g.onChange;g=g.label;var ca=Ea().useState(z),ja=ca[0],ya=ca[1],wa=Ea().useRef(null);Ea().useEffect(function(){ya(z)},[z]);Ea().useImperativeHandle(y,function(){return wa.current});var Da=Ea().useCallback(function(Pa){Pa=Pa.toLowerCase();var Ka;(Ka=
"transparent"===Pa||Fb(Pa)?Pa:Fb("#".concat(Pa))?"#".concat(Pa):null)&&M(Ka);ya(Pa)},[M]);return Ea().createElement("label",{className:"color-input-container"},Ea().createElement("div",{className:"color-picker-hash"},"#"),Ea().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":g,onChange:function(Pa){return Da(Pa.target.value)},value:(ja||"").replace(/^#/,""),onBlur:function(){return ya(z)},ref:wa}))}),lc=function(g){var y=g.type,z=g.color,M=g.onChange;g=g.label;var ca=
Ea().useState(!1),ja=ca[0],ya=ca[1],wa=Ea().useRef(null);return Ea().createElement("div",null,Ea().createElement("div",{className:"color-picker-control-container"},Ea().createElement("button",{className:"color-picker-label-swatch","aria-label":g,style:z?{"--swatch-color":z}:void 0,onClick:function(){return ya(!ja)},ref:wa}),Ea().createElement(yc,{color:z,label:g,onChange:function(Da){M(Da)}})),Ea().createElement(Ea().Suspense,{fallback:""},ja?Ea().createElement(jb,{onCloseRequest:function(Da){return Da.target!==
wa.current&&ya(!1)}},Ea().createElement(wc,{colors:Ek[y],color:z||null,onChange:function(Da){M(Da)},onClose:function(){var Da;ya(!1);null===(Da=wa.current)||void 0===Da||Da.focus()},label:g,showInput:!1,type:y})):null))},bd=e(6950),Pd=e.n(bd);e(7143);var we=function(g,y,z){return g.map(function(M){var ca;return y.selectedElementIds[M.id]||M.id===(null===(ca=y.editingElement)||void 0===ca?void 0:ca.id)?z(M):M})},qg=function(g,y,z,M){var ca,ja,ya=y.editingElement;g=ge(g);return null!==(ca=null!==(ja=
ya&&z(ya))&&void 0!==ja?ja:kg(g,y)?function(wa,Da,Pa){wa=Array.from(new Set(uf(wa,Da).map(function(Ka){return Pa(Ka)})));return 1===wa.length?wa[0]:null}(g,y,z):M)&&void 0!==ca?ca:null},Ce=(ne({name:"changeStrokeColor",perform:function(g,y,z){return{elements:we(g,y,function(M){return yg(M,{strokeColor:z})}),appState:Ne(Ne({},y),{},{currentItemStrokeColor:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState;g=g.updateData;return Ea().createElement(Ea().Fragment,null,Ea().createElement("h3",
{"aria-hidden":"true"},eb("labels.stroke")),Ea().createElement(lc,{type:"elementStroke",label:eb("labels.stroke"),color:qg(y,z,function(M){return M.strokeColor},z.currentItemStrokeColor),onChange:g}))}}),ne({name:"changeBackgroundColor",perform:function(g,y,z){return{elements:we(g,y,function(M){return yg(M,{backgroundColor:z})}),appState:Ne(Ne({},y),{},{currentItemBackgroundColor:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState;g=g.updateData;return Ea().createElement(Ea().Fragment,
null,Ea().createElement("h3",{"aria-hidden":"true"},eb("labels.background")),Ea().createElement(lc,{type:"elementBackground",label:eb("labels.background"),color:qg(y,z,function(M){return M.backgroundColor},z.currentItemBackgroundColor),onChange:g}))}}),ne({name:"changeFillStyle",perform:function(g,y,z){return{elements:we(g,y,function(M){return yg(M,{fillStyle:z})}),appState:Ne(Ne({},y),{},{currentItemFillStyle:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;
return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.fill")),Ea().createElement(Oa,{options:[{value:"hachure",text:eb("labels.hachure"),icon:Ea().createElement(Uk,{appearance:z.appearance})},{value:"cross-hatch",text:eb("labels.crossHatch"),icon:Ea().createElement(ce,{appearance:z.appearance})},{value:"solid",text:eb("labels.solid"),icon:Ea().createElement(pm,{appearance:z.appearance})}],group:"fill",value:qg(y,z,function(ca){return ca.fillStyle},z.currentItemFillStyle),
onChange:function(ca){M(ca)}}))}}),ne({name:"changeStrokeWidth",perform:function(g,y,z){return{elements:we(g,y,function(M){return yg(M,{strokeWidth:z})}),appState:Ne(Ne({},y),{},{currentItemStrokeWidth:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.strokeWidth")),Ea().createElement(Oa,{group:"stroke-width",options:[{value:1,text:eb("labels.thin"),icon:Ea().createElement(aj,
{appearance:z.appearance,strokeWidth:2})},{value:2,text:eb("labels.bold"),icon:Ea().createElement(aj,{appearance:z.appearance,strokeWidth:6})},{value:4,text:eb("labels.extraBold"),icon:Ea().createElement(aj,{appearance:z.appearance,strokeWidth:10})}],value:qg(y,z,function(ca){return ca.strokeWidth},z.currentItemStrokeWidth),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeSloppiness",perform:function(g,y,z){return{elements:we(g,y,function(M){return yg(M,{seed:Zj(),roughness:z})}),appState:Ne(Ne({},
y),{},{currentItemRoughness:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.sloppiness")),Ea().createElement(Oa,{group:"sloppiness",options:[{value:0,text:eb("labels.architect"),icon:Ea().createElement(Si,{appearance:z.appearance})},{value:1,text:eb("labels.artist"),icon:Ea().createElement(zm,{appearance:z.appearance})},{value:2,text:eb("labels.cartoonist"),icon:Ea().createElement(uk,
{appearance:z.appearance})}],value:qg(y,z,function(ca){return ca.roughness},z.currentItemRoughness),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeStrokeStyle",perform:function(g,y,z){return{elements:we(g,y,function(M){return yg(M,{strokeStyle:z})}),appState:Ne(Ne({},y),{},{currentItemStrokeStyle:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.strokeStyle")),
Ea().createElement(Oa,{group:"strokeStyle",options:[{value:"solid",text:eb("labels.strokeStyle_solid"),icon:Ea().createElement(Yd,{appearance:z.appearance})},{value:"dashed",text:eb("labels.strokeStyle_dashed"),icon:Ea().createElement(el,{appearance:z.appearance})},{value:"dotted",text:eb("labels.strokeStyle_dotted"),icon:Ea().createElement(eg,{appearance:z.appearance})}],value:qg(y,z,function(ca){return ca.strokeStyle},z.currentItemStrokeStyle),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeOpacity",
perform:function(g,y,z){return{elements:we(g,y,function(M){return yg(M,{opacity:z})}),appState:Ne(Ne({},y),{},{currentItemOpacity:z}),commitToHistory:!0}},PanelComponent:function(g){var y,z=g.elements,M=g.appState,ca=g.updateData;return Ea().createElement("label",{className:"control-label"},eb("labels.opacity"),Ea().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(ja){return ca(+ja.target.value)},onWheel:function(ja){ja.stopPropagation();var ya=+ja.target.value;0>
ja.deltaY&&100>ya?ca(ya+10):0<ja.deltaY&&0<ya&&ca(ya-10)},value:null!==(y=qg(z,M,function(ja){return ja.opacity},M.currentItemOpacity))&&void 0!==y?y:void 0}))}}),ne({name:"changeFontSize",perform:function(g,y,z){return{elements:we(g,y,function(M){return be(M)?(M=yg(M,{fontSize:z}),qk(M),M):M}),appState:Ne(Ne({},y),{},{currentItemFontSize:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",
null,eb("labels.fontSize")),Ea().createElement(Qa,{group:"font-size",options:[{value:16,text:eb("labels.small")},{value:20,text:eb("labels.medium")},{value:28,text:eb("labels.large")},{value:36,text:eb("labels.veryLarge")}],value:qg(y,z,function(ca){return be(ca)&&ca.fontSize},z.currentItemFontSize||hc.n5),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeFontFamily",perform:function(g,y,z){return{elements:we(g,y,function(M){return be(M)?(M=yg(M,{fontFamily:z}),qk(M),M):M}),appState:Ne(Ne({},
y),{},{currentItemFontFamily:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;g=[{value:1,text:eb("labels.handDrawn")},{value:2,text:eb("labels.normal")},{value:3,text:eb("labels.code")}];return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.fontFamily")),Ea().createElement(Qa,{group:"font-family",options:g,value:qg(y,z,function(ca){return be(ca)&&ca.fontFamily},z.currentItemFontFamily||hc.rk),onChange:function(ca){return M(ca)}}))}}),
ne({name:"changeTextAlign",perform:function(g,y,z){return{elements:we(g,y,function(M){return be(M)?(M=yg(M,{textAlign:z}),qk(M),M):M}),appState:Ne(Ne({},y),{},{currentItemTextAlign:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.textAlign")),Ea().createElement(Qa,{group:"text-align",options:[{value:"left",text:eb("labels.left")},{value:"center",text:eb("labels.center")},
{value:"right",text:eb("labels.right")}],value:qg(y,z,function(ca){return be(ca)&&ca.textAlign},z.currentItemTextAlign),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeSharpness",perform:function(g,y,z){var M=kk(ge(g),y),ca=M.length?M.every(function(ja){return!Fg(ja)}):!hj(y.elementType);M=M.length?M.every(Fg):hj(y.elementType);return{elements:we(g,y,function(ja){return yg(ja,{strokeSharpness:z})}),appState:Ne(Ne({},y),{},{currentItemStrokeSharpness:ca?z:y.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:M?
z:y.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.edges")),Ea().createElement(Oa,{group:"edges",options:[{value:"sharp",text:eb("labels.sharp"),icon:Ea().createElement(fl,{appearance:z.appearance})},{value:"round",text:eb("labels.round"),icon:Ea().createElement(Vk,{appearance:z.appearance})}],value:qg(y,z,function(ca){return ca.strokeSharpness},
rk(z.elementType)&&(hj(z.elementType)?z.currentItemLinearStrokeSharpness:z.currentItemStrokeSharpness)||null),onChange:function(ca){return M(ca)}}))}}),ne({name:"changeArrowhead",perform:function(g,y,z){var M;return{elements:we(g,y,function(ca){if(Fg(ca)){var ja=z.position,ya=z.type;if("start"===ja)return yg(ca,{startArrowhead:ya});if("end"===ja)return yg(ca,{endArrowhead:ya})}return ca}),appState:Ne(Ne({},y),{},(M={},M["start"===z.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=z.type,
M)),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;g=ua.rtl;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.arrowheads")),Ea().createElement("div",{className:"iconSelectList"},Ea().createElement(wd,{label:"arrowhead_start",options:[{value:null,text:eb("labels.arrowhead_none"),icon:Ea().createElement(Pk,{appearance:z.appearance}),keyBinding:"q"},{value:"arrow",text:eb("labels.arrowhead_arrow"),icon:Ea().createElement(Hh,
{appearance:z.appearance,flip:!g}),keyBinding:"w"},{value:"bar",text:eb("labels.arrowhead_bar"),icon:Ea().createElement(Hj,{appearance:z.appearance,flip:!g}),keyBinding:"e"},{value:"dot",text:eb("labels.arrowhead_dot"),icon:Ea().createElement(Vm,{appearance:z.appearance,flip:!g}),keyBinding:"r"}],value:qg(y,z,function(ca){return Fg(ca)&&"arrow"===ca.type?ca.startArrowhead:z.currentItemStartArrowhead},z.currentItemStartArrowhead),onChange:function(ca){return M({position:"start",type:ca})}}),Ea().createElement(wd,
{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:eb("labels.arrowhead_none"),keyBinding:"q",icon:Ea().createElement(Pk,{appearance:z.appearance})},{value:"arrow",text:eb("labels.arrowhead_arrow"),keyBinding:"w",icon:Ea().createElement(Hh,{appearance:z.appearance,flip:g})},{value:"bar",text:eb("labels.arrowhead_bar"),keyBinding:"e",icon:Ea().createElement(Hj,{appearance:z.appearance,flip:g})},{value:"dot",text:eb("labels.arrowhead_dot"),keyBinding:"r",icon:Ea().createElement(Vm,
{appearance:z.appearance,flip:g})}],value:qg(y,z,function(ca){return Fg(ca)&&"arrow"===ca.type?ca.endArrowhead:z.currentItemEndArrowhead},z.currentItemEndArrowhead),onChange:function(ca){return M({position:"end",type:ca})}})))}}),e(2189)),yf=e.n(Ce),lg=Ea().createContext(!1),wg=function(){return window.matchMedia?window.matchMedia(yf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},mg=function(g){g=g.children;var y=(0,jc.useRef)();y.current||(y.current=wg());var z=
(0,jc.useState)(y.current.matches),M=z[0],ca=z[1];return(0,jc.useEffect)(function(){var ja=function(){return ca(y.current.matches)};return y.current.addListener(ja),function(){return y.current.removeListener(ja)}},[]),Ea().createElement(lg.Provider,{value:M},g)};ne({name:"changeViewBackgroundColor",perform:function(g,y,z){return{appState:Ke(Ke({},y),{},{viewBackgroundColor:z}),commitToHistory:!0}},PanelComponent:function(g){var y=g.appState,z=g.updateData;return Ea().createElement("div",{style:{position:"relative"}},
Ea().createElement(lc,{label:eb("labels.canvasBackground"),type:"canvasBackground",color:y.viewBackgroundColor,onChange:function(M){return z(M)}}))}});ne({name:"clearCanvas",perform:function(g,y){return{elements:g.map(function(z){return yg(z,{isDeleted:!0})}),appState:Ke(Ke({},Dh()),{},{appearance:y.appearance,elementLocked:y.elementLocked,exportBackground:y.exportBackground,exportEmbedScene:y.exportEmbedScene,gridSize:y.gridSize,shouldAddWatermark:y.shouldAddWatermark,showStats:y.showStats,pasteDialog:y.pasteDialog}),
commitToHistory:!0}},PanelComponent:function(g){var y=g.updateData;return Ea().createElement(gf,{type:"button",icon:Ri,title:eb("buttons.clearReset"),"aria-label":eb("buttons.clearReset"),showAriaLabel:Ve(),onClick:function(){window.confirm(eb("alerts.clearReset"))&&y(null)}})}});ne({name:"zoomIn",perform:function(g,y){g=ci(Sj(y.zoom.value+hc.V4),y.zoom,{left:y.offsetLeft,top:y.offsetTop},{x:y.width/2,y:y.height/2});return{appState:Ke(Ke({},y),{},{zoom:g}),commitToHistory:!1}},PanelComponent:function(g){var y=
g.updateData;return Ea().createElement(gf,{type:"button",icon:oi,title:"".concat(eb("buttons.zoomIn")," — ").concat(Wd("CtrlOrCmd++")),"aria-label":eb("buttons.zoomIn"),onClick:function(){y(null)}})},keyTest:function(g){return("Equal"===g.code||"NumpadAdd"===g.code)&&(g[cf]||g.shiftKey)}});ne({name:"zoomOut",perform:function(g,y){g=ci(Sj(y.zoom.value-hc.V4),y.zoom,{left:y.offsetLeft,top:y.offsetTop},{x:y.width/2,y:y.height/2});return{appState:Ke(Ke({},y),{},{zoom:g}),commitToHistory:!1}},PanelComponent:function(g){var y=
g.updateData;return Ea().createElement(gf,{type:"button",icon:Ej,title:"".concat(eb("buttons.zoomOut")," — ").concat(Wd("CtrlOrCmd+-")),"aria-label":eb("buttons.zoomOut"),onClick:function(){y(null)}})},keyTest:function(g){return("Minus"===g.code||"NumpadSubtract"===g.code)&&(g[cf]||g.shiftKey)}});ne({name:"resetZoom",perform:function(g,y){return{appState:Ke(Ke({},y),{},{zoom:ci(1,y.zoom,{left:y.offsetLeft,top:y.offsetTop},{x:y.width/2,y:y.height/2})}),commitToHistory:!1}},PanelComponent:function(g){var y=
g.updateData;return Ea().createElement(gf,{type:"button",icon:$d,title:eb("buttons.resetZoom"),"aria-label":eb("buttons.resetZoom"),onClick:function(){y(null)}})},keyTest:function(g){return("Digit0"===g.code||"Numpad0"===g.code)&&(g[cf]||g.shiftKey)}});var ye=function(g,y,z){g=ge(g);var M=uf(g,y);M=z&&0<M.length?Bg(M):Bg(g);z=ci(Math.min(Math.max(Math.floor(Math.min(y.width/(M[2]-M[0]),y.height/(M[3]-M[1]))/hc.V4)*hc.V4,hc.V4),1),y.zoom,{left:y.offsetLeft,top:y.offsetTop});g=(M[0]+M[2])/2;M=(M[1]+
M[3])/2;return{appState:Ke(Ke(Ke({},y),Xi({scenePoint:{x:g,y:M},viewportDimensions:{width:y.width,height:y.height},zoom:z})),{},{zoom:z}),commitToHistory:!1}};ne({name:"zoomToSelection",perform:function(g,y){return ye(g,y,!0)},keyTest:function(g){return"Digit2"===g.code&&g.shiftKey&&!g.altKey&&!g[cf]}});ne({name:"zoomToFit",perform:function(g,y){return ye(g,y,!1)},keyTest:function(g){return"Digit1"===g.code&&g.shiftKey&&!g.altKey&&!g[cf]}});var Rf,If,Mf=ne({name:"finalize",perform:function(g,y,z,
M){var ca,ja;z=M.canvas;if(y.editingLinearElement){M=y.editingLinearElement;var ya=M.startBindingElement,wa=M.endBindingElement,Da=dg.getElement(M.elementId);if(Da)return og(Da)&&Pf(Da,ya,wa),{elements:2>Da.points.length||Rh(Da)?g.filter(function(lb){return lb.id!==Da.id}):void 0,appState:Eg(Eg({},y),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(M=y.multiElement?y.multiElement:"draw"===(null===(ja=
y.editingElement)||void 0===ja?void 0:ja.type)?y.editingElement:null){"draw"!==M.type&&"touch"!==y.lastPointerDownWith&&(ja=M.points,(ya=M.lastCommittedPoint)&&ja[ja.length-1]===ya||jf(M,{points:M.points.slice(0,-1)}));Rh(M)&&(g=g.slice(0,-1));ja=ei(M.points,y.zoom.value);if(("line"===M.type||"draw"===M.type)&&ja){var Pa=M.points,Ka=Pa[0];jf(M,{points:Pa.map(function(lb,rb){return rb===Pa.length-1?[Ka[0],Ka[1]]:lb})})}og(M)&&!ja&&1<M.points.length&&(ya=dg.getPointAtIndexGlobalCoordinates(M,-1),ja=
ya[0],ya=ya[1],jk(M,y,yh.getScene(M),{x:ja,y:ya}));y.elementLocked||"draw"===y.elementType||(y.selectedElementIds[M.id]=!0)}return(y.elementLocked||"draw"===y.elementType)&&M||Ii(z),{elements:g,appState:Eg(Eg({},y),{},{elementType:(y.elementLocked||"draw"===y.elementType)&&M?y.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:M&&!y.elementLocked&&"draw"!==y.elementType?Eg(Eg({},y.selectedElementIds),{},
(ca={},ca[M.id]=!0,ca)):y.selectedElementIds}),commitToHistory:"draw"===y.elementType}},keyTest:function(g,y){return"Escape"===g.key&&(null!==y.editingLinearElement||!y.draggingElement&&null===y.multiElement)||("Escape"===g.key||"Enter"===g.key)&&null!==y.multiElement},PanelComponent:function(g){var y=g.appState;g=g.updateData;return Ea().createElement(gf,{type:"button",icon:sk,title:eb("buttons.done"),"aria-label":eb("buttons.done"),onClick:g,visible:null!=y.multiElement})}}),Sg="undefined"!=typeof k&&
null!==(Rf=k.env)&&void 0!==Rf&&Rf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(g,y,z,M){window.gtag("event",y,{event_category:g,event_label:z,value:M})}:("undefined"!=typeof k&&null!==(If=k.env)&&void 0!==If&&If.JEST_WORKER_ID,function(g,y,z,M){}),Qg=(e(8518),function(){var g=function(y,z){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,ca){M.__proto__=ca}||function(M,ca){for(var ja in ca)Object.prototype.hasOwnProperty.call(ca,ja)&&(M[ja]=
ca[ja])})(y,z)};return function(y,z){function M(){this.constructor=y}if("function"!=typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");g(y,z);y.prototype=null===z?Object.create(z):(M.prototype=z.prototype,new M)}}()),Di=function(g){function y(){for(var z=[],M=0;M<arguments.length;M++)z[M]=arguments[M];var ca,ja;M=this;return M=g.apply(this,z)||this,ca=ja=M,M.handleFocus=function(ya){ya=ya.currentTarget;var wa=window.getSelection();if(wa){var Da=
document.createRange();Da.selectNodeContents(ya);wa.removeAllRanges();wa.addRange(Da)}},M.handleBlur=function(ya){ya=ya.currentTarget.innerText.trim();ya!==ja.props.value&&ja.props.onChange(ya);(ya=window.getSelection())&&ya.removeAllRanges()},M.handleKeyDown=function(ya){"Enter"!==ya.key||(ya.preventDefault(),ya.nativeEvent.isComposing||229===ya.keyCode)||ya.currentTarget.blur()},M.makeEditable=function(ya){if(ya)try{ya.contentEditable="plaintext-only"}catch(wa){ya.contentEditable="true"}},ca}return Qg(y,
g),y.prototype.render=function(){return Ea().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},y}(jc.Component),Gj=(e(2680),function(g){var y=g.children,z=g.label,M=g.position;M=void 0===M?"below":M;g=g.long;g=void 0!==g&&g;return Ea().createElement("div",{className:"Tooltip"},Ea().createElement("span",
{className:"above"===M?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:g?"50ch":"10ch"}},z),y)}),hk=function(g){var y=g.title?g.title:"dark"===g.value?eb("buttons.lightMode"):eb("buttons.darkMode");return Ea().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:y},Ea().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(z){return g.onChange(z.target.checked?
"dark":"light")},checked:"dark"===g.value,"aria-label":y}),Ea().createElement("div",{className:"ToolIcon__icon"},"light"===g.value?$k.MOON:$k.SUN))},$k={SUN:Ea().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ea().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:Ea().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ea().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const xm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",ym=xm?"chooseFileSystemEntries"===xm?e.e(736).then(e.bind(e,9012)):e.e(736).then(e.bind(e,499)):e.e(736).then(e.bind(e,5034));xm?"chooseFileSystemEntries"===xm?e.e(736).then(e.bind(e,6980)):e.e(736).then(e.bind(e,868)):e.e(736).then(e.bind(e,3110));const rf=xm?"chooseFileSystemEntries"===xm?e.e(736).then(e.bind(e,1170)):e.e(736).then(e.bind(e,7814)):e.e(736).then(e.bind(e,4001));var gl,Ti=function(g,y){if(null!=y&&y.collaborators&&
(y=y.collaborators.get(g),null!=y&&y.color))return y.color;g=g.split("").reduce(function(M,ca){return M+ca.charCodeAt(0)},0);y=Ek.elementBackground.slice(1);var z=Ek.elementStroke.slice(1);return{background:y[g%y.length],stroke:z[g%z.length]}};!function(g){g.ACTIVE="active";g.AWAY="away";g.IDLE="idle"}(gl||(gl={}));var Gm=function(){var g=document.createElement("canvas").getContext("2d");return g?(g.fillStyle="#f00",g.textBaseline="top",g.font="32px Arial",g.fillText("\ud83d\ude00",0,0),0!==g.getImageData(12,
12,1,1).data[0]):!1}(),vl=function(g,y,z,M,ca,ja,ya,wa,Da){void 0===Da&&(Da=!1);g.translate(ja,ya);g.rotate(wa);Da&&g.fillRect(y-ja,z-ya,M,ca);g.strokeRect(y-ja,z-ya,M,ca);g.rotate(-wa);g.translate(-ja,-ya)},Hm=function(g,y,z,M){g.beginPath();g.arc(y,z,M,0,2*Math.PI);g.fill();g.stroke()},kn=function(g,y,z,M,ca,ja,ya,wa){var Da=void 0===wa?{}:wa;wa=Da.renderScrollbars;wa=void 0===wa||wa;var Pa=Da.renderSelection,Ka=void 0===Pa||Pa;Pa=Da.renderOptimizations;var lb=void 0!==Pa&&Pa;Da=Da.renderGrid;var rb=
void 0===Da||Da;if(!ja)return{atLeastOneVisibleElement:!1};var sb=ja.getContext("2d");sb.scale(M,M);var dc=ja.width/M,Yb=ja.height/M;(ya.exportWithDarkMode&&(sb.filter=hc.Gi),"string"==typeof ya.viewBackgroundColor)?(("transparent"===ya.viewBackgroundColor||5===ya.viewBackgroundColor.length||9===ya.viewBackgroundColor.length||/(hsla|rgba)\(/.test(ya.viewBackgroundColor))&&sb.clearRect(0,0,dc,Yb),Da=sb.fillStyle,sb.fillStyle=ya.viewBackgroundColor,sb.fillRect(0,0,dc,Yb),sb.fillStyle=Da):sb.clearRect(0,
0,dc,Yb);Da=ya.zoom.translation.x;Pa=ya.zoom.translation.y;sb.translate(Da,Pa);sb.scale(ya.zoom.value,ya.zoom.value);rb&&y.gridSize&&function(zd,Zd,je,$e,Eh,$h){var Bj=zd.strokeStyle;zd.strokeStyle="rgba(0,0,0,0.1)";zd.beginPath();for(var cj=je;cj<je+Eh+2*Zd;cj+=Zd)zd.moveTo(cj,$e-Zd),zd.lineTo(cj,$e+$h+2*Zd);for(cj=$e;cj<$e+$h+2*Zd;cj+=Zd)zd.moveTo(je-Zd,cj),zd.lineTo(je+Eh+2*Zd,cj);zd.stroke();zd.strokeStyle=Bj}(sb,y.gridSize,-Math.ceil(Da/ya.zoom.value/y.gridSize)*y.gridSize+ya.scrollX%y.gridSize,
-Math.ceil(Pa/ya.zoom.value/y.gridSize)*y.gridSize+ya.scrollY%y.gridSize,dc/ya.zoom.value,Yb/ya.zoom.value);ja=g.filter(function(zd){var Zd={zoom:ya.zoom,offsetLeft:y.offsetLeft,offsetTop:y.offsetTop,scrollX:ya.scrollX,scrollY:ya.scrollY},je=si(zd);zd=je[0];var $e=je[1],Eh=je[2];je=je[3];var $h=ug({clientX:Zd.offsetLeft,clientY:Zd.offsetTop},Zd);Zd=ug({clientX:Zd.offsetLeft+dc,clientY:Zd.offsetTop+Yb},Zd);return $h.x<=Eh&&$h.y<=je&&Zd.x>=zd&&Zd.y>=$e});(ja.forEach(function(zd){on(zd,ca,sb,lb,ya)}),
y.editingLinearElement)&&(rb=dg.getElement(y.editingLinearElement.elementId))&&function(zd,Zd,je,$e){zd.translate(je.scrollX,je.scrollY);var Eh=zd.strokeStyle,$h=zd.lineWidth;zd.lineWidth=1/je.zoom.value;dg.getPointsGlobalCoordinates($e).forEach(function(Bj,cj){var Vl;zd.strokeStyle="red";zd.setLineDash([]);zd.fillStyle=(null===(Vl=Zd.editingLinearElement)||void 0===Vl?void 0:Vl.activePointIndex)===cj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Hm(zd,Bj[0],Bj[1],dg.POINT_HANDLE_SIZE/2/je.zoom.value)});
zd.setLineDash([]);zd.lineWidth=$h;zd.translate(-je.scrollX,-je.scrollY);zd.strokeStyle=Eh}(sb,y,ya,rb);if(z&&on(z,ca,sb,lb,ya),y.isBindingEnabled&&y.suggestedBindings.filter(function(zd){return null!=zd}).forEach(function(zd){var Zd=sb.strokeStyle,je=sb.lineWidth,$e=Array.isArray(zd)?fj:am;sb.translate(ya.scrollX,ya.scrollY);$e(sb,zd);sb.strokeStyle=Zd;sb.lineWidth=je;sb.translate(-ya.scrollX,-ya.scrollY)}),Ka&&!y.multiElement&&!y.editingLinearElement){var zc=g.reduce(function(zd,Zd){var je=[];if(y.selectedElementIds[Zd.id]&&
null==zh(y,Zd)&&je.push(Ee.Sn),ya.remoteSelectedElementIds[Zd.id]&&je.push.apply(je,ya.remoteSelectedElementIds[Zd.id].map(function(Eh){return Ti(Eh,y).background})),je.length){var $e=ig(Zd);zd.push({angle:Zd.angle,elementX1:$e[0],elementY1:$e[1],elementX2:$e[2],elementY2:$e[3],selectionColors:je})}return zd},[]);z=function(zd){zd=ck(g,zd);zd=Bg(zd);zc.push({angle:0,elementX1:zd[0],elementX2:zd[2],elementY1:zd[1],elementY2:zd[3],selectionColors:[Ee.Sn]})};Ka=0;for(rb=Li(y);Ka<rb.length;Ka++)z(rb[Ka]);
y.editingGroupId&&z(y.editingGroupId);zc.forEach(function(zd){var Zd=zd.angle,je=zd.elementX1,$e=zd.elementY1,Eh=zd.selectionColors,$h=zd.elementX2-je;zd=zd.elementY2-$e;var Bj=sb.getLineDash(),cj=sb.lineWidth,Vl=sb.lineDashOffset,un=sb.strokeStyle,fm=4/ya.zoom.value,vn=8/ya.zoom.value,Wm=4/ya.zoom.value;sb.lineWidth=1/ya.zoom.value;sb.translate(ya.scrollX,ya.scrollY);for(var fo=Eh.length,Xm=0;Xm<fo;++Xm)sb.strokeStyle=Eh[Xm],sb.setLineDash([vn,Wm+(vn+Wm)*(fo-1)]),sb.lineDashOffset=(vn+Wm)*Xm,vl(sb,
je-fm,$e-fm,$h+2*fm,zd+2*fm,je+$h/2,$e+zd/2,Zd);sb.lineDashOffset=Vl;sb.strokeStyle=un;sb.lineWidth=cj;sb.setLineDash(Bj);sb.translate(-ya.scrollX,-ya.scrollY)});Ka=uf(g,y);if(sb.translate(ya.scrollX,ya.scrollY),1===Ka.length)sb.fillStyle=Ee.ix,z=wj(Ka[0],ya.zoom,"mouse"),y.viewModeEnabled||vk(sb,ya,z,Ka[0].angle);else if(1<Ka.length&&!y.isRotating){z=4/ya.zoom.value;sb.fillStyle=Ee.ix;var ed=Bg(Ka);Ka=ed[0];rb=ed[1];var id=ed[2];ed=ed[3];var vd=sb.getLineDash();sb.setLineDash([2/ya.zoom.value]);
var le=sb.lineWidth;sb.lineWidth=1/ya.zoom.value;vl(sb,Ka-z,rb-z,id-Ka+2*z,ed-rb+2*z,(Ka+id)/2,(rb+ed)/2,0);sb.lineWidth=le;sb.setLineDash(vd);z=Fk([Ka,rb,id,ed],0,ya.zoom,"mouse",Al);vk(sb,ya,z,0)}sb.translate(-ya.scrollX,-ya.scrollY)}for(var ke in sb.scale(1/ya.zoom.value,1/ya.zoom.value),sb.translate(-Da,-Pa),ya.remotePointerViewportCoords){Da=ya.remotePointerViewportCoords[ke];id=Da.x;ed=Da.y;id-=y.offsetLeft;ed-=y.offsetTop;vd=0>id||id>dc-9||0>ed||ed>Yb-14;id=Math.max(id,0);id=Math.min(id,dc-
9);ed=Math.max(ed,0);ed=Math.min(ed,Yb-14);Da=Ti(ke,y);Pa=Da.background;z=Da.stroke;Ka=sb.strokeStyle;rb=(Da=sb.fillStyle,sb.globalAlpha);sb.strokeStyle=z;sb.fillStyle=Pa;le=ya.remotePointerUserStates[ke];(vd||le===gl.AWAY)&&(sb.globalAlpha=.48);ya.remotePointerButton&&"down"===ya.remotePointerButton[ke]&&(sb.beginPath(),sb.arc(id,ed,15,0,2*Math.PI,!1),sb.lineWidth=3,sb.strokeStyle="#ffffff88",sb.stroke(),sb.closePath(),sb.beginPath(),sb.arc(id,ed,15,0,2*Math.PI,!1),sb.lineWidth=1,sb.strokeStyle=
z,sb.stroke(),sb.closePath());sb.beginPath();sb.moveTo(id,ed);sb.lineTo(id+1,ed+14);sb.lineTo(id+4,ed+9);sb.lineTo(id+9,ed+10);sb.lineTo(id,ed);sb.fill();sb.stroke();var Oe=ya.remotePointerUsernames[ke],Je="";le===gl.AWAY?Je=Gm?"⚫️":" (".concat(gl.AWAY,")"):le===gl.IDLE?Je=Gm?"\ud83d\udca4":" (".concat(gl.IDLE,")"):le===gl.ACTIVE&&(Je=Gm?"\ud83d\udfe2":"");le="".concat(Oe?"".concat(Oe," "):"").concat(Je);!vd&&le&&(id+=9,ed+=14,vd=sb.measureText(le),Oe=vd.actualBoundingBoxDescent+vd.actualBoundingBoxAscent,
sb.fillStyle=z,sb.fillRect(id-1,ed-1,vd.width+8+2,Oe+8+2),sb.fillStyle=Pa,sb.fillRect(id,ed,vd.width+8,Oe+8),sb.fillStyle=Ee.ix,sb.fillText(le,id+4,ed+4+vd.actualBoundingBoxAscent));sb.strokeStyle=Ka;sb.fillStyle=Da;sb.globalAlpha=rb;sb.closePath()}if(wa){var df=function(zd,Zd,je,$e){var Eh=$e.scrollX,$h=$e.scrollY,Bj=$e.zoom;if(0===zd.length)return{horizontal:null,vertical:null};$e=Bg(zd);var cj=$e[0],Vl=$e[1];zd=$e[2];$e=$e[3];var un=Zd/Bj.value,fm=je/Bj.value,vn=Zd-un,Wm=je-fm;Bj=parseInt(ag("sat"));
var fo=parseInt(ag("sab")),Xm=parseInt(ag("sal")),Vr=parseInt(ag("sar")),Ut=ua.rtl;Eh=vn/2-Eh+Xm;$h=Wm/2-$h+Bj;un=Eh+un-Vr;fm=$h+fm-fo;cj=Math.min(cj,Eh);Vl=Math.min(Vl,$h);zd=Math.max(zd,un);$e=Math.max($e,fm);return{horizontal:Eh===cj&&un===zd?null:{x:Math.max(Xm,4)+(Eh-cj)/(zd-cj)*Zd,y:je-6-Math.max(4,fo),width:(un-Eh)/(zd-cj)*Zd-Math.max(8,Xm+Vr),height:6},vertical:$h===Vl&&fm===$e?null:{x:Ut?Math.max(Xm,4):Zd-6-Math.max(Vr,4),y:($h-Vl)/($e-Vl)*je+Math.max(Bj,4),width:6,height:(fm-$h)/($e-Vl)*
je-Math.max(8,Bj+fo)}}}(g,dc,Yb,ya);Da=sb.fillStyle;Ka=sb.strokeStyle;sb.fillStyle="rgba(0,0,0,0.3)";sb.strokeStyle="rgba(255,255,255,0.8)";[df.horizontal,df.vertical].forEach(function(zd){if(zd){var Zd=zd.x,je=zd.y,$e=zd.width;zd=zd.height;sb.beginPath();sb.moveTo(Zd+3,je);sb.lineTo(Zd+$e-3,je);sb.quadraticCurveTo(Zd+$e,je,Zd+$e,je+3);sb.lineTo(Zd+$e,je+zd-3);sb.quadraticCurveTo(Zd+$e,je+zd,Zd+$e-3,je+zd);sb.lineTo(Zd+3,je+zd);sb.quadraticCurveTo(Zd,je+zd,Zd,je+zd-3);sb.lineTo(Zd,je+3);sb.quadraticCurveTo(Zd,
je,Zd+3,je);sb.closePath();sb.fill();sb.stroke()}});sb.fillStyle=Da;sb.strokeStyle=Ka}return sb.scale(1/M,1/M),{atLeastOneVisibleElement:0<ja.length,scrollBars:df}},vk=function(g,y,z,M){Object.keys(z).forEach(function(ca){var ja=z[ca];if(void 0!==ja){var ya=g.lineWidth;g.lineWidth=1/y.zoom.value;"rotation"===ca?Hm(g,ja[0]+ja[2]/2,ja[1]+ja[3]/2,ja[2]/2):vl(g,ja[0],ja[1],ja[2],ja[3],ja[0]+ja[2]/2,ja[1]+ja[3]/2,M,!0);g.lineWidth=ya}})},am=function(g,y){var z=ig(y),M=z[0],ca=z[1],ja=z[2]-M;z=z[3]-ca;
var ya=Zi(y,ja,z);g.strokeStyle="rgba(0,0,0,.05)";g.lineWidth=ya-4;ya=2+ya/2;switch(y.type){case "rectangle":case "text":vl(g,M-ya,ca-ya,ja+2*ya,z+2*ya,M+ja/2,ca+z/2,y.angle);break;case "diamond":var wa=Math.hypot(ja,z);!function(Da,Pa,Ka,lb,rb,sb){Da.translate(lb,rb);Da.rotate(sb);Da.beginPath();Da.moveTo(0,Ka/2);Da.lineTo(Pa/2,0);Da.lineTo(0,-Ka/2);Da.lineTo(-Pa/2,0);Da.closePath();Da.stroke();Da.rotate(-sb);Da.translate(-lb,-rb)}(g,ja+ya*wa/z*2,z+ya*wa/ja*2,M+ja/2,ca+z/2,y.angle);break;case "ellipse":!function(Da,
Pa,Ka,lb,rb,sb){Da.beginPath();Da.ellipse(lb,rb,Pa/2,Ka/2,sb,0,2*Math.PI);Da.stroke()}(g,ja+2*ya,z+2*ya,M+ja/2,ca+z/2,y.angle)}},fj=function(g,y){var z=y[0],M=y[1];y=y[2];var ca=Zi(y,y.width,y.height);g.strokeStyle="rgba(0,0,0,0)";g.fillStyle="rgba(0,0,0,.05)";("both"===M?[0,-1]:"start"===M?[0]:[-1]).forEach(function(ja){ja=dg.getPointAtIndexGlobalCoordinates(z,ja);Hm(g,ja[0],ja[1],ca)})},Ij=function(g,y,z,M){M=void 0===M?{}:M;var ca=M.offsetX,ja=void 0===ca?0:ca;M=M.offsetY;var ya=void 0===M?0:M;
z&&g.forEach(function(wa){wa.isDeleted||function(Da,Pa,Ka,lb,rb){var sb=ig(Da),dc=sb[0],Yb=sb[1],zc=(sb[2]-dc)/2-(Da.x-dc),ed=(sb[3]-Yb)/2-(Da.y-Yb),id=180*Da.angle/Math.PI;sb=Pa.generator;switch(Da.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Yj(Da,sb);sb=Pa.draw(wi.get(Da));1!=(ke=Da.opacity/100)&&(sb.setAttribute("stroke-opacity","".concat(ke)),sb.setAttribute("fill-opacity","".concat(ke)));sb.setAttribute("transform",
"translate(".concat(lb||0," ").concat(rb||0,") rotate(").concat(id," ").concat(zc," ").concat(ed,")"));Ka.appendChild(sb);break;case "line":case "draw":case "arrow":Yj(Da,sb);var vd=Ka.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),le=Da.opacity/100;wi.get(Da).forEach(function(je){je=Pa.draw(je);1!==le&&(je.setAttribute("stroke-opacity","".concat(le)),je.setAttribute("fill-opacity","".concat(le)));je.setAttribute("transform","translate(".concat(lb||0," ").concat(rb||0,") rotate(").concat(id,
" ").concat(zc," ").concat(ed,")"));"line"!==Da.type&&"draw"!==Da.type||!ei(Da.points)||"transparent"===Da.backgroundColor||je.setAttribute("fill-rule","evenodd");vd.appendChild(je)});Ka.appendChild(vd);break;default:if(!be(Da))throw Error("Unimplemented type ".concat(Da.type));var ke=Da.opacity/100;sb=Ka.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==ke&&(sb.setAttribute("stroke-opacity","".concat(ke)),sb.setAttribute("fill-opacity","".concat(ke)));sb.setAttribute("transform",
"translate(".concat(lb||0," ").concat(rb||0,") rotate(").concat(id," ").concat(zc," ").concat(ed,")"));ke=Da.text.replace(/\r\n?/g,"\n").split("\n");dc=Da.height/ke.length;Yb=Da.height-Da.baseline;for(var Oe="center"===Da.textAlign?Da.width/2:"right"===Da.textAlign?Da.width:0,Je=xh.test(Da.text)?"rtl":"ltr",df="center"===Da.textAlign?"middle":"right"===Da.textAlign||"rtl"===Je?"end":"start",zd=0;zd<ke.length;zd++){var Zd=Ka.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Zd.textContent=
ke[zd];Zd.setAttribute("x","".concat(Oe));Zd.setAttribute("y","".concat((zd+1)*dc-Yb));Zd.setAttribute("font-family","".concat(hc.ut[Da.fontFamily],", ").concat(hc._D));Zd.setAttribute("font-size","".concat(Da.fontSize,"px"));Zd.setAttribute("fill",Da.strokeColor);Zd.setAttribute("text-anchor",df);Zd.setAttribute("style","white-space: pre;");Zd.setAttribute("direction",Je);sb.appendChild(Zd)}Ka.appendChild(sb)}}(wa,y,z,wa.x+ja,wa.y+ya)})},wl=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,
ca++)g[ca]=y[z];return g},vm=function(g,y,z,M){var ca=z.exportBackground,ja=z.exportPadding;ja=void 0===ja?10:ja;var ya=z.viewBackgroundColor,wa=z.scale,Da=void 0===wa?1:wa;z=z.shouldAddWatermark;void 0===M&&(M=function(Ka,lb){var rb=document.createElement("canvas");return rb.width=Ka*Da,rb.height=lb*Da,{canvas:rb,scale:Da}});g=Yn(g,z);var Pa=Jm(g,ja,z);z=Pa[0];wa=Pa[1];Pa=M(Pa[2],Pa[3]);M=Pa.canvas;Pa=Pa.scale;return kn(g,y,null,void 0===Pa?Da:Pa,Qh.canvas(M),M,{viewBackgroundColor:ca?ya:null,exportWithDarkMode:y.exportWithDarkMode,
scrollX:-z+ja,scrollY:-wa+ja,zoom:Dh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),M},Pl=function(g,y){var z=y.exportBackground,M=y.exportPadding;M=void 0===M?10:M;var ca=y.viewBackgroundColor,ja=y.exportWithDarkMode,ya=y.scale;ya=void 0===ya?1:ya;var wa=y.shouldAddWatermark;y=y.metadata;y=void 0===y?"":y;g=Yn(g,wa);var Da=
Jm(g,M,wa);wa=Da[0];var Pa=Da[1],Ka=Da[2],lb=Da[3];Da=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Da.setAttribute("version","1.1"),Da.setAttribute("xmlns","http://www.w3.org/2000/svg"),Da.setAttribute("viewBox","0 0 ".concat(Ka," ").concat(lb)),Da.setAttribute("width","".concat(Ka*ya)),Da.setAttribute("height","".concat(lb*ya)),ja&&Da.setAttribute("filter",hc.Gi),Da.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(y,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
z&&ca)z=Da.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),z.setAttribute("x","0"),z.setAttribute("y","0"),z.setAttribute("width","".concat(Ka)),z.setAttribute("height","".concat(lb)),z.setAttribute("fill",ca),Da.appendChild(z);z=Qh.svg(Da);return Ij(g,z,Da,{offsetX:-wa+M,offsetY:-Pa+M}),Da},Yn=function(g,y){var z=wl([],g);y&&(y=Bg(g),g=y[2],y=y[3],z=wl([],z),g=Kj({text:eb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:hc.rk,textAlign:"right",verticalAlign:hc.hs,x:g,y:y+16,
strokeColor:Ee.MA[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),z=wl(z,[g]));return z},Jm=function(g,y,z){g=Bg(g);var M=g[0],ca=g[1];return[M,ca,Math.abs(M-g[2])+2*y,Math.abs(ca-g[3])+y+(z?0:y)]},Tj=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},Mi=function(g){return(g=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(g))?parseFloat(g[1].replace(/,/g,"")):null},Hn=function(g,y){return g.slice(1).every(function(z){return null!==
Mi(z[y])})},In=function(g){var y=g[0].length;if(2<y)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===y){if(!Hn(g,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};y=null===Mi(g[0][0]);var z=(y?g.slice(1):g).map(function(ja){return Mi(ja[0])});return 2>z.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:y?g[0][0]:null,labels:null,values:z}}}var M=Hn(g,0)?0:1;if(!Hn(g,M))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var ca=(M+1)%2;z=(y=null===Mi(g[0][M]))?g.slice(1):g;return 2>z.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:y?g[0][M]:null,labels:z.map(function(ja){return ja[ca]}),values:z.map(function(ja){return Mi(ja[M])})}}},Wk=Ek.elementBackground.slice(2,Ek.elementBackground.length),gj={fillStyle:"hachure",fontFamily:hc.rk,fontSize:hc.n5,opacity:100,roughness:1,strokeColor:Ek.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Im=function(g){return{chartWidth:44*g.values.length+12,chartHeight:280}},Vn=function(g,y,z,M,ca,ja){var ya=Im(g),wa=ya.chartWidth,Da=ya.chartHeight;ya=g.title?Kj(We(We({backgroundColor:ca,groupIds:[M]},gj),{},{text:g.title,x:y+wa/2,y:z-256-24-hc.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;ja=ja?Ol(We(We({backgroundColor:ca,groupIds:[M]},gj),{},{type:"rectangle",x:y,y:z-Da,width:wa,height:Da,strokeColor:Ek.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Tj(Tj(Tj(Tj(Tj([],ja?[ja]:[]),ya?[ya]:[]),function(Pa,Ka,lb,rb,sb){var dc;return(null===(dc=Pa.labels)||void 0===dc?void 0:dc.map(function(Yb,zc){return Kj(We(We({groupIds:[rb],backgroundColor:sb},gj),{},{text:8<Yb.length?"".concat(Yb.slice(0,5),"..."):Yb,x:Ka+44*zc+24,y:lb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(g,y,z,M,ca)),function(Pa,Ka,lb,rb,sb){var dc=Kj(We(We({groupIds:[rb],backgroundColor:sb},gj),{},{x:Ka-12,y:lb-12,text:"0",textAlign:"right"}));
return[dc,Kj(We(We({groupIds:[rb],backgroundColor:sb},gj),{},{x:Ka-12,y:lb-256-dc.height/2,text:Math.max.apply(Math,Pa.values).toLocaleString(),textAlign:"right"}))]}(g,y,z,M,ca)),function(Pa,Ka,lb,rb,sb){var dc=Im(Pa);Pa=dc.chartWidth;dc=dc.chartHeight;return[Te(We(We({backgroundColor:sb,groupIds:[rb]},gj),{},{type:"line",x:Ka,y:lb,startArrowhead:null,endArrowhead:null,width:Pa,points:[[0,0],[Pa,0]]})),Te(We(We({backgroundColor:sb,groupIds:[rb]},gj),{},{type:"line",x:Ka,y:lb,startArrowhead:null,
endArrowhead:null,height:dc,points:[[0,0],[0,-dc]]})),Te(We(We({backgroundColor:sb,groupIds:[rb]},gj),{},{type:"line",x:Ka,y:lb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Pa,opacity:50,points:[[0,0],[Pa,0]]}))]}(g,y,z,M,ca))},Wn=function(g,y,z,M){return"line"===g?function(ca,ja,ya){for(var wa=Math.max.apply(Math,ca.values),Da=xi(),Pa=Wk[Math.floor(Math.random()*Wk.length)],Ka=0,lb=[],rb=0,sb=ca.values;rb<sb.length;rb++)lb.push([44*Ka,-sb[rb]/wa*256]),Ka++;Ka=Math.max.apply(Math,
lb.map(function(Yb){return Yb[0]}));rb=Math.max.apply(Math,lb.map(function(Yb){return Yb[1]}));sb=Math.min.apply(Math,lb.map(function(Yb){return Yb[0]}));var dc=Math.min.apply(Math,lb.map(function(Yb){return Yb[1]}));lb=Te(We(We({backgroundColor:Pa,groupIds:[Da]},gj),{},{type:"line",x:ja+12+16,y:ya-12,startArrowhead:null,endArrowhead:null,height:rb-dc,width:Ka-sb,strokeWidth:2,points:lb}));Ka=ca.values.map(function(Yb,zc){zc=44*zc+6;Yb=-Yb/wa*256+6;return Ol(We(We({backgroundColor:Pa,groupIds:[Da]},
gj),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:ja+zc+16,y:ya+Yb-24,width:12,height:12}))});rb=ca.values.map(function(Yb,zc){zc=44*zc+6;Yb=Yb/wa*256+18;return Te(We(We({backgroundColor:Pa,groupIds:[Da]},gj),{},{type:"line",x:ja+zc+16+6,y:ya-Yb,startArrowhead:null,endArrowhead:null,height:Yb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Yb]]}))});return Tj(Tj(Tj(Tj([],Vn(ca,ja,ya,Da,Pa,"production"===hc.Vi.DEVELOPMENT)),[lb]),rb),Ka)}(y,z,M):function(ca,ja,ya){var wa=Math.max.apply(Math,
ca.values),Da=xi(),Pa=Wk[Math.floor(Math.random()*Wk.length)],Ka=ca.values.map(function(lb,rb){lb=lb/wa*256;return Ol(We(We({backgroundColor:Pa,groupIds:[Da]},gj),{},{type:"rectangle",x:ja+44*rb+12,y:ya-lb-12,width:32,height:lb}))});return Tj(Tj([],Ka),Vn(ca,ja,ya,Da,Pa,"production"===hc.Vi.DEVELOPMENT))}(y,z,M)},Xn=function(){var g=function(y,z){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,ca){M.__proto__=ca}||function(M,ca){for(var ja in ca)Object.prototype.hasOwnProperty.call(ca,
ja)&&(M[ja]=ca[ja])})(y,z)};return function(y,z){function M(){this.constructor=y}if("function"!=typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");g(y,z);y.prototype=null===z?Object.create(z):(M.prototype=z.prototype,new M)}}(),rn=function(g){function y(z,M){void 0===z&&(z="Couldn't export canvas.");void 0===M&&(M="CANVAS_ERROR");var ca=g.call(this)||this;return ca.name=M,ca.message=z,ca}return Xn(y,g),y}(Error),Nj=function(g,y){var z,M,ca,ja,
ya,wa,Da,Pa;g={type:g.type,version:g.version||1,versionNonce:null!==(z=g.versionNonce)&&void 0!==z?z:0,isDeleted:null!==(M=g.isDeleted)&&void 0!==M&&M,id:g.id||xi(),fillStyle:g.fillStyle||"hachure",strokeWidth:g.strokeWidth||1,strokeStyle:null!==(ca=g.strokeStyle)&&void 0!==ca?ca:"solid",roughness:null!==(ja=g.roughness)&&void 0!==ja?ja:1,opacity:null==g.opacity?100:g.opacity,angle:g.angle||0,x:g.x||0,y:g.y||0,strokeColor:g.strokeColor,backgroundColor:g.backgroundColor,width:g.width||0,height:g.height||
0,seed:null!==(ya=g.seed)&&void 0!==ya?ya:1,groupIds:null!==(wa=g.groupIds)&&void 0!==wa?wa:[],strokeSharpness:null!==(Da=g.strokeSharpness)&&void 0!==Da?Da:hj(g.type)?"round":"sharp",boundElementIds:null!==(Pa=g.boundElementIds)&&void 0!==Pa?Pa:[]};return Fe(Fe(Fe({},g),Ml(g)),y)},wk=function(g){return(g||[]).reduce(function(y,z){if("selection"!==z.type&&!Rh(z)){a:{var M;switch(z.type){case "text":var ca=z.fontSize,ja=z.fontFamily;if("font"in z){ca=z.font.split(" ");ja=ca[1];ca=parseInt(ca[0],10);
b:{for(var ya=0,wa=Object.entries(hc.ut);ya<wa.length;ya++){var Da=wa[ya],Pa=Da[0];if(Da[1].includes(ja)){ja=parseInt(Pa);break b}}ja=hc.rk}}z=Nj(z,{fontSize:ca,fontFamily:ja,text:null!==(M=z.text)&&void 0!==M?M:"",baseline:z.baseline,textAlign:z.textAlign||hc.Hg,verticalAlign:z.verticalAlign||hc.hs});break a;case "draw":case "line":case "arrow":M=z.startArrowhead;M=void 0===M?null:M;ca=z.endArrowhead;ca=void 0===ca?"arrow"===z.type?"arrow":null:ca;z=Nj(z,{startBinding:z.startBinding,endBinding:z.endBinding,
points:!Array.isArray(z.points)||2>z.points.length?[[0,0],[z.width,z.height]]:z.points,lastCommittedPoint:null,startArrowhead:M,endArrowhead:ca});break a;case "ellipse":case "rectangle":case "diamond":z=Nj(z,{});break a}z=void 0}z&&y.push(z)}return y},[])},ln=function(g,y){g=g||{};for(var z=Dh(),M={},ca=0,ja=Object.entries(z);ca<ja.length;ca++){var ya=ja[ca],wa=ya[0];ya=ya[1];var Da=g[wa],Pa=y?y[wa]:void 0;M[wa]=void 0!==Da?Da:void 0!==Pa?Pa:ya}return Fe(Fe({},M),{},{offsetLeft:g.offsetLeft||0,offsetTop:g.offsetTop||
0,zoom:"number"==typeof g.zoom?{value:g.zoom,translation:z.zoom.translation}:g.zoom||z.zoom})},mn=function(g,y){return{elements:wk(null==g?void 0:g.elements),appState:ln(null==g?void 0:g.appState,y||null)}},tn=function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=
[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=
y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},mj=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},ph=function(){function g(){}return g.importLibrary=function(y){return Pc()(function(){var z,
M,ca,ja;return tn(this,function(ya){switch(ya.label){case 0:return[4,qp(y)];case 1:return(z=ya.sent())&&z.library?(M=function(wa,Da){return!wa.find(function(Pa){return Pa.length===Da.length&&Pa.every(function(Ka,lb){return Ka.id===Da[lb].id&&Ka.versionNonce===Da[lb].versionNonce})})},[4,g.loadLibrary()]):[2];case 2:return ca=ya.sent(),ja=z.library.reduce(function(wa,Da){Da=ge(wk(Da));return M(ca,Da)&&wa.push(Da),wa},[]),g.saveLibrary(mj(mj([],ca),ja)),[2]}})})()},g}();ph.libraryCache=null;ph.resetLibrary=
function(){ph.libraryCache=null;localStorage.removeItem(hc.I.LOCAL_STORAGE_LIBRARY)};ph.loadLibrary=function(){return new Promise(function(){var g=Pc()(function(y){var z,M;return tn(this,function(ca){if(ph.libraryCache)return[2,y(JSON.parse(JSON.stringify(ph.libraryCache)))];try{if(!(z=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY)))return[2,y([])];M=JSON.parse(z).map(function(ja){return wk(ja)});ph.libraryCache=JSON.parse(JSON.stringify(M));y(M)}catch(ja){console.error(ja),y([])}return[2]})});
return function(y){return g.apply(this,arguments)}}())};ph.saveLibrary=function(g){var y=ph.libraryCache;try{var z=JSON.stringify(g);ph.libraryCache=JSON.parse(z);localStorage.setItem(hc.I.LOCAL_STORAGE_LIBRARY,z)}catch(M){ph.libraryCache=y,console.error(M)}};var qm=function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=
ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);
else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},rm=function(g,y){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Df(g),
appState:vi(y,"export")},null,2)},bm=function(){var g=Pc()(function(y,z){var M;return qm(this,function(ca){switch(ca.label){case 0:return M=rm(y,z),[4,jh(new Blob([M],{type:"application/json"}),{fileName:z.name,description:"Excalidraw file",extensions:[".excalidraw"]},z.fileHandle)];case 1:return[2,{fileHandle:ca.sent()}]}})});return function(y,z){return g.apply(this,arguments)}}(),nn=function(){var g=Pc()(function(y){var z;return qm(this,function(M){switch(M.label){case 0:return[4,uh({description:"Excalidraw files",
extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return z=M.sent(),[2,Om(z,y)]}})});return function(y){return g.apply(this,arguments)}}(),sm=function(){var g=Pc()(function(){var y,z;return qm(this,function(M){switch(M.label){case 0:return[4,ph.loadLibrary()];case 1:return y=M.sent(),z=JSON.stringify({type:"excalidrawlib",version:1,library:y},null,2),"library.excalidrawlib",[4,jh(new Blob([z],{type:hc.LO.excalidrawlib}),{fileName:"library.excalidrawlib",
description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return M.sent(),[2]}})});return function(){return g.apply(this,arguments)}}(),pp=function(){var g=Pc()(function(){var y;return qm(this,function(z){switch(z.label){case 0:return[4,uh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return y=z.sent(),ph.importLibrary(y),[2]}})});return function(){return g.apply(this,arguments)}}(),Km=function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");
for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=
Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya},Cn=function(){var g=Pc()(function(y){var z;return Km(this,function(M){switch(M.label){case 0:if("image/png"!==y.type)return[3,6];M.label=1;case 1:return M.trys.push([1,4,,5]),[4,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527))];case 2:return[4,M.sent().decodePngMetadata(y)];case 3:return[2,M.sent()];case 4:throw"INVALID"===M.sent().message?Error(eb("alerts.imageDoesNotContainScene")):Error(eb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,y.text()]:[3,8];
case 7:return z=M.sent(),[3,10];case 8:return[4,new Promise(function(ca){var ja=new FileReader;ja.readAsText(y,"utf8");ja.onloadend=function(){ja.readyState===FileReader.DONE&&ca(ja.result)}})];case 9:z=M.sent(),M.label=10;case 10:if("image/svg+xml"!==y.type)return[3,15];M.label=11;case 11:return M.trys.push([11,14,,15]),[4,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527))];case 12:return[4,M.sent().decodeSvgMetadata({svg:z})];case 13:return[2,M.sent()];case 14:throw"INVALID"===M.sent().message?
Error(eb("alerts.imageDoesNotContainScene")):Error(eb("alerts.cannotRestoreFromImage"));case 15:return[2,z]}})});return function(y){return g.apply(this,arguments)}}(),Om=function(){var g=Pc()(function(y,z){var M,ca;return Km(this,function(ja){switch(ja.label){case 0:return[4,Cn(y)];case 1:M=ja.sent();try{var ya=ca=JSON.parse(M);if("excalidraw"!==(null==ya?void 0:ya.type)||ya.elements&&(!Array.isArray(ya.elements)||ya.appState&&"object"!=typeof ya.appState))throw Error(eb("alerts.couldNotLoadInvalidFile"));
var wa=Df(ca.elements||[]),Da=null==z?void 0:z.appearance,Pa;if(Pa=y.handle){var Ka=["application/json",hc.LO.excalidraw],lb=Ka.includes;a:{if("string"==typeof y)var rb=y;else{if(y.type){var sb=y.type;break a}rb=y.name||""}sb=/\.(excalidraw|json)$/.test(rb)?"application/json":/\.png$/.test(rb)?"image/png":/\.jpe?g$/.test(rb)?"image/jpeg":/\.svg$/.test(rb)?"image/svg+xml":""}Pa=lb.call(Ka,sb)}return[2,mn({elements:wa,appState:Db(Db({appearance:Da,fileHandle:Pa?y.handle:null},vi(ca.appState||{},"export")),
z?mi(ca.elements||[],z):{})},z)]}catch(dc){throw console.error(dc.message),Error(eb("alerts.couldNotLoadInvalidFile"));}}})});return function(y,z){return g.apply(this,arguments)}}(),qp=function(){var g=Pc()(function(y){var z,M;return Km(this,function(ca){switch(ca.label){case 0:return[4,Cn(y)];case 1:if(z=ca.sent(),"excalidrawlib"!==(M=JSON.parse(z)).type)throw Error(eb("alerts.couldNotLoadInvalidFile"));return[2,M]}})});return function(y){return g.apply(this,arguments)}}(),Lm=function(){var g=Pc()(function(y){return Km(this,
function(z){return[2,new Promise(function(M,ca){try{y.toBlob(function(ja){if(!ja)return ca(new rn(eb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));M(ja)})}catch(ja){ca(ja)}})]})});return function(y){return g.apply(this,arguments)}}(),Vj=function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;
switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();
wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Nm="",Mm=!1,Uh="clipboard"in navigator&&"readText"in navigator.clipboard,Wj="clipboard"in navigator&&"writeText"in navigator.clipboard,
Dk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Ck=function(){var g=Pc()(function(y,z){var M,ca,ja;return Vj(this,function(ya){switch(ya.label){case 0:M={type:"excalidraw/elements",created:Date.now(),elements:uf(y,z)},Nm=ca=JSON.stringify(M),ya.label=1;case 1:return ya.trys.push([1,3,,4]),Mm=!1,[4,Mb(ca)];case 2:return ya.sent(),[3,4];case 3:return ja=ya.sent(),Mm=!0,console.error(ja),[3,4];case 4:return[2]}})});return function(y,
z){return g.apply(this,arguments)}}(),Q=function(){if(!Nm)return{};try{return JSON.parse(Nm)}catch(g){return console.error(g),{}}},ma=function(g){g=function(y){var z=y.trim().split("\n").map(function(ca){return ca.trim().split("\t")});if(z.length&&2!==z[0].length&&(z=y.trim().split("\n").map(function(ca){return ca.trim().split(",")})),0===z.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var M=z[0].length;if(!z.every(function(ca){return ca.length===M}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};
y=In(z);return"VALID_SPREADSHEET"!==y.type&&(z=In(function(ca){for(var ja=[],ya=0;ya<ca[0].length;ya++){for(var wa=[],Da=0;Da<ca.length;Da++)wa.push(ca[Da][ya]);ja.push(wa)}return ja}(z)),"VALID_SPREADSHEET"===z.type)?z:y}(g);return"VALID_SPREADSHEET"===g.type?{spreadsheet:g.spreadsheet}:null},Ca=function(){var g=Pc()(function(y){var z,M,ca;return Vj(this,function(ja){switch(ja.label){case 0:return ja.trys.push([0,5,,6]),y?(M=null===(z=y.clipboardData)||void 0===z?void 0:z.getData("text/plain").trim(),
[3,4]):[3,1];case 1:return(ca=Uh)?[4,navigator.clipboard.readText()]:[3,3];case 2:ca=ja.sent(),ja.label=3;case 3:M=ca,ja.label=4;case 4:return[2,M||""];case 5:return ja.sent(),[2,""];case 6:return[2]}})});return function(y){return g.apply(this,arguments)}}(),db=function(){var g=Pc()(function(y){var z,M,ca,ja;return Vj(this,function(ya){switch(ya.label){case 0:return[4,Ca(y)];case 1:if(!(z=ya.sent())||z.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,Q()];if(M=ma(z))return[2,M];ca=Q();try{return ja=
JSON.parse(z),"excalidraw/elements"===(null==(wa=ja)?void 0:wa.type)&&(null==ca||!ca.created||ca.created<ja.created)?[2,{elements:ja.elements}]:[2,ca]}catch(Da){return[2,Mm&&ca.elements?ca:{text:z}]}}var wa})});return function(y){return g.apply(this,arguments)}}(),Ab=function(){var g=Pc()(function(y){var z;return Vj(this,function(M){switch(M.label){case 0:return[4,Lm(y)];case 1:return z=M.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":z})])];case 2:return M.sent(),[2]}})});
return function(y){return g.apply(this,arguments)}}(),Mb=function(){var g=Pc()(function(y){var z,M;return Vj(this,function(ca){switch(ca.label){case 0:if(z=!1,!Wj)return[3,4];ca.label=1;case 1:return ca.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(y||"")];case 2:return ca.sent(),z=!0,[3,4];case 3:return M=ca.sent(),console.error(M),[3,4];case 4:if(ca=!z){var ja=y||" ",ya="rtl"===document.documentElement.getAttribute("dir");ca=document.createElement("textarea");ca.style.border="0";ca.style.padding=
"0";ca.style.margin="0";ca.style.position="absolute";ca.style[ya?"right":"left"]="-9999px";ca.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");ca.style.fontSize="12pt";ca.setAttribute("readonly","");ca.value=ja;document.body.appendChild(ca);ja=!1;try{ca.select(),ca.setSelectionRange(0,ca.value.length),ja=document.execCommand("copy")}catch(wa){console.error(wa)}ca=!(ca.remove(),ja)}if(ca)throw Error("couldn't copy");return[2]}})});return function(y){return g.apply(this,
arguments)}}(),pc=function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=
wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},
trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Ac=function(){var g=Pc()(function(y,z,M,ca,ja){var ya,wa,Da,Pa,Ka,lb,rb,sb,dc,Yb=ja.exportBackground,zc=ja.exportPadding,ed=void 0===zc?10:zc,id=ja.viewBackgroundColor,vd=ja.name;zc=ja.scale;var le=void 0===zc?1:zc,ke=ja.shouldAddWatermark;return pc(this,function(Oe){switch(Oe.label){case 0:if(0===z.length)throw Error(eb("alerts.cannotExportEmptyCanvas"));return"svg"!==
y&&"clipboard-svg"!==y?[3,7]:(wa=Pl,Da=[z],Pa={exportBackground:Yb,exportWithDarkMode:M.exportWithDarkMode,viewBackgroundColor:id,exportPadding:ed,scale:le,shouldAddWatermark:ke},M.exportEmbedScene&&"svg"===y?[4,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527))]:[3,3]);case 1:return[4,Oe.sent().encodeSvgMetadata({text:rm(z,M)})];case 2:return Ka=Oe.sent(),[3,4];case 3:Ka=void 0,Oe.label=4;case 4:return ya=wa.apply(void 0,Da.concat([(Pa.metadata=Ka,Pa)])),"svg"!==y?[3,6]:[4,jh(new Blob([ya.outerHTML],
{type:"image/svg+xml"}),{fileName:"".concat(vd,".svg"),extensions:[".svg"]})];case 5:return Oe.sent(),[2];case 6:if("clipboard-svg"===y)return Mb(ya.outerHTML),[2];Oe.label=7;case 7:return(lb=vm(z,M,{exportBackground:Yb,viewBackgroundColor:id,exportPadding:ed,scale:le,shouldAddWatermark:ke})).style.display="none",document.body.appendChild(lb),"png"!==y?[3,13]:(rb="".concat(vd,".png"),[4,Lm(lb)]);case 8:return sb=Oe.sent(),M.exportEmbedScene?[4,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527))]:
[3,11];case 9:return[4,Oe.sent().encodePngMetadata({blob:sb,metadata:rm(z,M)})];case 10:sb=Oe.sent(),Oe.label=11;case 11:return[4,jh(sb,{fileName:rb,extensions:[".png"]})];case 12:return Oe.sent(),[3,17];case 13:if("clipboard"!==y)return[3,17];Oe.label=14;case 14:return Oe.trys.push([14,16,,17]),[4,Ab(lb)];case 15:return Oe.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(dc=Oe.sent()).name)throw dc;throw Error(eb("alerts.couldNotCopyToClipboard"));case 17:return lb!==ca&&lb.remove(),[2]}})});
return function(y,z,M,ca,ja){return g.apply(this,arguments)}}(),Lc=function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;
case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,
ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Xc,nd,Qd;ne({name:"changeProjectName",perform:function(g,y,z){return Sg("change","title"),{appState:Xa(Xa({},y),{},{name:z}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,z=g.updateData;return Ea().createElement(Di,{label:eb("labels.fileTitle"),value:y.name||"Unnamed",onChange:function(M){return z(M)}})}});
ne({name:"changeExportBackground",perform:function(g,y,z){return{appState:Xa(Xa({},y),{},{exportBackground:z}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,z=g.updateData;return Ea().createElement("label",null,Ea().createElement("input",{type:"checkbox",checked:y.exportBackground,onChange:function(M){return z(M.target.checked)}})," ",eb("labels.withBackground"))}});ne({name:"changeExportEmbedScene",perform:function(g,y,z){return{appState:Xa(Xa({},y),{},{exportEmbedScene:z}),commitToHistory:!1}},
PanelComponent:function(g){var y=g.appState,z=g.updateData;return Ea().createElement("label",{style:{display:"flex"}},Ea().createElement("input",{type:"checkbox",checked:y.exportEmbedScene,onChange:function(M){return z(M.target.checked)}})," ",eb("labels.exportEmbedScene"),Ea().createElement(Gj,{label:eb("labels.exportEmbedScene_details"),position:"above",long:!0},Ea().createElement("div",{className:"TooltipIcon"},fd)))}});ne({name:"changeShouldAddWatermark",perform:function(g,y,z){return{appState:Xa(Xa({},
y),{},{shouldAddWatermark:z}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,z=g.updateData;return Ea().createElement("label",null,Ea().createElement("input",{type:"checkbox",checked:y.shouldAddWatermark,onChange:function(M){return z(M.target.checked)}})," ",eb("labels.addWatermark"))}});ne({name:"saveScene",perform:(Xc=Pc()(function(g,y,z){var M,ca,ja;return Lc(this,function(ya){switch(ya.label){case 0:M=!!y.fileHandle,ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,bm(g,y)];
case 2:return ca=ya.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},y),{},{fileHandle:ca,toastMessage:M?ca.name?eb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(ca.name,'"')):eb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(ja=ya.sent())?void 0:ja.name)&&console.error(ja),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(g,y,z){return Xc.apply(this,arguments)}),keyTest:function(g){return"s"===g.key&&g[cf]&&!g.shiftKey},PanelComponent:function(g){var y=
g.updateData;return Ea().createElement(gf,{type:"button",icon:De,title:eb("buttons.save"),"aria-label":eb("buttons.save"),showAriaLabel:Ve(),onClick:function(){return y(null)}})}});ne({name:"saveAsScene",perform:(nd=Pc()(function(g,y,z){var M,ca;return Lc(this,function(ja){switch(ja.label){case 0:return ja.trys.push([0,2,,3]),[4,bm(g,Xa(Xa({},y),{},{fileHandle:null}))];case 1:return M=ja.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},y),{},{fileHandle:M})}];case 2:return"AbortError"!==
(null==(ca=ja.sent())?void 0:ca.name)&&console.error(ca),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(g,y,z){return nd.apply(this,arguments)}),keyTest:function(g){return"s"===g.key&&g.shiftKey&&g[cf]},PanelComponent:function(g){var y=g.updateData;return Ea().createElement(gf,{type:"button",icon:Fm,title:eb("buttons.saveAs"),"aria-label":eb("buttons.saveAs"),showAriaLabel:Ve(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return y(null)}})}});
ne({name:"loadScene",perform:(Qd=Pc()(function(g,y){var z,M,ca,ja;return Lc(this,function(ya){switch(ya.label){case 0:return ya.trys.push([0,2,,3]),[4,nn(y)];case 1:return z=ya.sent(),M=z.elements,ca=z.appState,[2,{elements:M,appState:ca,commitToHistory:!0}];case 2:return"AbortError"===(null==(ja=ya.sent())?void 0:ja.name)?[2,!1]:[2,{elements:g,appState:Xa(Xa({},y),{},{errorMessage:ja.message}),commitToHistory:!1}];case 3:return[2]}})}),function(g,y){return Qd.apply(this,arguments)}),keyTest:function(g){return g[cf]&&
"o"===g.key},PanelComponent:function(g){var y=g.updateData;g.appState;return Ea().createElement(gf,{type:"button",icon:om,title:eb("buttons.load"),"aria-label":eb("buttons.load"),showAriaLabel:Ve(),onClick:y})}});ne({name:"exportWithDarkMode",perform:function(g,y,z){return{appState:Xa(Xa({},y),{},{exportWithDarkMode:z}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,z=g.updateData;return Ea().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",
marginBottom:"10px"}},Ea().createElement(hk,{value:y.exportWithDarkMode?"dark":"light",onChange:function(M){z("dark"===M)},title:eb("labels.toggleExportColorScheme")}))}});var fe="{}",qf=ne({name:"copyStyles",perform:function(g,y){g=g.find(function(z){return y.selectedElementIds[z.id]});return g&&(fe=JSON.stringify(g)),{appState:vb(vb({},y),{},{toastMessage:eb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(g){return g[cf]&&g.altKey&&"KeyC"===g.code}}),
hf=ne({name:"pasteStyles",perform:function(g,y){var z=JSON.parse(fe);return"text"!==(null==z?void 0:z.type)&&"diamond"!==(null==z?void 0:z.type)&&"rectangle"!==(null==z?void 0:z.type)&&"ellipse"!==(null==z?void 0:z.type)&&"arrow"!==(null==z?void 0:z.type)&&"draw"!==(null==z?void 0:z.type)&&"line"!==(null==z?void 0:z.type)?{elements:g,commitToHistory:!1}:{elements:g.map(function(M){return y.selectedElementIds[M.id]?(M=yg(M,{backgroundColor:null==z?void 0:z.backgroundColor,strokeWidth:null==z?void 0:
z.strokeWidth,strokeColor:null==z?void 0:z.strokeColor,strokeStyle:null==z?void 0:z.strokeStyle,fillStyle:null==z?void 0:z.fillStyle,opacity:null==z?void 0:z.opacity,roughness:null==z?void 0:z.roughness}),be(M)&&(jf(M,{fontSize:(null==z?void 0:z.fontSize)||hc.n5,fontFamily:(null==z?void 0:z.fontFamily)||hc.rk,textAlign:(null==z?void 0:z.textAlign)||hc.Hg}),qk(M)),M):M}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(g){return g[cf]&&g.altKey&&"KeyV"===g.code}}),gi=function(g){return Ea().createElement("label",
{title:"".concat(g.title," — ?"),className:"help-icon"},Ea().createElement("div",{onClick:g.onClick},fd))};ne({name:"toggleCanvasMenu",perform:function(g,y){return{appState:rc(rc({},y),{},{openMenu:"canvas"===y.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState;g=g.updateData;return Ea().createElement(gf,{type:"button",icon:Sk,"aria-label":eb("buttons.menu"),onClick:g,selected:"canvas"===y.openMenu})}});ne({name:"toggleEditMenu",perform:function(g,y){return{appState:rc(rc({},
y),{},{openMenu:"shape"===y.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(g){var y=g.elements,z=g.appState;g=g.updateData;return Ea().createElement(gf,{visible:rh(z,ge(y)),type:"button",icon:Mh,"aria-label":eb("buttons.edit"),onClick:g,selected:"shape"===z.openMenu})}});ne({name:"toggleFullScreen",perform:function(){return wh()||document.documentElement.requestFullscreen(),wh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(g){return"KeyF"===g.code&&!g[cf]}});
ne({name:"toggleShortcuts",perform:function(g,y){return{appState:rc(rc({},y),{},{showHelpDialog:!y.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(g){g=g.updateData;return Ea().createElement(gi,{title:eb("helpDialog.title"),onClick:g})},keyTest:function(g){return"?"===g.key}});var Zk=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},ak=function(g,y){g=uf(ge(g),y);return 2<=g.length&&!function(z){if(2<=z.length)for(var M=function(wa){if(z.reduce(function(Da,
Pa){return Da&&Pa.groupIds.includes(wa)},!0))return{value:!0}},ca=0,ja=z[0].groupIds;ca<ja.length;ca++){var ya=M(ja[ca]);if("object"==typeof ya)return ya.value}return!1}(g)},cg=ne({name:"group",perform:function(g,y){var z=uf(ge(g),y);if(2>z.length)return{appState:y,elements:g,commitToHistory:!1};var M=Li(y);if(1===M.length&&(M=new Set(ck(g,M[0]).map(function(ya){return ya.id})),z=new Set(z.map(function(ya){return ya.id})),(new Set(Zk(Zk([],Array.from(M)),Array.from(z)))).size===M.size))return{appState:y,
elements:g,commitToHistory:!1};var ca=xi();M=g.map(function(ya){if(y.selectedElementIds[ya.id]){var wa=y.editingGroupId;var Da=zl([],ya.groupIds);wa=wa?Da.indexOf(wa):-1;Da=(Da.splice(-1<wa?wa:Da.length,0,ca),Da);ya=yg(ya,{groupIds:Da})}return ya});g=ck(M,ca);var ja=M.lastIndexOf(g[g.length-1]);z=M.slice(ja+1);M=M.slice(0,ja).filter(function(ya){return!ya.groupIds.includes(ca)});g=Zk(Zk(Zk([],M),g),z);return{appState:bk(ca,Nc(Nc({},y),{},{selectedGroupIds:{}}),ge(g)),elements:g,commitToHistory:!0}},
contextItemLabel:"labels.group",contextItemPredicate:function(g,y){return ak(g,y)},keyTest:function(g){return!g.shiftKey&&g[cf]&&"KeyG"===g.code},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!ak(y,z),type:"button",icon:Ea().createElement(sf,{appearance:z.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.group")," — ").concat(Wd("CtrlOrCmd+G")),"aria-label":eb("labels.group"),visible:kg(ge(y),z)})}}),yi=ne({name:"ungroup",
perform:function(g,y){if(0===Li(y).length)return{appState:y,elements:g,commitToHistory:!1};g=g.map(function(z){var M=function(ca,ja){return ca.filter(function(ya){return!ja[ya]})}(z.groupIds,y.selectedGroupIds);return M.length===z.groupIds.length?z:yg(z,{groupIds:M})});return{appState:Wh(Nc(Nc({},y),{},{selectedGroupIds:{}}),ge(g)),elements:g,commitToHistory:!0}},keyTest:function(g){return g.shiftKey&&g[cf]&&"KeyG"===g.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(g,y){return 0<
Li(y).length},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{type:"button",hidden:0===Li(z).length,icon:Ea().createElement(Ok,{appearance:z.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.ungroup")," — ").concat(Wd("CtrlOrCmd+Shift+G")),"aria-label":eb("labels.ungroup"),visible:kg(ge(y),z)})}}),Kk=(e(1395),function(g){var y=g.children,z=g.color,M=g.border;g=g.onClick;return Ea().createElement("div",{className:"Avatar",
style:{background:z,border:"1px solid ".concat(M)},onClick:g},y)});ne({name:"goToCollaborator",perform:function(g,y,z){return z?{appState:Yc(Yc(Yc({},y),Xi({scenePoint:z,viewportDimensions:{width:y.width,height:y.height},zoom:y.zoom})),{},{openMenu:"canvas"===y.openMenu?null:y.openMenu}),commitToHistory:!1}:{appState:y,commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,z=g.updateData;g=g.id;if(!g)return null;var M=y.collaborators.get(g);if(!M)return null;g=Ti(g,y);y=g.background;g=g.stroke;
var ca=function(ja){if(!ja)return"?";ja=ja.trim().split(" ");return 2>ja.length?ja[0].substring(0,2).toUpperCase():(ja[0][0]+ja[ja.length-1][0]).toUpperCase()}(M.username);return Ea().createElement(Kk,{color:y,border:g,onClick:function(){return z(M.pointer)}},ca)}});var Qm=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},Oo=ne({name:"addToLibrary",perform:function(g,y){var z=uf(ge(g),y);return ph.loadLibrary().then(function(M){ph.saveLibrary(Qm(Qm([],M),[z.map(Lj)]))}),
!1},contextItemLabel:"labels.addToLibrary"}),Fn=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},ao=function(g){var y=new Map;return g.forEach(function(z){var M=0===z.groupIds.length?z.id:z.groupIds[z.groupIds.length-1],ca=y.get(M)||[];y.set(M,Fn(Fn([],ca),[z]))}),Array.from(y.values())},Cf=function(g,y,z){var M,ca,ja,ya=z.axis;z=z.position;g=Xj(g);var wa="x"===ya?["minX","maxX"]:["minY","maxY"],Da=wa[0];wa=wa[1];return uc(uc({},{x:0,y:0}),{},"start"===z?((M={})[ya]=
y[Da]-g[Da],M):"end"===z?((ca={})[ya]=y[wa]-g[wa],ca):((ja={})[ya]=(y[Da]+y[wa])/2-(g[Da]+g[wa])/2,ja))},Xj=function(g){g=Bg(g);return{minX:g[0],minY:g[1],maxX:g[2],maxY:g[3]}},Zh=function(g,y){return 1<uf(ge(g),y).length},Ki=function(g,y,z){y=function(ca,ja){var ya=ao(ca),wa=Xj(ca);return ya.flatMap(function(Da){var Pa=Cf(Da,wa,ja);return Da.map(function(Ka){return yg(Ka,{x:Ka.x+Pa.x,y:Ka.y+Pa.y})})})}(uf(ge(g),y),z);var M=$i(y);return g.map(function(ca){return M[ca.id]||ca})},sn=(ne({name:"alignTop",
perform:function(g,y){return{appState:y,elements:Ki(g,y,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(g){return g[cf]&&g.shiftKey&&"ArrowUp"===g.key},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(y,z),type:"button",icon:Ea().createElement(Gh,{appearance:z.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.alignTop")," — ").concat(Wd("CtrlOrCmd+Shift+Up")),"aria-label":eb("labels.alignTop"),
visible:kg(ge(y),z)})}}),ne({name:"alignBottom",perform:function(g,y){return{appState:y,elements:Ki(g,y,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(g){return g[cf]&&g.shiftKey&&"ArrowDown"===g.key},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(y,z),type:"button",icon:Ea().createElement(rg,{appearance:z.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.alignBottom")," — ").concat(Wd("CtrlOrCmd+Shift+Down")),
"aria-label":eb("labels.alignBottom"),visible:kg(ge(y),z)})}}),ne({name:"alignLeft",perform:function(g,y){return{appState:y,elements:Ki(g,y,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(g){return g[cf]&&g.shiftKey&&"ArrowLeft"===g.key},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(y,z),type:"button",icon:Ea().createElement(Aj,{appearance:z.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.alignLeft"),
" — ").concat(Wd("CtrlOrCmd+Shift+Left")),"aria-label":eb("labels.alignLeft"),visible:kg(ge(y),z)})}}),ne({name:"alignRight",perform:function(g,y){return{appState:y,elements:Ki(g,y,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(g){return g[cf]&&g.shiftKey&&"ArrowRight"===g.key},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(y,z),type:"button",icon:Ea().createElement(hd,{appearance:z.appearance}),onClick:function(){return M(null)},
title:"".concat(eb("labels.alignRight")," — ").concat(Wd("CtrlOrCmd+Shift+Right")),"aria-label":eb("labels.alignRight"),visible:kg(ge(y),z)})}}),ne({name:"alignVerticallyCentered",perform:function(g,y){return{appState:y,elements:Ki(g,y,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(y,z),type:"button",icon:Ea().createElement(ad,{appearance:z.appearance}),onClick:function(){return M(null)},
title:eb("labels.centerVertically"),"aria-label":eb("labels.centerVertically"),visible:kg(ge(y),z)})}}),ne({name:"alignHorizontallyCentered",perform:function(g,y){return{appState:y,elements:Ki(g,y,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Zh(y,z),type:"button",icon:Ea().createElement(Tk,{appearance:z.appearance}),onClick:function(){return M(null)},title:eb("labels.centerHorizontally"),
"aria-label":eb("labels.centerHorizontally"),visible:kg(ge(y),z)})}}),function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g}),jq=function(g){var y=new Map;return g.forEach(function(z){var M=0===z.groupIds.length?z.id:z.groupIds[z.groupIds.length-1],ca=y.get(M)||[];y.set(M,sn(sn([],ca),[z]))}),Array.from(y.values())},xj=function(g){var y=Bg(g);g=y[0];var z=y[1],M=y[2];y=y[3];return{minX:g,minY:z,maxX:M,maxY:y,width:M-g,height:y-z,midX:(g+M)/2,midY:(z+y)/2}},No=function(g,
y){return 1<uf(ge(g),y).length},Dn=function(g,y,z){y=function(ca,ja){var ya="x"===ja.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],wa=ya[0],Da=ya[1],Pa=ya[2],Ka=ya[3],lb=xj(ca);ca=jq(ca).map(function(vd){return[vd,xj(vd)]}).sort(function(vd,le){return vd[1][Da]-le[1][Da]});for(var rb=ya=0;rb<ca.length;rb++)ya+=ca[rb][1][Ka];var sb=(lb[Ka]-ya)/(ca.length-1);if(0>sb){var dc=ca.findIndex(function(vd){return vd[1][wa]===lb[wa]}),Yb=ca.findIndex(function(vd){return vd[1][Pa]===lb[Pa]}),
zc=(ca[Yb][1][Da]-ca[dc][1][Da])/(ca.length-1),ed=ca[dc][1][Da];return ca.flatMap(function(vd,le){var ke=vd[0];vd=vd[1];var Oe={x:0,y:0};return le!==dc&&le!==Yb&&(ed+=zc,Oe[ja.axis]=ed-vd[Da]),ke.map(function(Je){return yg(Je,{x:Je.x+Oe.x,y:Je.y+Oe.y})})})}var id=lb[wa];return ca.flatMap(function(vd){var le=vd[0];vd=vd[1];var ke={x:0,y:0};return ke[ja.axis]=id-vd[wa],id+=sb,id+=vd[Ka],le.map(function(Oe){return yg(Oe,{x:Oe.x+ke.x,y:Oe.y+ke.y})})})}(uf(ge(g),y),z);var M=$i(y);return g.map(function(ca){return M[ca.id]||
ca})},Zn=(ne({name:"distributeHorizontally",perform:function(g,y){return{appState:y,elements:Dn(g,y,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(g){return g.altKey&&"KeyH"===g.code},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!No(y,z),type:"button",icon:Ea().createElement(od,{appearance:z.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.distributeHorizontally")," — ").concat(Wd("Alt+H")),
"aria-label":eb("labels.distributeHorizontally"),visible:kg(ge(y),z)})}}),ne({name:"distributeVertically",perform:function(g,y){return{appState:y,elements:Dn(g,y,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(g){return g.altKey&&"KeyV"===g.code},PanelComponent:function(g){var y=g.elements,z=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!No(y,z),type:"button",icon:Ea().createElement(Og,{appearance:z.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.distributeVertically"),
" — ").concat(Wd("Alt+V")),"aria-label":eb("labels.distributeVertically"),visible:kg(ge(y),z)})}}),function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;
ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,
done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya}),pn=ne({name:"copy",perform:function(g,y){return Ck(ge(g),y),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),iq=ne({name:"cut",perform:function(g,y,z,M){return pn.perform(g,y,z,M),Rg.perform(g,y,z,M)},contextItemLabel:"labels.cut",keyTest:function(g){return g[cf]&&
"KeyX"===g.code}}),up=ne({name:"copyAsSvg",perform:function(){var g=Pc()(function(y,z,M,ca){var ja,ya;return Zn(this,function(wa){switch(wa.label){case 0:if(!ca.canvas)return[2,{commitToHistory:!1}];ja=uf(ge(y),z);wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,Ac("clipboard-svg",ja.length?ja:ge(y),z,ca.canvas,z)];case 2:return wa.sent(),[2,{commitToHistory:!1}];case 3:return ya=wa.sent(),console.error(ya),[2,{appState:he(he({},z),{},{errorMessage:ya.message}),commitToHistory:!1}];case 4:return[2]}})});
return function(y,z,M,ca){return g.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),tp=ne({name:"copyAsPng",perform:function(){var g=Pc()(function(y,z,M,ca){var ja,ya;return Zn(this,function(wa){switch(wa.label){case 0:if(!ca.canvas)return[2,{commitToHistory:!1}];ja=uf(ge(y),z);wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,Ac("clipboard",ja.length?ja:ge(y),z,ca.canvas,z)];case 2:return wa.sent(),[2,{appState:he(he({},z),{},{toastMessage:eb("toast.copyToClipboardAsPng",{exportSelection:ja.length?
eb("toast.selection"):eb("toast.canvas"),exportColorScheme:z.exportWithDarkMode?eb("buttons.darkMode"):eb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return ya=wa.sent(),console.error(ya),[2,{appState:he(he({},z),{},{errorMessage:ya.message}),commitToHistory:!1}];case 4:return[2]}})});return function(y,z,M,ca){return g.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(g){return"KeyC"===g.code&&g.altKey&&g.shiftKey}}),rp=ne({name:"gridMode",perform:function(g,
y){return Sg("view","mode","grid"),{appState:Ae(Ae({},y),{},{gridSize:this.checked(y)?null:hc.k}),commitToHistory:!1}},checked:function(g){return null!==g.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(g){return g[cf]&&"Quote"===g.code}}),oe=ne({name:"zenMode",perform:function(g,y){return Sg("view","mode","zen"),{appState:ic(ic({},y),{},{zenModeEnabled:!this.checked(y)}),commitToHistory:!1}},checked:function(g){return g.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(g){return!g[cf]&&
g.altKey&&"KeyZ"===g.code}}),$n=ne({name:"stats",perform:function(g,y){return{appState:kc(kc({},y),{},{showStats:!this.checked(y)}),commitToHistory:!1}},checked:function(g){return g.showStats},contextItemLabel:"stats.title"}),sp=function(g,y,z){if(!(y.multiElement||y.resizingElement||y.editingElement||y.draggingElement)){z=z();if(null===z)return{commitToHistory:!1};var M=$i(g),ca=z.elements,ja=$i(ca);g=g.filter(function(ya){return!ja.hasOwnProperty(ya.id)});ca=ca.map(function(ya){return yg(M[ya.id]||
ya,ya)}).concat(g.map(function(ya){return yg(ya,{isDeleted:!0})}));return tj(ca,g),{elements:ca,appState:Ad(Ad({},y),z.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},um=function(){function g(y,z,M,ca){var ja=this;this.actions={};this.renderAction=function(ya,wa){if(ja.actions[ya]&&"PanelComponent"in ja.actions[ya]){var Da=ja.actions[ya];ya=Da.PanelComponent;return Ea().createElement(ya,{elements:ja.getElementsIncludingDeleted(),appState:ja.getAppState(),updateData:function(Pa){ja.updater(Da.perform(ja.getElementsIncludingDeleted(),
ja.getAppState(),Pa,ja.app))},id:wa})}return null};this.updater=function(ya){if(!(ya&&"then"in ya))return y(ya);ya.then(function(wa){return y(wa)})};this.getAppState=z;this.getElementsIncludingDeleted=M;this.app=ca}return g.prototype.registerAction=function(y){this.actions[y.name]=y},g.prototype.registerAll=function(y){var z=this;y.forEach(function(M){return z.registerAction(M)})},g.prototype.handleKeyDown=function(y){var z=this,M=Object.values(this.actions).sort(function(ca,ja){return(ja.keyPriority||
0)-(ca.keyPriority||0)}).filter(function(ca){return ca.keyTest&&ca.keyTest(y,z.getAppState(),z.getElementsIncludingDeleted())});return 0!==M.length&&!(this.getAppState().viewModeEnabled&&!Object.values(hc.EH).includes(M[0].name))&&(y.preventDefault(),this.updater(M[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},g.prototype.executeAction=function(y){this.updater(y.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},g}(),Tm=function(g){g=
Array.from(g.values());return{x:co(g,function(y){return y.x})/g.length,y:co(g,function(y){return y.y})/g.length}},bo=function(g){var y=g[0];g=g[1];return Math.hypot(y.x-g.x,y.y-g.y)},co=function(g,y){return g.reduce(function(z,M){return z+y(M)},0)},Po,kq=function(){function g(){var y=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(z,M){return y.dehydrateHistoryEntry({appState:{selectedElementIds:z.selectedElementIds,
viewBackgroundColor:z.viewBackgroundColor,editingLinearElement:z.editingLinearElement,editingGroupId:z.editingGroupId,name:z.name},elements:M.reduce(function(ca,ja){if(Fg(ja)&&z.multiElement&&z.multiElement.id===ja.id){if(z.multiElement&&z.multiElement.id===ja.id&&2>ja.points.length)return ca;ca.push(Xe(Xe({},ja),{},{points:ja.lastCommittedPoint!==ja.points[ja.points.length-1]?ja.points.slice(0,-1):ja.points}))}else ca.push(ja);return ca},[])})}}return g.prototype.hydrateHistoryEntry=function(y){var z=
y.elements,M=this;return{appState:JSON.parse(y.appState),elements:z.map(function(ca){var ja,ya=null===(ja=M.elementCache.get(ca.id))||void 0===ja?void 0:ja.get(ca.versionNonce);if(!ya)throw Error("Element not found: ".concat(ca.id,":").concat(ca.versionNonce));return ya})}},g.prototype.dehydrateHistoryEntry=function(y){var z=y.elements,M=this;return{appState:JSON.stringify(y.appState),elements:z.map(function(ca){M.elementCache.has(ca.id)||M.elementCache.set(ca.id,new Map);var ja=M.elementCache.get(ca.id);
return ja.has(ca.versionNonce)||ja.set(ca.versionNonce,Lj(ca)),{id:ca.id,versionNonce:ca.versionNonce}})}},g.prototype.getSnapshotForTest=function(){var y=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(z){return y.hydrateHistoryEntry(z)}),redoStack:this.redoStack.map(function(z){return y.hydrateHistoryEntry(z)})}},g.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},g.prototype.shouldCreateEntry=
function(y){var z,M=this.lastEntry;if(!M||y.elements.length!==M.elements.length)return!0;for(var ca=y.elements.length-1;-1<ca;ca--){var ja=y.elements[ca],ya=M.elements[ca];if(!ja||!ya||ja.id!==ya.id||ja.versionNonce!==ya.versionNonce)return!0}for(z in y.appState){var wa,Da;if(("editingLinearElement"!==z||(null===(wa=y.appState[z])||void 0===wa?void 0:wa.elementId)!==(null===(Da=M.appState[z])||void 0===Da?void 0:Da.elementId))&&"selectedElementIds"!==z&&y.appState[z]!==M.appState[z])return!0}return!1},
g.prototype.pushEntry=function(y,z){y=this.generateEntry(y,z);(z=this.hydrateHistoryEntry(y))&&this.shouldCreateEntry(z)&&(this.stateHistory.push(y),this.lastEntry=z,this.clearRedoStack())},g.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},g.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var y=this.redoStack.pop();return void 0!==y?(this.stateHistory.push(y),this.hydrateHistoryEntry(y)):null},g.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;
var y=this.stateHistory.pop(),z=this.stateHistory[this.stateHistory.length-1];return void 0!==y?(this.redoStack.push(y),this.hydrateHistoryEntry(z)):null},g.prototype.setCurrentState=function(y,z){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(y,z))},g.prototype.resumeRecording=function(){this.recording=!0},g.prototype.record=function(y,z){this.recording&&(this.pushEntry(y,z),this.recording=!1)},g}(),wm=[{icon:Ea().createElement("svg",{viewBox:"0 0 320 512",className:""},Ea().createElement("path",
{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:["v","s"]},{icon:Ea().createElement("svg",{viewBox:"0 0 448 512"},Ea().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),
value:"rectangle",key:"r"},{icon:Ea().createElement("svg",{viewBox:"0 0 223.646 223.646"},Ea().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:Ea().createElement("svg",{viewBox:"0 0 512 512"},Ea().createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:Ea().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},Ea().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),
value:"arrow",key:"a"},{icon:Ea().createElement("svg",{viewBox:"0 0 6 6"},Ea().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:Ea().createElement("svg",{viewBox:"0 0 512 512"},Ea().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),
value:"draw",key:"x"},{icon:Ea().createElement("svg",{viewBox:"0 0 448 512"},Ea().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Mo=(e(4518),{cut:[Wd("CtrlOrCmd+X")],copy:[Wd("CtrlOrCmd+C")],
paste:[Wd("CtrlOrCmd+V")],copyStyles:[Wd("CtrlOrCmd+Alt+C")],pasteStyles:[Wd("CtrlOrCmd+Alt+V")],selectAll:[Wd("CtrlOrCmd+A")],deleteSelectedElements:[Wd("Del")],duplicateSelection:[Wd("CtrlOrCmd+D"),Wd("Alt+".concat(eb("helpDialog.drag")))],sendBackward:[Wd("CtrlOrCmd+[")],bringForward:[Wd("CtrlOrCmd+]")],sendToBack:[Wd(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Wd(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Wd("Shift+Alt+C")],copyAsSvg:[],group:[Wd("CtrlOrCmd+G")],ungroup:[Wd("CtrlOrCmd+Shift+G")],
gridMode:[Wd("CtrlOrCmd+'")],zenMode:[Wd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Wd("Alt+R")]}),hq=function(g){var y,z=g.options,M=g.onCloseRequest,ca=g.top,ja=g.left,ya=g.actionManager,wa=g.appState;g=!(null===(y=document.querySelector(".excalidraw"))||void 0===y||!y.classList.contains("Appearance_dark"));return Ea().createElement("div",{className:mc("excalidraw",{"Appearance_dark Appearance_dark-background-none":g})},Ea().createElement(jb,{onCloseRequest:M,top:ca,left:ja,fitInViewport:!0},
Ea().createElement("ul",{className:"context-menu",onContextMenu:function(Da){return Da.preventDefault()}},z.map(function(Da,Pa){var Ka;if("separator"===Da)return Ea().createElement("hr",{key:Pa,className:"context-menu-option-separator"});var lb,rb=Da.name,sb=Da.contextItemLabel?eb(Da.contextItemLabel):"";return Ea().createElement("li",{key:Pa,"data-testid":rb,onClick:M},Ea().createElement("button",{className:mc("context-menu-option",{dangerous:"deleteSelectedElements"===rb,checkmark:null===(Ka=Da.checked)||
void 0===Ka?void 0:Ka.call(Da,wa)}),onClick:function(){return ya.executeAction(Da)}},Ea().createElement("div",{className:"context-menu-option__label"},sb),Ea().createElement("kbd",{className:"context-menu-option__shortcut"},rb?(lb=Mo[rb])&&0<lb.length?lb[0]:"":"")))}))))},Lo=function(){if(Po)return Po;var g=document.createElement("div");return document.body.appendChild(g),Po=g},Rm=function(){(0,$f.unmountComponentAtNode)(Lo())};const En=function(g){var y=[];g.options.forEach(function(z){z&&y.push(z)});
y.length&&(0,$f.render)(Ea().createElement(hq,{top:g.top,left:g.left,options:y,onCloseRequest:Rm,actionManager:g.actionManager,appState:g.appState}),Lo())};e(1575);const al=function(g){var y=g.children,z=g.gap,M=g.align,ca=g.justifyContent,ja=g.className;g=g.style;return Ea().createElement("div",{className:mc("Stack Stack_horizontal",ja),style:Tc({"--gap":z,alignItems:M,justifyContent:ca},g)},y)},bl=function(g){var y=g.children,z=g.gap,M=g.align,ca=g.justifyContent;g=g.className;return Ea().createElement("div",
{className:mc("Stack Stack_vertical",g),style:{"--gap":z,justifyItems:M,justifyContent:ca}},y)};var Yq=function(g){var y=g.appState,z=g.renderAction,M=g.elementType;g=kk(ge(g.elements),y);y=!!y.editingElement;var ca=Ve(),ja="rtl"===document.documentElement.getAttribute("dir"),ya=Oj(M)||g.some(function(Da){return Oj(Da.type)&&(Pa=Da.backgroundColor,Ka=5===Pa.length&&"0"===Pa.substr(4,1),lb=9===Pa.length&&"00"===Pa.substr(7,2),!(Ka||lb||Pa===Ek.elementBackground[0]));var Pa,Ka,lb}),wa=Oj(M)||g.some(function(Da){return Oj(Da.type)});
return Ea().createElement("div",{className:"panelColumn"},z("changeStrokeColor"),wa&&z("changeBackgroundColor"),ya&&z("changeFillStyle"),(Uf(M)||g.some(function(Da){return Uf(Da.type)}))&&Ea().createElement(Ea().Fragment,null,z("changeStrokeWidth"),z("changeStrokeStyle"),z("changeSloppiness")),(rk(M)||g.some(function(Da){return rk(Da.type)}))&&Ea().createElement(Ea().Fragment,null,z("changeSharpness")),("text"===M||g.some(function(Da){return"text"===Da.type}))&&Ea().createElement(Ea().Fragment,null,
z("changeFontSize"),z("changeFontFamily"),z("changeTextAlign")),("arrow"===M||g.some(function(Da){return"arrow"===Da.type}))&&Ea().createElement(Ea().Fragment,null,z("changeArrowhead")),z("changeOpacity"),Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.layers")),Ea().createElement("div",{className:"buttonList"},z("sendToBack"),z("sendBackward"),z("bringToFront"),z("bringForward"))),1<g.length&&Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.align")),
Ea().createElement("div",{className:"buttonList"},ja?Ea().createElement(Ea().Fragment,null,z("alignRight"),z("alignHorizontallyCentered"),z("alignLeft")):Ea().createElement(Ea().Fragment,null,z("alignLeft"),z("alignHorizontallyCentered"),z("alignRight")),2<g.length&&z("distributeHorizontally"),Ea().createElement("div",{className:"iconRow"},z("alignTop"),z("alignVerticallyCentered"),z("alignBottom"),2<g.length&&z("distributeVertically")))),!ca&&!y&&0<g.length&&Ea().createElement("fieldset",null,Ea().createElement("legend",
null,eb("labels.actions")),Ea().createElement("div",{className:"buttonList"},z("duplicateSelection"),z("deleteSelectedElements"),z("group"),z("ungroup"))))},Tr=Ea().createElement("svg",{viewBox:"0 0 512 512"},Ea().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
gq=function(g){var y=g.canvas,z=g.elementType,M=g.setAppState,ca=g.isLibraryOpen;return Ea().createElement(Ea().Fragment,null,wm.map(function(ja,ya){var wa=ja.value,Da=ja.icon,Pa=ja.key;ja=eb("toolBar.".concat(wa));Pa="".concat(kj("string"==typeof Pa?Pa:Pa[0])," ").concat(eb("helpDialog.or")," ").concat(ya+1);return Ea().createElement(gf,{className:"Shape",key:wa,type:"radio",icon:Da,checked:z===wa,name:"editor-current-shape",title:"".concat(kj(ja)," — ").concat(Pa),keyBindingLabel:"".concat(ya+1),
"aria-label":kj(ja),"aria-keyshortcuts":Pa,"data-testid":wa,onChange:function(){M({elementType:wa,multiElement:null,selectedElementIds:{}});ui(y,wa);M({})}})}),Ea().createElement(gf,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Tr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(kj(eb("toolBar.library"))," — 9"),"aria-label":kj(eb("toolBar.library")),onClick:function(){M({isLibraryOpen:!ca})}}))},Sr=function(g){var y=g.renderAction;g=g.zoom;return Ea().createElement(bl,
{gap:1},Ea().createElement(al,{gap:1,align:"center"},y("zoomIn"),y("zoomOut"),y("resetZoom"),Ea().createElement("div",{style:{marginInlineStart:4}},(100*g.value).toFixed(0),"%")))},Xq=function(g){var y=g.appState,z=g.setAppState;g=g.actionManager;return Ea().createElement("div",{style:{display:"flex"}},g.renderAction("changeViewBackgroundColor"),Ea().createElement("div",{style:{marginInlineStart:"0.25rem"}},Ea().createElement(hk,{value:y.appearance,onChange:function(M){z({appearance:M})}})))};e(3211);
const Zq=function(g){var y=g.isCollaborating,z=g.collaboratorCount;g=g.onClick;return Ea().createElement(Ea().Fragment,null,Ea().createElement(gf,{className:mc("CollabButton",{"is-collaborating":y}),onClick:g,icon:Kl,type:"button",title:eb("labels.liveCollaboration"),"aria-label":eb("labels.liveCollaboration"),showAriaLabel:Ve()},0<z&&Ea().createElement("div",{className:"CollabButton-collaborators"},z)))};e(3040);e(7428);var hl=Ea().forwardRef(function(g,y){var z=g.children,M=g.padding,ca=g.className;
g=g.style;return Ea().createElement("div",{className:mc("Island",ca),style:yb({"--padding":M},g),ref:y},z)}),Ur=(e(205),function(g){var y=vp();return y?(0,$f.createPortal)(Ea().createElement("div",{className:mc("Modal",g.className),role:"dialog","aria-modal":"true",onKeyDown:function(z){"Escape"===z.key&&(z.nativeEvent.stopImmediatePropagation(),g.onCloseRequest())},"aria-labelledby":g.labelledBy},Ea().createElement("div",{className:"Modal__background",onClick:g.onCloseRequest}),Ea().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(g.maxWidth,"px")}},g.children)),y):null}),vp=function(){var g=(0,jc.useState)(null),y=g[0],z=g[1];return(0,jc.useLayoutEffect)(function(){var M,ca=!(null===(M=document.querySelector(".excalidraw"))||void 0===M||!M.classList.contains("Appearance_dark")),ja=document.createElement("div");return ja.classList.add("excalidraw","excalidraw-modal-container"),ca&&(ja.classList.add("Appearance_dark"),ja.classList.add("Appearance_dark-background-none")),
document.body.appendChild(ja),z(ja),function(){document.body.removeChild(ja)}},[]),y},I=function(g){var y=function(){var ca=(0,jc.useState)(null),ja=ca[1];return[ca[0],(0,jc.useCallback)(function(ya){return ja(ya)},[])]}(),z=y[0];y=y[1];(0,jc.useEffect)(function(){if(z){var ca=M(z);0<ca.length&&!1!==g.autofocus&&(ca[1]||ca[0]).focus();var ja=function(ya){if("Tab"===ya.key){var wa=M(z),Da=document.activeElement,Pa=wa.findIndex(function(Ka){return Ka===Da});0===Pa&&ya.shiftKey?(wa[wa.length-1].focus(),
ya.preventDefault()):Pa!==wa.length-1||ya.shiftKey||(wa[0].focus(),ya.preventDefault())}};return z.addEventListener("keydown",ja),function(){return z.removeEventListener("keydown",ja)}}},[z,g.autofocus]);var M=function(ca){return(ca=ca.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(ca):[]};return Ea().createElement(Ur,{className:mc("Dialog",g.className),labelledBy:"dialog-title",maxWidth:g.small?550:800,onCloseRequest:g.onCloseRequest},Ea().createElement(hl,{ref:y},
Ea().createElement("h2",{id:"dialog-title",className:"Dialog__title"},Ea().createElement("span",{className:"Dialog__titleContent"},g.title),Ea().createElement("button",{className:"Modal__close",onClick:g.onCloseRequest,"aria-label":eb("buttons.close")},Ve()?kh:uj)),Ea().createElement("div",{className:"Dialog__content"},g.children)))},U=function(g){var y=g.message,z=g.onClose,M=(0,jc.useState)(!!y);g=M[0];var ca=M[1];M=Ea().useCallback(function(){ca(!1);z&&z()},[z]);return Ea().createElement(Ea().Fragment,
null,g&&Ea().createElement(I,{small:!0,onCloseRequest:M,title:eb("errorDialog.title")},Ea().createElement("div",null,y.split("\n").map(function(ja){return Ea().createElement(Ea().Fragment,null,ja,Ea().createElement("br",null))}))))},pa=(e(8623),[1,2,3]),Ia=pa.includes(devicePixelRatio)?devicePixelRatio:1,ab="filter"in document.createElement("canvas").getContext("2d"),ub=function(){return Ea().createElement("div",null,Ea().createElement("h3",null,eb("canvasError.cannotShowPreview")),Ea().createElement("p",
null,Ea().createElement("span",null,eb("canvasError.canvasTooBig"))),Ea().createElement("em",null,"(",eb("canvasError.canvasTooBigTip"),")"))},Lb=function(g,y){(0,$f.unmountComponentAtNode)(y);y.innerHTML="";g instanceof HTMLCanvasElement?y.appendChild(g):(0,$f.render)(Ea().createElement(ub,null),y)},cc=function(g){var y=g.elements,z=g.appState,M=g.exportPadding,ca=void 0===M?10:M;M=g.actionManager;var ja=g.onExportToPng,ya=g.onExportToSvg,wa=g.onExportToClipboard,Da=g.onExportToBackend,Pa=kg(y,z);
g=(0,jc.useState)(Ia);var Ka=g[0],lb=g[1];g=(0,jc.useState)(Pa);var rb=g[0],sb=g[1],dc=(0,jc.useRef)(null),Yb=z.exportBackground,zc=z.viewBackgroundColor,ed=z.shouldAddWatermark,id=rb?uf(y,z):y;return(0,jc.useEffect)(function(){sb(Pa)},[Pa]),(0,jc.useEffect)(function(){var vd=dc.current;if(vd)try{var le=vm(id,z,{exportBackground:Yb,viewBackgroundColor:zc,exportPadding:ca,scale:Ka,shouldAddWatermark:ed});Lm(le).then(function(){Lb(le,vd)}).catch(function(ke){console.error(ke);Lb(new rn,vd)})}catch(ke){console.error(ke),
Lb(new rn,vd)}},[z,id,Yb,ca,zc,Ka,ed]),Ea().createElement("div",{className:"ExportDialog"},Ea().createElement("div",{className:"ExportDialog__preview",ref:dc}),ab&&M.renderAction("exportWithDarkMode"),Ea().createElement(bl,{gap:2,align:"center"},Ea().createElement("div",{className:"ExportDialog__actions"},Ea().createElement(al,{gap:2},Ea().createElement(gf,{type:"button",label:"PNG",title:eb("buttons.exportToPng"),"aria-label":eb("buttons.exportToPng"),onClick:function(){return ja(id,Ka)}}),Ea().createElement(gf,
{type:"button",label:"SVG",title:eb("buttons.exportToSvg"),"aria-label":eb("buttons.exportToSvg"),onClick:function(){return ya(id,Ka)}}),Dk&&Ea().createElement(gf,{type:"button",icon:tk,title:eb("buttons.copyPngToClipboard"),"aria-label":eb("buttons.copyPngToClipboard"),onClick:function(){return wa(id,Ka)}}),Da&&Ea().createElement(gf,{type:"button",icon:tl,title:eb("buttons.getShareableLink"),"aria-label":eb("buttons.getShareableLink"),onClick:function(){return Da(id)}})),Ea().createElement("div",
{className:"ExportDialog__name"},M.renderAction("changeProjectName")),Ea().createElement(al,{gap:2},pa.map(function(vd){var le=function(Oe,Je,df,zd){Oe=Yn(Oe,df);Je=Jm(Oe,Je,df).map(function(Zd){return Math.trunc(Zd*zd)});return[Je[2],Je[3]]}(id,ca,ed,vd),ke=le[0];le=le[1];ke="".concat(eb("buttons.scale")," ").concat(vd,"x (").concat(ke,"x").concat(le,")");return Ea().createElement(gf,{key:vd,size:"s",type:"radio",icon:"".concat(vd,"x"),name:"export-canvas-scale",title:ke,"aria-label":ke,id:"export-canvas-scale",
checked:vd===Ka,onChange:function(){return lb(vd)}})}))),M.renderAction("changeExportBackground"),Pa&&Ea().createElement("div",null,Ea().createElement("label",null,Ea().createElement("input",{type:"checkbox",checked:rb,onChange:function(vd){return sb(vd.currentTarget.checked)}})," ",eb("labels.onlySelected"))),M.renderAction("changeExportEmbedScene"),M.renderAction("changeShouldAddWatermark")))},Bc=function(g){var y=g.elements,z=g.appState,M=g.exportPadding;M=void 0===M?10:M;var ca=g.actionManager,
ja=g.onExportToPng,ya=g.onExportToSvg,wa=g.onExportToClipboard;g=g.onExportToBackend;var Da=(0,jc.useState)(!1),Pa=Da[0],Ka=Da[1],lb=(0,jc.useRef)(null);Da=Ea().useCallback(function(){var rb;Ka(!1);null===(rb=lb.current)||void 0===rb||rb.focus()},[]);return Ea().createElement(Ea().Fragment,null,Ea().createElement(gf,{onClick:function(){Ka(!0)},icon:th,type:"button","aria-label":eb("buttons.export"),showAriaLabel:Ve(),title:eb("buttons.export"),ref:lb}),Pa&&Ea().createElement(I,{onCloseRequest:Da,
title:eb("buttons.export")},Ea().createElement(cc,{elements:y,appState:z,exportPadding:M,actionManager:ca,onExportToPng:ja,onExportToSvg:ya,onExportToClipboard:wa,onExportToBackend:g,onCloseRequest:Da})))},cd=(e(4193),function(g){var y=g.children,z=g.side;g=g.className;return Ea().createElement("div",{className:mc("FixedSideContainer","FixedSideContainer_side_".concat(z),g)},y)}),re=Ea().memo(function(g){g=g.appearance;return Ea().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",
height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},Ea().createElement("a",{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},Ea().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===g?Ee.MA[6]:Ee.MA[8]}),Ea().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===
g?Ee.ix:Ee.Sn}),Ea().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",fill:"light"===g?Ee.ix:Ee.Sn})))}),zf=(e(9705),function(g){return(g=function(y){var z=y.appState,M=y.elements,ca=z.elementType;y=z.isResizing;var ja=z.isRotating,ya=z.lastPointerDownWith,wa=null!==z.multiElement;if("arrow"===
ca||"line"===ca)return eb(wa?"hints.linearElementMulti":"hints.linearElement");if("draw"===ca)return eb("hints.freeDraw");if("text"===ca)return eb("hints.text");M=uf(M,z);return y&&"mouse"===ya&&1===M.length?(z=M[0],Fg(z)&&2===z.points.length?eb("hints.lockAngle"):eb("hints.resize")):ja&&"mouse"===ya?eb("hints.rotate"):1===M.length&&Fg(M[0])?z.editingLinearElement?z.editingLinearElement.activePointIndex?eb("hints.lineEditor_pointSelected"):eb("hints.lineEditor_nothingSelected"):eb("hints.lineEditor_info"):
null}({appState:g.appState,elements:g.elements}))?(g=Wd(g),Ea().createElement("div",{className:"HintViewer"},Ea().createElement("span",null,g))):null}),Fd=(e(8465),e(8680),Ea().createElement("svg",{viewBox:"0 0 1792 1792"},Ea().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),Qe=function(g){var y=
g.elements,z=g.pendingElements,M=g.onRemoveFromLibrary;g=g.onClick;var ca=(0,jc.useRef)(null);(0,jc.useEffect)(function(){var Pa=y||z;if(Pa){var Ka=Pl(Pa,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1});Pa=0;for(var lb=ca.current.children;Pa<lb.length;Pa++){var rb=lb[Pa];"svg"===rb.tagName&&ca.current.removeChild(rb)}ca.current.appendChild(Ka);var sb=ca.current;return function(){sb.removeChild(Ka)}}},[y,z]);var ja=(0,jc.useState)(!1),ya=ja[0],wa=ja[1];ja=Ve();var Da=(ya||ja)&&
z&&Ea().createElement("div",{className:"library-unit__adder"},Fd);return Ea().createElement("div",{className:mc("library-unit",{"library-unit__active":y||z}),onMouseEnter:function(){return wa(!0)},onMouseLeave:function(){return wa(!1)}},Ea().createElement("div",{className:mc("library-unit__dragger",{"library-unit__pulse":!!z}),ref:ca,draggable:!!y,onClick:y||z?g:void 0,onDragStart:function(Pa){wa(!1);Pa.dataTransfer.setData(hc.LO.excalidrawlib,JSON.stringify(y))}}),Da,y&&(ya||ja)&&Ea().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":eb("labels.removeFromLibrary"),onClick:M},uj))},Af=Ea().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},Ea().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),mf=Ea().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},Ea().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Qc=function(g){return Ea().createElement("label",{className:mc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(g.size||"m"),{"zen-mode-visibility--hidden":g.zenModeEnabled}),title:"".concat(g.title," — Q")},Ea().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:g.name,id:g.id,onChange:g.onChange,checked:g.checked,"aria-label":g.title}),Ea().createElement("div",{className:"ToolIcon__icon"},g.checked?Af:mf))},Ec=function(g){var y=g.heading,z=g.children;g=Vh()(g,["heading","children"]);var M=Ea().createElement("h2",{className:"visually-hidden",id:"".concat(y,
"-title")},eb("headings.".concat(y)));return Ea().createElement("section",Pd()({},g,{"aria-labelledby":"".concat(y,"-title")}),"function"==typeof z?z(M):Ea().createElement(Ea().Fragment,null,M,z))},Oc=(e(3142),function(g){var y=g.children,z=g.className;g=g.mobile;return Ea().createElement("div",{className:mc("UserList",z,{UserList_mobile:g})},y)}),xd=function(g){var y=g.appState,z=g.elements,M=g.libraryMenu,ca=g.actionManager,ja=g.exportButton,ya=g.setAppState,wa=g.onCollabButtonClick,Da=g.onLockToggle,
Pa=g.canvas,Ka=g.isCollaborating,lb=g.renderCustomFooter;g=g.viewModeEnabled;return Ea().createElement(Ea().Fragment,null,!g&&Ea().createElement(cd,{side:"top",className:"App-top-bar"},Ea().createElement(Ec,{heading:"shapes"},function(rb){return Ea().createElement(bl,{gap:4,align:"center"},Ea().createElement(al,{gap:1},Ea().createElement(hl,{padding:1},rb,Ea().createElement(al,{gap:1},Ea().createElement(gq,{canvas:Pa,elementType:y.elementType,setAppState:ya,isLibraryOpen:y.isLibraryOpen}))),Ea().createElement(Qc,
{checked:y.elementLocked,onChange:Da,title:eb("toolBar.lock")})),M)}),Ea().createElement(zf,{appState:y,elements:z})),Ea().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},Ea().createElement(hl,{padding:0},"canvas"===y.openMenu?Ea().createElement(Ec,{className:"App-mobile-menu",heading:"canvasActions"},Ea().createElement("div",{className:"panelColumn"},Ea().createElement(bl,{gap:4},g?Ea().createElement(Ea().Fragment,null,ca.renderAction("saveScene"),
ca.renderAction("saveAsScene"),ja):Ea().createElement(Ea().Fragment,null,ca.renderAction("loadScene"),ca.renderAction("saveScene"),ca.renderAction("saveAsScene"),ja,ca.renderAction("clearCanvas"),wa&&Ea().createElement(Zq,{isCollaborating:Ka,collaboratorCount:y.collaborators.size,onClick:wa}),Ea().createElement(Xq,{actionManager:ca,appState:y,setAppState:ya})),null==lb?void 0:lb(!0),0<y.collaborators.size&&Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.collaborators")),
Ea().createElement(Oc,{mobile:!0},Array.from(y.collaborators).filter(function(rb){rb[0];return 0!==Object.keys(rb[1]).length}).map(function(rb){var sb=rb[0];rb[1];return Ea().createElement(Ea().Fragment,{key:sb},ca.renderAction("goToCollaborator",sb))})))))):"shape"===y.openMenu&&!g&&rh(y,z)?Ea().createElement(Ec,{className:"App-mobile-menu",heading:"selectedShapeActions"},Ea().createElement(Yq,{appState:y,elements:z,renderAction:ca.renderAction,elementType:y.elementType})):null,Ea().createElement("footer",
{className:"App-toolbar"},g?Ea().createElement("div",{className:"App-toolbar-content"},ca.renderAction("toggleCanvasMenu")):Ea().createElement("div",{className:"App-toolbar-content"},ca.renderAction("toggleCanvasMenu"),ca.renderAction("toggleEditMenu"),ca.renderAction("undo"),ca.renderAction("redo"),ca.renderAction(y.multiElement?"finalize":"duplicateSelection"),ca.renderAction("deleteSelectedElements")),y.scrolledOutside&&!y.openMenu&&Ea().createElement("button",{className:"scroll-back-to-content",
onClick:function(){ya(function(rb){for(var sb=1;sb<arguments.length;sb++){var dc=null!=arguments[sb]?arguments[sb]:{};sb%2?yd(Object(dc),!0).forEach(function(Yb){pd()(rb,Yb,dc[Yb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rb,Object.getOwnPropertyDescriptors(dc)):yd(Object(dc)).forEach(function(Yb){Object.defineProperty(rb,Yb,Object.getOwnPropertyDescriptor(dc,Yb))})}return rb}({},mi(z,y)))}},eb("buttons.scrollBackToContent"))))))},Bd=(e(8416),function(g){var y=(0,jc.useRef)(null),
z=(0,jc.useState)(null),M=z[0],ca=z[1];return(0,jc.useLayoutEffect)(function(){if(g.spreadsheet){var ja=Wn(g.chartType,g.spreadsheet,0,0);ca(ja);var ya=Pl(ja,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1}),wa=y.current;return wa.appendChild(ya),g.selected&&wa.parentNode.focus(),function(){wa.removeChild(ya)}}},[g.spreadsheet,g.chartType,g.selected]),Ea().createElement("button",{className:"ChartPreview",onClick:function(){M&&g.onClick(g.chartType,M)}},Ea().createElement("div",
{ref:y}))}),Jf=function(g){var y=g.setAppState,z=g.appState,M=g.onClose,ca=g.onInsertChart;g=Ea().useCallback(function(){M&&M()},[M]);var ja=function(ya,wa){ca(wa);Sg("magic","chart",ya);y({currentChartType:ya,pasteDialog:{shown:!1,data:null}})};return Ea().createElement(I,{small:!0,onCloseRequest:g,title:eb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},Ea().createElement("div",{className:"container"},Ea().createElement(Bd,{chartType:"bar",spreadsheet:z.pasteDialog.data,selected:"bar"===
z.currentChartType,onClick:ja}),Ea().createElement(Bd,{chartType:"line",spreadsheet:z.pasteDialog.data,selected:"line"===z.currentChartType,onClick:ja})))},He=(e(341),function(){return Ea().createElement("div",{className:"HelpDialog--header"},Ea().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},eb("helpDialog.documentation")),Ea().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",
target:"_blank",rel:"noopener noreferrer"},eb("helpDialog.blog")),Ea().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},eb("helpDialog.github")))}),Kf=function(g){return Ea().createElement(Ea().Fragment,null,Ea().createElement("h3",null,g.title),g.children)},ng=function(g){return Ea().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},g.children)},
Nf=function(g){return Ea().createElement("div",{style:{width:"49%"}},g.children)},tm=function(g){return Ea().createElement("div",{className:"HelpDialog--island"},Ea().createElement("h3",{className:"HelpDialog--island-title"},g.caption),g.children)},tf=function(g){return Ea().createElement("div",{className:"HelpDialog--shortcut"},Ea().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},Ea().createElement("div",{style:{lineHeight:1.4}},g.label),Ea().createElement("div",
{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},g.shortcuts.map(function(y,z){return Ea().createElement(Ea().Fragment,{key:z},Ea().createElement(au,null,y),g.isOr&&z!==g.shortcuts.length-1&&eb("helpDialog.or"))}))))};tf.defaultProps={isOr:!0};var au=function(g){return Ea().createElement("kbd",Pd()({className:"HelpDialog--key"},g))},bu=function(g){var y=g.onClose;g=Ea().useCallback(function(){y&&y()},[y]);return Ea().createElement(Ea().Fragment,
null,Ea().createElement(I,{onCloseRequest:g,title:eb("helpDialog.title"),className:"HelpDialog"},Ea().createElement(He,null),Ea().createElement(Kf,{title:eb("helpDialog.shortcuts")},Ea().createElement(ng,null,Ea().createElement(Nf,null,Ea().createElement(tm,{caption:eb("helpDialog.shapes")},Ea().createElement(tf,{label:eb("toolBar.selection"),shortcuts:["V","1"]}),Ea().createElement(tf,{label:eb("toolBar.rectangle"),shortcuts:["R","2"]}),Ea().createElement(tf,{label:eb("toolBar.diamond"),shortcuts:["D",
"3"]}),Ea().createElement(tf,{label:eb("toolBar.ellipse"),shortcuts:["E","4"]}),Ea().createElement(tf,{label:eb("toolBar.arrow"),shortcuts:["A","5"]}),Ea().createElement(tf,{label:eb("toolBar.line"),shortcuts:["P","6"]}),Ea().createElement(tf,{label:eb("toolBar.draw"),shortcuts:["Shift+P","7"]}),Ea().createElement(tf,{label:eb("toolBar.text"),shortcuts:["T","8"]}),Ea().createElement(tf,{label:eb("helpDialog.textNewLine"),shortcuts:[Wd("Enter"),Wd("Shift+Enter")]}),Ea().createElement(tf,{label:eb("helpDialog.textFinish"),
shortcuts:[Wd("Esc"),Wd("CtrlOrCmd+Enter")]}),Ea().createElement(tf,{label:eb("helpDialog.curvedArrow"),shortcuts:["A",eb("helpDialog.click"),eb("helpDialog.click"),eb("helpDialog.click")],isOr:!1}),Ea().createElement(tf,{label:eb("helpDialog.curvedLine"),shortcuts:["L",eb("helpDialog.click"),eb("helpDialog.click"),eb("helpDialog.click")],isOr:!1}),Ea().createElement(tf,{label:eb("toolBar.lock"),shortcuts:["Q"]}),Ea().createElement(tf,{label:eb("helpDialog.preventBinding"),shortcuts:[Wd("CtrlOrCmd")]})),
Ea().createElement(tm,{caption:eb("helpDialog.view")},Ea().createElement(tf,{label:eb("buttons.zoomIn"),shortcuts:[Wd("CtrlOrCmd++")]}),Ea().createElement(tf,{label:eb("buttons.zoomOut"),shortcuts:[Wd("CtrlOrCmd+-")]}),Ea().createElement(tf,{label:eb("buttons.resetZoom"),shortcuts:[Wd("CtrlOrCmd+0")]}),Ea().createElement(tf,{label:eb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),Ea().createElement(tf,{label:eb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),Ea().createElement(tf,{label:eb("buttons.fullScreen"),
shortcuts:["F"]}),Ea().createElement(tf,{label:eb("buttons.zenMode"),shortcuts:[Wd("Alt+Z")]}),Ea().createElement(tf,{label:eb("labels.showGrid"),shortcuts:[Wd("CtrlOrCmd+'")]}),Ea().createElement(tf,{label:eb("labels.viewMode"),shortcuts:[Wd("Alt+R")]}))),Ea().createElement(Nf,null,Ea().createElement(tm,{caption:eb("helpDialog.editor")},Ea().createElement(tf,{label:eb("labels.selectAll"),shortcuts:[Wd("CtrlOrCmd+A")]}),Ea().createElement(tf,{label:eb("labels.multiSelect"),shortcuts:[Wd("Shift+".concat(eb("helpDialog.click")))]}),
Ea().createElement(tf,{label:eb("labels.moveCanvas"),shortcuts:[Wd("Space+".concat(eb("helpDialog.drag"))),Wd("Wheel+".concat(eb("helpDialog.drag")))],isOr:!0}),Ea().createElement(tf,{label:eb("labels.cut"),shortcuts:[Wd("CtrlOrCmd+X")]}),Ea().createElement(tf,{label:eb("labels.copy"),shortcuts:[Wd("CtrlOrCmd+C")]}),Ea().createElement(tf,{label:eb("labels.paste"),shortcuts:[Wd("CtrlOrCmd+V")]}),Ea().createElement(tf,{label:eb("labels.copyAsPng"),shortcuts:[Wd("Shift+Alt+C")]}),Ea().createElement(tf,
{label:eb("labels.copyStyles"),shortcuts:[Wd("CtrlOrCmd+Alt+C")]}),Ea().createElement(tf,{label:eb("labels.pasteStyles"),shortcuts:[Wd("CtrlOrCmd+Alt+V")]}),Ea().createElement(tf,{label:eb("labels.delete"),shortcuts:[Wd("Del")]}),Ea().createElement(tf,{label:eb("labels.sendToBack"),shortcuts:[Wd(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),Ea().createElement(tf,{label:eb("labels.bringToFront"),shortcuts:[Wd(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),Ea().createElement(tf,{label:eb("labels.sendBackward"),
shortcuts:[Wd("CtrlOrCmd+[")]}),Ea().createElement(tf,{label:eb("labels.bringForward"),shortcuts:[Wd("CtrlOrCmd+]")]}),Ea().createElement(tf,{label:eb("labels.alignTop"),shortcuts:[Wd("CtrlOrCmd+Shift+Up")]}),Ea().createElement(tf,{label:eb("labels.alignBottom"),shortcuts:[Wd("CtrlOrCmd+Shift+Down")]}),Ea().createElement(tf,{label:eb("labels.alignLeft"),shortcuts:[Wd("CtrlOrCmd+Shift+Left")]}),Ea().createElement(tf,{label:eb("labels.alignRight"),shortcuts:[Wd("CtrlOrCmd+Shift+Right")]}),Ea().createElement(tf,
{label:eb("labels.duplicateSelection"),shortcuts:[Wd("CtrlOrCmd+D"),Wd("Alt+".concat(eb("helpDialog.drag")))]}),Ea().createElement(tf,{label:eb("buttons.undo"),shortcuts:[Wd("CtrlOrCmd+Z")]}),Ea().createElement(tf,{label:eb("buttons.redo"),shortcuts:Jj?[Wd("CtrlOrCmd+Y"),Wd("CtrlOrCmd+Shift+Z")]:[Wd("CtrlOrCmd+Shift+Z")]}),Ea().createElement(tf,{label:eb("labels.group"),shortcuts:[Wd("CtrlOrCmd+G")]}),Ea().createElement(tf,{label:eb("labels.ungroup"),shortcuts:[Wd("CtrlOrCmd+Shift+G")]})))))))},Xr=
function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,
(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},
trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Ss=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},$t=function(g){var y=g.library,z=g.onRemoveFromLibrary,M=g.onAddToLibrary,ca=g.onInsertShape,ja=g.pendingElements,ya=g.setAppState,wa=g.setLibraryItems;g=Ve()?4:6;var Da=Math.max(1,Math.ceil((y.length+(0<ja.length?1:0))/g)),Pa=[],Ka=!1;Pa.push(Ea().createElement("div",{className:"layer-ui__library-header"},
Ea().createElement(gf,{key:"import",type:"button",title:eb("buttons.load"),"aria-label":eb("buttons.load"),icon:om,onClick:function(){pp().then(function(){ya({isLibraryOpen:!1})}).catch(Gk).catch(function(zc){ya({errorMessage:zc.message})})}}),Ea().createElement(gf,{key:"export",type:"button",title:eb("buttons.export"),"aria-label":eb("buttons.export"),icon:th,onClick:function(){sm().catch(Gk).catch(function(zc){ya({errorMessage:zc.message})})}}),Ea().createElement(gf,{key:"reset",type:"button",title:eb("buttons.resetLibrary"),
"aria-label":eb("buttons.resetLibrary"),icon:Ri,onClick:function(){window.confirm(eb("alerts.resetLibrary"))&&(ph.resetLibrary(),wa([]))}}),Ea().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},eb("labels.libraries"))));for(var lb=0;lb<Da;lb++){for(var rb=g*lb,sb=[],dc=0;dc<g;dc++){var Yb=0<ja.length&&!Ka&&rb+dc>=y.length;Ka=Ka||Yb;sb.push(Ea().createElement(bl,{key:dc},Ea().createElement(Qe,{elements:y[rb+dc],pendingElements:Yb?ja:void 0,onRemoveFromLibrary:z.bind(null,
rb+dc),onClick:Yb?M.bind(null,ja):ca.bind(null,y[rb+dc])})))}Pa.push(Ea().createElement(al,{align:"center",gap:1,key:lb},sb))}return Ea().createElement(bl,{align:"start",gap:1,className:"layer-ui__library-items"},Pa)},Yt=function(g){var y=g.onClickOutside,z=g.onInsertShape,M=g.pendingElements,ca=g.onAddToLibrary;g=g.setAppState;var ja=(0,jc.useRef)(null);!function(sb,dc){(0,jc.useEffect)(function(){var Yb=function(zc){sb.current&&(zc.target instanceof Element&&(sb.current.contains(zc.target)||!document.body.contains(zc.target))||
dc(zc))};return document.addEventListener("pointerdown",Yb,!1),function(){document.removeEventListener("pointerdown",Yb)}},[sb,dc])}(ja,function(sb){sb.target.closest(".ToolIcon_type_button__library")||y(sb)});var ya=(0,jc.useState)([]),wa=ya[0],Da=ya[1],Pa=(0,jc.useState)("preloading");ya=Pa[0];var Ka=Pa[1],lb=(0,jc.useRef)(null);(0,jc.useEffect)(function(){return Promise.race([new Promise(function(sb){lb.current=setTimeout(function(){sb("loading")},100)}),ph.loadLibrary().then(function(sb){Da(sb);
Ka("ready")})]).then(function(sb){"loading"===sb&&Ka("loading")}),function(){clearTimeout(lb.current)}},[]);Pa=(0,jc.useCallback)(function(){var sb=Pc()(function(dc){var Yb,zc;return Xr(this,function(ed){switch(ed.label){case 0:return[4,ph.loadLibrary()];case 1:return Yb=ed.sent(),zc=Yb.filter(function(id,vd){return vd!==dc}),ph.saveLibrary(zc),Da(zc),[2]}})});return function(dc){return sb.apply(this,arguments)}}(),[]);var rb=(0,jc.useCallback)(function(){var sb=Pc()(function(dc){var Yb,zc;return Xr(this,
function(ed){switch(ed.label){case 0:return[4,ph.loadLibrary()];case 1:return Yb=ed.sent(),zc=Ss(Ss([],Yb),[dc]),ca(),ph.saveLibrary(zc),Da(zc),[2]}})});return function(dc){return sb.apply(this,arguments)}}(),[ca]);return"preloading"===ya?null:Ea().createElement(hl,{padding:1,ref:ja,className:"layer-ui__library"},"loading"===ya?Ea().createElement("div",{className:"layer-ui__library-message"},eb("labels.libraryLoadingMessage")):Ea().createElement($t,{library:wa,onRemoveFromLibrary:Pa,onAddToLibrary:rb,
onInsertShape:z,pendingElements:M,setAppState:g,setLibraryItems:Da}))};const Zt=Ea().memo(function(g){var y,z=g.actionManager,M=g.appState,ca=g.setAppState,ja=g.canvas,ya=g.elements,wa=g.onCollabButtonClick,Da=g.onLockToggle,Pa=g.onInsertElements,Ka=g.zenModeEnabled,lb=g.showExitZenModeBtn,rb=g.toggleZenMode,sb=g.isCollaborating,dc=g.onExportToBackend,Yb=g.renderCustomFooter;g=g.viewModeEnabled;var zc=Ve(),ed=function(){var ke=function(Oe){return function(){var Je=Pc()(function(df,zd){return Xr(this,
function(Zd){switch(Zd.label){case 0:return ja?[4,Ac(Oe,df,M,ja,{exportBackground:M.exportBackground,name:M.name,viewBackgroundColor:M.viewBackgroundColor,scale:zd,shouldAddWatermark:M.shouldAddWatermark}).catch(Gk).catch(function(je){console.error(je);ca({errorMessage:je.message})})]:[3,2];case 1:Zd.sent(),Zd.label=2;case 2:return[2]}})});return function(df,zd){return Je.apply(this,arguments)}}()};return Ea().createElement(Bc,{elements:ya,appState:M,actionManager:z,onExportToPng:ke("png"),onExportToSvg:ke("svg"),
onExportToClipboard:ke("clipboard"),onExportToBackend:dc?function(Oe){dc&&dc(Oe,M,ja)}:void 0})},id=(0,jc.useCallback)(function(ke){ca({isLibraryOpen:!1})},[ca]),vd=(0,jc.useCallback)(function(){ca({selectedElementIds:{},selectedGroupIds:{}})},[ca]),le=M.isLibraryOpen?Ea().createElement(Yt,{pendingElements:uf(ya,M),onClickOutside:id,onInsertShape:Pa,onAddToLibrary:vd,setAppState:ca}):null;Pa=Ea().createElement(Ea().Fragment,null,M.isLoading&&Ea().createElement(oc,null),M.errorMessage&&Ea().createElement(U,
{message:M.errorMessage,onClose:function(){return ca({errorMessage:null})}}),M.showHelpDialog&&Ea().createElement(bu,{onClose:function(){return ca({showHelpDialog:!1})}}),M.pasteDialog.shown&&Ea().createElement(Jf,{setAppState:ca,appState:M,onInsertChart:Pa,onClose:function(){return ca({pasteDialog:{shown:!1,data:null}})}}));return zc?Ea().createElement(Ea().Fragment,null,Pa,Ea().createElement(xd,{appState:M,elements:ya,actionManager:z,libraryMenu:le,exportButton:ed(),setAppState:ca,onCollabButtonClick:wa,
onLockToggle:Da,canvas:ja,isCollaborating:sb,renderCustomFooter:Yb,viewModeEnabled:g})):Ea().createElement("div",{className:mc("layer-ui__wrapper",{"disable-pointerEvents":M.draggingElement||M.resizingElement||M.editingElement&&!be(M.editingElement)})},Pa,(y=rh(M,ya),Ea().createElement(cd,{side:"top"},Ea().createElement("div",{className:"App-menu App-menu_top"},Ea().createElement(bl,{gap:4,className:mc({"disable-pointerEvents":Ka})},g?Ea().createElement(Ec,{heading:"canvasActions",className:mc("zen-mode-transition",
{"transition-left":Ka})},Ea().createElement(hl,{padding:2,style:{zIndex:1}},Ea().createElement(bl,{gap:4},Ea().createElement(al,{gap:1,justifyContent:"space-between"},z.renderAction("saveScene"),z.renderAction("saveAsScene"),ed())))):Ea().createElement(Ec,{heading:"canvasActions",className:mc("zen-mode-transition",{"transition-left":Ka})},Ea().createElement(hl,{padding:2,style:{zIndex:1}},Ea().createElement(bl,{gap:4},Ea().createElement(al,{gap:1,justifyContent:"space-between"},z.renderAction("loadScene"),
z.renderAction("saveScene"),z.renderAction("saveAsScene"),ed(),z.renderAction("clearCanvas"),wa&&Ea().createElement(Zq,{isCollaborating:sb,collaboratorCount:M.collaborators.size,onClick:wa})),Ea().createElement(Xq,{actionManager:z,appState:M,setAppState:ca})))),y&&Ea().createElement(Ec,{heading:"selectedShapeActions",className:mc("zen-mode-transition",{"transition-left":Ka})},Ea().createElement(hl,{className:hc.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(M.height-200,"px")}},Ea().createElement(Yq,
{appState:M,elements:ya,renderAction:z.renderAction,elementType:M.elementType})))),!g&&Ea().createElement(Ec,{heading:"shapes"},function(ke){return Ea().createElement(bl,{gap:4,align:"start"},Ea().createElement(al,{gap:1},Ea().createElement(hl,{padding:1,className:mc({"zen-mode":Ka})},Ea().createElement(zf,{appState:M,elements:ya}),ke,Ea().createElement(al,{gap:1},Ea().createElement(gq,{canvas:ja,elementType:M.elementType,setAppState:ca,isLibraryOpen:M.isLibraryOpen}))),Ea().createElement(Qc,{zenModeEnabled:Ka,
checked:M.elementLocked,onChange:Da,title:eb("toolBar.lock")})),le)}),Ea().createElement(Oc,{className:mc("zen-mode-transition",{"transition-right":Ka})},0<M.collaborators.size&&Array.from(M.collaborators).filter(function(ke){ke[0];return 0!==Object.keys(ke[1]).length}).map(function(ke){var Oe=ke[0];ke=ke[1];return Ea().createElement(Gj,{label:ke.username||"Unknown user",key:Oe},z.renderAction("goToCollaborator",Oe))}))))),Ea().createElement("div",{className:mc("App-menu App-menu_bottom zen-mode-transition",
{"App-menu_bottom--transition-left":Ka})},Ea().createElement(bl,{gap:2},Ea().createElement(Ec,{heading:"canvasActions"},Ea().createElement(hl,{padding:1},Ea().createElement(Sr,{renderAction:z.renderAction,zoom:M.zoom})),Ea().createElement("a",{className:mc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":Ka}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},Ea().createElement(Gj,{label:eb("encrypted.tooltip"),position:"above",
long:!0},Vd))))),Ea().createElement("aside",{className:mc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ka})},Ea().createElement(re,{appearance:M.appearance})),Ea().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},Ea().createElement("div",{className:mc("zen-mode-transition",{"transition-right disable-pointerEvents":Ka})},null==Yb?void 0:Yb(!1),z.renderAction("toggleShortcuts")),Ea().createElement("button",{className:mc("disable-zen-mode",
{"disable-zen-mode--visible":lb}),onClick:rb},eb("buttons.exitZenMode"))),M.scrolledOutside&&Ea().createElement("button",{className:"scroll-back-to-content",onClick:function(){ca(function(ke){for(var Oe=1;Oe<arguments.length;Oe++){var Je=null!=arguments[Oe]?arguments[Oe]:{};Oe%2?lf(Object(Je),!0).forEach(function(df){pd()(ke,df,Je[df])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(Je)):lf(Object(Je)).forEach(function(df){Object.defineProperty(ke,df,
Object.getOwnPropertyDescriptor(Je,df))})}return ke}({},mi(ya,M)))}},eb("buttons.scrollBackToContent")))},function(g,y){var z=function(ja){ja.suggestedBindings;ja.startBoundElement;return Vh()(ja,["suggestedBindings","startBoundElement"])},M=z(g.appState),ca=z(y.appState);z=Object.keys(M);return g.renderCustomFooter===y.renderCustomFooter&&g.langCode===y.langCode&&g.elements===y.elements&&z.every(function(ja){return M[ja]===ca[ja]})});var Rs=function(){try{var g=localStorage.getItem("excalidraw");
return g?JSON.stringify(g).length:0}catch(y){return console.error(y),0}},cu=(e(7287),function(g,y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];
Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,
Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya}),Ts=ti(function(g){var y=Rs();try{var z=localStorage.getItem("excalidraw-state"),M=localStorage.getItem("excalidraw-collab"),ca=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY);var ja=(z?JSON.stringify(z).length:0)+(M?JSON.stringify(M).length:0)+(ca?JSON.stringify(ca).length:0)+
Rs()}catch(ya){ja=(console.error(ya),0)}g({scene:y,total:ja})},500),eu=function(g){var y=Ve(),z=(0,jc.useState)({scene:0,total:0}),M=z[0],ca=z[1];(0,jc.useEffect)(function(){Ts(function(Pa){ca(Pa)})});(0,jc.useEffect)(function(){return function(){return Ts.cancel()}},[]);z=Bg(g.elements);var ja=kk(g.elements,g.appState),ya=Bg(ja);if(y&&g.appState.openMenu)return null;var wa,Da;y=Lf();return y!==hc.eQ?(Da=y.slice(0,16).replace("T"," "),wa=y.slice(21)):Da=eb("stats.versionNotAvailable"),Ea().createElement("div",
{className:"Stats"},Ea().createElement(hl,{padding:2},Ea().createElement("div",{className:"close",onClick:g.onClose},uj),Ea().createElement("h3",null,eb("stats.title")),Ea().createElement("table",null,Ea().createElement("tbody",null,Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.scene"))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.elements")),Ea().createElement("td",null,g.elements.length)),Ea().createElement("tr",null,Ea().createElement("td",null,
eb("stats.width")),Ea().createElement("td",null,Math.round(z[2])-Math.round(z[0]))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.height")),Ea().createElement("td",null,Math.round(z[3])-Math.round(z[1]))),Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.storage"))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.scene")),Ea().createElement("td",null,xl(M.scene,1))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.total")),
Ea().createElement("td",null,xl(M.total,1))),1===ja.length&&Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.element"))),1<ja.length&&Ea().createElement(Ea().Fragment,null,Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.selected"))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.elements")),Ea().createElement("td",null,ja.length))),0<ja.length&&Ea().createElement(Ea().Fragment,null,Ea().createElement("tr",null,Ea().createElement("td",
null,"x"),Ea().createElement("td",null,Math.round(1===ja.length?ja[0].x:ya[0]))),Ea().createElement("tr",null,Ea().createElement("td",null,"y"),Ea().createElement("td",null,Math.round(1===ja.length?ja[0].y:ya[1]))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.width")),Ea().createElement("td",null,Math.round(1===ja.length?ja[0].width:ya[2]-ya[0]))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.height")),Ea().createElement("td",null,Math.round(1===ja.length?
ja[0].height:ya[3]-ya[1])))),1===ja.length&&Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.angle")),Ea().createElement("td",null,"".concat(Math.round(180*ja[0].angle/Math.PI),"°"))),Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.version"))),Ea().createElement("tr",null,Ea().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:Pc()(function(){return cu(this,function(Pa){switch(Pa.label){case 0:return Pa.trys.push([0,2,,3]),
[4,Mb(Lf())];case 1:return Pa.sent(),g.setAppState({toastMessage:eb("toast.copyToClipboard")}),[3,3];case 2:return Pa.sent(),[3,3];case 3:return[2]}})}),title:eb("stats.versionCopy")},Da,Ea().createElement("br",null),wa))))))},fu=(e(5849),function(g){var y=g.message,z=g.clearToast,M=(0,jc.useRef)(0),ca=(0,jc.useCallback)(function(){return M.current=window.setTimeout(function(){return z()},hc.Lg)},[z]);return(0,jc.useEffect)(function(){return ca(),function(){return clearTimeout(M.current)}},[ca,y]),
Ea().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==M?void 0:M.current)},onMouseLeave:ca},Ea().createElement("p",{className:"Toast__message"},y))}),Us=ne({name:"viewMode",perform:function(g,y){return Sg("view","mode","view"),{appState:Xf(Xf({},y),{},{viewModeEnabled:!this.checked(y),selectedElementIds:{}}),commitToHistory:!1}},checked:function(g){return g.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(g){return!g[cf]&&g.altKey&&"KeyR"===
g.code}}),gu=function(){var g=function(y,z){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,ca){M.__proto__=ca}||function(M,ca){for(var ja in ca)Object.prototype.hasOwnProperty.call(ca,ja)&&(M[ja]=ca[ja])})(y,z)};return function(y,z){function M(){this.constructor=y}if("function"!=typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");g(y,z);y.prototype=null===z?Object.create(z):(M.prototype=z.prototype,new M)}}(),dp=function(g,
y){function z(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ca&&(ja=2&Ka[0]?ca.return:Ka[0]?ca.throw||((ja=ca.return)&&ja.call(ca),0):ca.next)&&!(ja=ja.call(ca,Ka[1])).done)return ja;switch(ca=0,ja&&(Ka=[2&Ka[0],ja.value]),Ka[0]){case 0:case 1:ja=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ca=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ja=wa.trys,(ja=0<ja.length&&
ja[ja.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ja||Ka[1]>ja[0]&&Ka[1]<ja[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ja[1])wa.label=ja[1],ja=Ka;else if(ja&&wa.label<ja[2])wa.label=ja[2],wa.ops.push(Ka);else{ja[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ca=0}finally{M=ja=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ca,ja,ya,wa={label:0,sent:function(){if(1&ja[0])throw ja[1];return ja[1]},trys:[],ops:[]};
return ya={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},gh=function(g,y){for(var z=0,M=y.length,ca=g.length;z<M;z++,ca++)g[ca]=y[z];return g},nk=new kq,wq=!1,Zr=0,Jp=0,Kp=0,ep=!1,xq=!1,$r=!1,Yr={horizontal:null,vertical:null},go=0,lq=!1,ho=null,Bl=new Map,wp=null,ar=null,zp=null,Wr=function(g){function y(z){var M=this;var ca=M=g.call(this,z)||this;Vt.call(M);var ja,ya,wa,Da=Dh(),Pa=z.width,Ka=void 0===Pa?window.innerWidth:Pa;Pa=z.height;
var lb=void 0===Pa?window.innerHeight:Pa,rb=z.offsetLeft,sb=z.offsetTop;Pa=z.excalidrawRef;var dc=z.viewModeEnabled;dc=void 0!==dc&&dc;var Yb=z.zenModeEnabled;Yb=void 0!==Yb&&Yb;z=z.gridModeEnabled;z=void 0!==z&&z;if(M.state=Wa(Wa(Wa({},Da),{},{isLoading:!0,width:Ka,height:lb},M.getCanvasOffsets({offsetLeft:rb,offsetTop:sb})),{},{viewModeEnabled:dc,zenModeEnabled:Yb,gridSize:z?hc.k:null}),Pa){var zc;Da="current"in Pa&&(null===(zc=Pa.current)||void 0===zc?void 0:zc.readyPromise)||((wa=new Promise(function(ed,
id){ja=ed;ya=id})).resolve=ja,wa.reject=ya,wa);wa={ready:!0,readyPromise:Da,updateScene:M.updateScene,resetScene:M.resetScene,getSceneElementsIncludingDeleted:M.getSceneElementsIncludingDeleted,history:{clear:M.resetHistory},setScrollToCenter:M.setScrollToCenter,getSceneElements:M.getSceneElements,getAppState:function(){return ca.state}};"function"==typeof Pa?Pa(wa):Pa.current=wa;Da.resolve(wa)}return M.scene=new yh,M.actionManager=new um(M.syncActionResult,function(){return ca.state},function(){return ca.scene.getElementsIncludingDeleted()},
M),M.actionManager.registerAll(jg),M.actionManager.registerAction({name:"undo",perform:function(ed,id){return sp(ed,id,function(){return nk.undoOnce()})},keyTest:function(ed){return ed[cf]&&"z"===ed.key.toLowerCase()&&!ed.shiftKey},PanelComponent:function(ed){ed=ed.updateData;return Ea().createElement(gf,{type:"button",icon:lh,"aria-label":eb("buttons.undo"),onClick:ed})},commitToHistory:function(){return!1}}),M.actionManager.registerAction(function(ed){return{name:"redo",perform:function(id,vd){return sp(id,
vd,function(){return ed.redoOnce()})},keyTest:function(id){return id[cf]&&id.shiftKey&&"z"===id.key.toLowerCase()||Jj&&id.ctrlKey&&!id.shiftKey&&"y"===id.key},PanelComponent:function(id){id=id.updateData;return Ea().createElement(gf,{type:"button",icon:Fj,"aria-label":eb("buttons.redo"),onClick:id})},commitToHistory:function(){return!1}}}(nk)),M}return gu(y,g),y.prototype.renderCanvas=function(){var z=window.devicePixelRatio,M=this.state,ca=M.width,ja=M.height,ya=ca*z;z*=ja;return M.viewModeEnabled?
Ea().createElement("canvas",{id:"canvas",style:{width:ca,height:ja,cursor:"grabbing"},width:ya,height:z,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},eb("labels.drawingCanvas")):Ea().createElement("canvas",{id:"canvas",style:{width:ca,height:ja},width:ya,height:z,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},eb("labels.drawingCanvas"))},y.prototype.render=function(){var z,M=this,ca=this.state,ja=ca.zenModeEnabled,ya=ca.width,wa=ca.height;ca=ca.viewModeEnabled;var Da=this.props,Pa=Da.onCollabButtonClick,Ka=Da.onExportToBackend;Da=Da.renderFooter;
var lb=ya/2,rb=wa/2;return Ea().createElement("div",{className:mc("excalidraw",{"excalidraw--view-mode":ca}),ref:this.excalidrawContainerRef,style:{width:ya,height:wa}},Ea().createElement(Zt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Pa,onLockToggle:this.toggleLock,onInsertElements:function(sb){return M.addElementsFromPasteOrLibrary(sb,lb,rb)},zenModeEnabled:ja,toggleZenMode:this.toggleZenMode,
langCode:ua.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ka,renderCustomFooter:Da,viewModeEnabled:ca,showExitZenModeBtn:void 0===(null===(z=this.props)||void 0===z?void 0:z.zenModeEnabled)&&ja}),Ea().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&Ea().createElement(eu,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&Ea().createElement(fu,{message:this.state.toastMessage,
clearToast:this.clearToast}),Ea().createElement("main",null,this.renderCanvas()))},y.prototype.componentDidMount=function(){var z=this;return Pc()(function(){return dp(this,function(M){return"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(z.setState.bind(z),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return z.state}},setState:{configurable:!0,value:function(){for(var ca=[],ja=0;ja<arguments.length;ja++)ca[ja]=arguments[ja];return z.setState.apply(z,ca)}},
app:{configurable:!0,value:z}})),z.scene.addCallback(z.onSceneUpdated),z.addEventListeners(),"number"==typeof z.props.offsetLeft&&"number"==typeof z.props.offsetTop?z.initializeScene():z.setState(z.getCanvasOffsets(z.props),function(){z.initializeScene()}),[2]})})()},y.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},y.prototype.removeEventListeners=function(){document.removeEventListener(hc.Ks.COPY,this.onCopy);document.removeEventListener(hc.Ks.PASTE,
this.pasteFromClipboard);document.removeEventListener(hc.Ks.CUT,this.onCut);document.removeEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(hc.Ks.KEYUP,this.onKeyUp);window.removeEventListener(hc.Ks.RESIZE,this.onResize,!1);window.removeEventListener(hc.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(hc.Ks.BLUR,this.onBlur,!1);window.removeEventListener(hc.Ks.DRAG_OVER,this.disableEvent,
!1);window.removeEventListener(hc.Ks.DROP,this.disableEvent,!1);document.removeEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1)},y.prototype.addEventListeners=function(){var z,M;this.removeEventListeners();document.addEventListener(hc.Ks.COPY,this.onCopy);document.addEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(hc.Ks.KEYUP,
this.onKeyUp,{passive:!0});document.addEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(z=document.fonts)||void 0===z||null===(M=z.addEventListener)||void 0===M||M.call(z,"loadingdone",this.onFontLoaded);document.addEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(hc.Ks.PASTE,
this.pasteFromClipboard),document.addEventListener(hc.Ks.CUT,this.onCut),document.addEventListener(hc.Ks.SCROLL,this.onScroll),window.addEventListener(hc.Ks.RESIZE,this.onResize,!1),window.addEventListener(hc.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(hc.Ks.BLUR,this.onBlur,!1),window.addEventListener(hc.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(hc.Ks.DROP,this.disableEvent,!1))},y.prototype.componentDidUpdate=function(z,M){var ca,ja,ya,wa,Da=this;(z.langCode!==this.props.langCode&&
this.updateLanguage(),z.width!==this.props.width||z.height!==this.props.height||"number"==typeof this.props.offsetLeft&&z.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&z.offsetTop!==this.props.offsetTop)&&this.setState(Wa({width:null!==(ya=this.props.width)&&void 0!==ya?ya:window.innerWidth,height:null!==(wa=this.props.height)&&void 0!==wa?wa:window.innerHeight},this.getCanvasOffsets(this.props)));z.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},
this.addEventListeners);M.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();z.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});z.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?hc.k:null});null===(ca=document.querySelector(".excalidraw"))||void 0===ca||ca.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&
setTimeout(function(){Da.actionManager.executeAction(Mf)});z=M.multiElement;M.elementType!==this.state.elementType&&null!=z&&this.state.isBindingEnabled&&og(z)&&jk(z,this.state,this.scene,Dg(dg.getPointAtIndexGlobalCoordinates(z,-1)));var Pa={},Ka={},lb={},rb={},sb={};this.state.collaborators.forEach(function(zc,ed){if(zc.selectedElementIds)for(var id=0,vd=Object.keys(zc.selectedElementIds);id<vd.length;id++){var le=vd[id];le in lb||(lb[le]=[]);lb[le].push(ed)}zc.pointer&&(zc.username&&(rb[ed]=zc.username),
zc.userState&&(sb[ed]=zc.userState),Ka[ed]=mh({sceneX:zc.pointer.x,sceneY:zc.pointer.y},Da.state),Pa[ed]=zc.button)});M=this.scene.getElements();ca=kn(M.filter(function(zc){return!Da.state.editingElement||"text"!==Da.state.editingElement.type||zc.id!==Da.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ka,
remotePointerButton:Pa,remoteSelectedElementIds:lb,remotePointerUsernames:rb,remotePointerUserStates:sb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!wg().matches});z=ca.atLeastOneVisibleElement;(ca=ca.scrollBars)&&(Yr=ca);var dc,Yb;M="text"!==(null===(ja=this.state.editingElement)||void 0===ja?void 0:ja.type)&&!z&&0<M.length;(this.state.scrolledOutside!==M&&this.setState({scrolledOutside:M}),nk.record(this.state,this.scene.getElementsIncludingDeleted()),
this.state.isLoading)||null===(dc=(Yb=this.props).onChange)||void 0===dc||dc.call(Yb,this.scene.getElementsIncludingDeleted(),this.state)},y.resetTapTwice=function(){wq=!1},y.prototype.addTextFromPaste=function(z){var M,ca=ug({clientX:Jp,clientY:Kp},this.state);z=Kj({x:ca.x,y:ca.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,
roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:z,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:hc.hs});this.scene.replaceAllElements(gh(gh([],this.scene.getElementsIncludingDeleted()),[z]));this.setState({selectedElementIds:(M={},M[z.id]=!0,M)});nk.resumeRecording()},y.prototype.selectShapeTool=function(z){var M;ep||
ui(this.canvas,z);(M=document.activeElement)instanceof HTMLElement&&M.className.includes("ToolIcon")&&document.activeElement.blur();hj(z)||this.setState({suggestedBindings:[]});"selection"!==z?this.setState({elementType:z,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:z})},y.prototype.handleTextWysiwyg=function(z,M){M=M.isExistingElement;var ca=void 0!==M&&M,ja=this,ya=function(wa,Da){void 0===Da&&(Da=!1);ja.scene.replaceAllElements(gh([],ja.scene.getElementsIncludingDeleted().map(function(Pa){if(Pa.id===
z.id&&be(Pa)){var Ka=Da;Ka={text:wa,isDeleted:null!=Ka?Ka:Pa.isDeleted};var lb=Wi(wa,Vi(Pa));var rb=lb.width;var sb=lb.height;lb=lb.baseline;var dc=Pa.textAlign;var Yb=Pa.verticalAlign;if("center"===dc&&"middle"===Yb)dc=Wi(Pa.text,Vi(Pa)),Yb=Xh(Pa,{width:rb-dc.width,height:sb-dc.height}),dc=Pa.x-Yb.x,Yb=Pa.y-Yb.y;else{var zc=ig(Pa);Yb=zc[0];var ed=zc[1],id=zc[2];zc=zc[3];var vd=Pg(Pa,rb,sb);dc=(Yb=Zf({s:!0,e:"center"===dc||"left"===dc,w:"center"===dc||"right"===dc},Pa.x,Pa.y,Pa.angle,(Yb-vd[0])/2,
(ed-vd[1])/2,(id-vd[2])/2,(zc-vd[3])/2))[0];Yb=Yb[1]}rb={width:rb,height:sb,x:Number.isFinite(dc)?dc:Pa.x,y:Number.isFinite(Yb)?Yb:Pa.y,baseline:lb};Pa=yg(Pa,Ha(Ka,rb))}return Pa})))};!function(wa){var Da=wa.id,Pa=wa.appState,Ka=wa.onChange,lb=wa.onSubmit,rb=wa.getViewportCoords,sb=wa.element;wa=wa.canvas;var dc=function(){var Je,df=null===(Je=yh.getScene(sb))||void 0===Je?void 0:Je.getElement(Da);if(df&&be(df)){Je=rb(df.x,df.y);var zd=Je[0],Zd=Je[1];Je=df.textAlign;var je=df.angle;Yb.value=df.text;
var $e=df.text.replace(/\r\n?/g,"\n").split("\n"),Eh=df.height/$e.length;$e=(Pa.offsetLeft+Pa.width-zd-8)/Pa.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var $h=Object,Bj=$h.assign,cj=Yb.style,Vl=Vi(df);Eh="".concat(Eh,"px");var un="".concat(df.width,"px"),fm="".concat(df.height,"px");zd="".concat(zd,"px");Zd="".concat(Zd,"px");var vn=df.width;var Wm=Pa.zoom,fo=180*je/Math.PI;je=(vn-2*Pa.offsetLeft)*(Wm.value-1)/2;var Xm=(df.height-
2*Pa.offsetTop)*(Wm.value-1)/2;vn=(vn>$e&&1!==Wm.value&&(je=$e/2*(Wm.value-1)),"translate(".concat(je,"px, ").concat(Xm,"px) scale(").concat(Wm.value,") rotate(").concat(fo,"deg)"));Bj.call($h,cj,{font:Vl,lineHeight:Eh,width:un,height:fm,left:zd,top:Zd,transform:vn,textAlign:Je,color:df.strokeColor,opacity:df.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat($e,"px")})}},Yb=document.createElement("textarea");Yb.dir="auto";Yb.tabIndex=0;Yb.dataset.type="wysiwyg";Yb.wrap="off";Object.assign(Yb.style,
{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});dc();Ka&&(Yb.oninput=function(){Ka(sl(Yb.value))});Yb.onkeydown=function(Je){"Escape"===Je.key?(Je.preventDefault(),ed()):"Enter"===Je.key&&Je[cf]?(Je.preventDefault(),Je.isComposing||229===Je.keyCode)||ed():"Enter"!==Je.key||Je.altKey||Je.stopPropagation()};var zc=function(Je){Je.preventDefault();
Je.stopPropagation()},ed=function(){lb(sl(Yb.value));ke||(ke=!0,Yb.onblur=null,Yb.oninput=null,Yb.onkeydown=null,Oe&&Oe.disconnect(),window.removeEventListener("resize",dc),window.removeEventListener("wheel",zc,!0),window.removeEventListener("pointerdown",vd),window.removeEventListener("pointerup",id),window.removeEventListener("blur",ed),le(),Yb.remove())},id=function(){window.removeEventListener("pointerup",id);setTimeout(function(){Yb.onblur=ed;Yb.focus()})},vd=function(Je){Je.target instanceof
HTMLElement&&Je.target.closest(".".concat(hc.$C.SHAPE_ACTIONS_MENU))&&!Cg(Je.target)&&(Yb.onblur=null,window.addEventListener("pointerup",id),window.addEventListener("blur",ed))},le=yh.getScene(sb).addCallback(function(){dc();Yb.focus()}),ke=!1;Yb.onblur=ed;var Oe=null;wa&&"ResizeObserver"in window?(Oe=new window.ResizeObserver(function(){dc()})).observe(wa):window.addEventListener("resize",dc);window.addEventListener("pointerdown",vd);window.addEventListener("wheel",zc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Yb);
Yb.focus();Yb.select()}({id:z.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(wa,Da){wa=mh({sceneX:wa,sceneY:Da},ja.state);return[wa.x-ja.state.offsetLeft,wa.y-ja.state.offsetTop]},onChange:bg(function(wa){ya(wa);!z.isDeleted&&Ai(z)}),onSubmit:bg(function(wa){var Da=!wa.trim();ya(wa,Da);Da?tj(ja.scene.getElements(),[z]):ja.setState(function(Pa){var Ka;return{selectedElementIds:Wa(Wa({},Pa.selectedElementIds),{},(Ka={},Ka[z.id]=!0,Ka))}});Da&&!ca||nk.resumeRecording();ja.setState({draggingElement:null,
editingElement:null});ja.state.elementLocked&&ui(ja.canvas,ja.state.elementType)}),element:z});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});ya(z.text)},y.prototype.getTextElementAtPosition=function(z,M){return(z=this.getElementAtPosition(z,M))&&be(z)&&!z.isDeleted?z:null},y.prototype.getElementAtPosition=function(z,M){var ca=this.getElementsAtPosition(z,M);if(1<ca.length){var ja=ca[ca.length-1];return Lk(ja,this.state,z,M)?ca[ca.length-2]:ja}return 1===ca.length?
ca[0]:null},y.prototype.getElementsAtPosition=function(z,M){var ca,ja,ya=this;return ca=this.scene.getElements(),ja=function(wa){var Da=ya.state,Pa=10/Da.zoom.value,Ka=[z,M];return Da.selectedElementIds[wa.id]?Rl(wa,Ka,Pa):fk(wa,Da,Ka)},ca.filter(function(wa){return!wa.isDeleted&&ja(wa)})},y.prototype.maybeCleanupAfterMissingPointerUp=function(z){null!==ho&&ho(z)},y.prototype.updateGestureOnPointerDown=function(z){Bl.set(z.pointerId,{x:z.clientX,y:z.clientY});2===Bl.size&&(wp=Tm(Bl),zp=this.state.zoom.value,
ar=bo(Array.from(Bl.values())))},y.prototype.initialPointerDownState=function(z){var M=ug(z,this.state),ca=uf(this.scene.getElements(),this.state),ja=Bg(ca),ya=ja[0],wa=ja[1],Da=ja[2];ja=ja[3];return{origin:M,originInGrid:Dg(ri(M.x,M.y,this.state.gridSize)),scrollbars:ki(Yr,z.clientX-this.state.offsetLeft,z.clientY-this.state.offsetTop),lastCoords:Wa({},M),originalElements:this.scene.getElements().reduce(function(Pa,Ka){return Pa.set(Ka.id,Lj(Ka)),Pa},new Map),resize:{handleType:!1,isResizing:!1,
offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Da+ya)/2,y:(ja+wa)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(M,ca)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},y.prototype.handleDraggingScrollBar=function(z,M){var ca=this;if(!M.scrollbars.isOverEither||this.state.multiElement)return!1;$r=!0;M.lastCoords.x=
z.clientX;M.lastCoords.y=z.clientY;var ja=bg(function(wa){wa.target instanceof HTMLElement&&ca.handlePointerMoveOverScrollbars(wa,M)}),ya=bg(function(){$r=!1;ui(ca.canvas,ca.state.elementType);ho=null;ca.setState({cursorButton:"up"});ca.savePointer(z.clientX,z.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,ja);window.removeEventListener(hc.Ks.POINTER_UP,ya)});return ho=ya,window.addEventListener(hc.Ks.POINTER_MOVE,ja),window.addEventListener(hc.Ks.POINTER_UP,ya),!0},y.prototype.isASelectedElement=
function(z){return null!=z&&this.state.selectedElementIds[z.id]},y.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(z,M){if(2>M.length)return!1;var ca=10/this.state.zoom.value;M=Bg(M);var ja=M[1],ya=M[2],wa=M[3];return z.x>M[0]-ca&&z.x<ya+ca&&z.y>ja-ca&&z.y<wa+ca},y.prototype.onKeyDownFromPointerDownHandler=function(z){var M=this;return bg(function(ca){M.maybeHandleResize(z,ca)||M.maybeDragNewGenericElement(z,ca)})},y.prototype.onKeyUpFromPointerDownHandler=function(z){var M=this;return bg(function(ca){"Alt"===
ca.key&&ca.preventDefault();M.maybeHandleResize(z,ca)||M.maybeDragNewGenericElement(z,ca)})},y.prototype.onPointerMoveFromPointerDownHandler=function(z){var M=this;return bg(function(ca){if(null===z.drag.offset&&(z.drag.offset=Dg(function(id,vd,le){id=Bg(id);return[vd-id[0],le-id[1]]}(uf(M.scene.getElements(),M.state),z.origin.x,z.origin.y))),ca.target instanceof HTMLElement&&!M.handlePointerMoveOverScrollbars(ca,z)){var ja=ug(ca,M.state),ya=ri(ja.x,ja.y,M.state.gridSize),wa=ya[0];ya=ya[1];if(z.drag.hasOccurred||
"arrow"!==M.state.elementType&&"line"!==M.state.elementType||!(Math.hypot(z.origin.x-ja.x,z.origin.y-ja.y)<hc.f)){if(z.resize.isResizing&&(z.lastCoords.x=ja.x,z.lastCoords.y=ja.y,M.maybeHandleResize(z,ca)))return!0;if(M.state.editingLinearElement&&dg.handlePointDragging(M.state,function(id){return M.setState(id)},ja.x,ja.y,function(id,vd){M.maybeSuggestBindingForLinearElementAtCursor(id,vd,ja)}))return z.lastCoords.x=ja.x,void(z.lastCoords.y=ja.y);if(z.hit.allHitElements.some(function(id){return M.isASelectedElement(id)})||
z.hit.hasHitCommonBoundingBoxOfSelectedElements){z.drag.hasOccurred=!0;var Da=uf(M.scene.getElements(),M.state);if(0<Da.length){wa=ri(ja.x-z.drag.offset.x,ja.y-z.drag.offset.y,M.state.gridSize);var Pa=wa[0];wa=wa[1];ya=[Math.abs(ja.x-z.origin.x),Math.abs(ja.y-z.origin.y)];if(function(id,vd,le,ke,Oe,Je,df,zd){void 0===Je&&(Je=!1);void 0===df&&(df=0);void 0===zd&&(zd=0);Oe=Bg(vd);var Zd=le-Oe[0],je=ke-Oe[1];vd.forEach(function($e){if(Je){var Eh=Je&&df<zd;var $h=Je&&df>zd;var Bj=id.originalElements.get($e.id);
Eh=Eh&&Bj?Bj.x:$e.x+Zd;$h=$h&&Bj?Bj.y:$e.y+je}else Eh=$e.x+Zd,$h=$e.y+je;jf($e,{x:Eh,y:$h});Ai($e,{simultaneouslyUpdated:vd})})}(z,Da,Pa,wa,M.scene,ca.shiftKey,ya[0],ya[1]),M.maybeSuggestBindingForAll(Da),ca.altKey&&!z.hit.hasBeenDuplicated){z.hit.hasBeenDuplicated=!0;Da=[];ca=[];var Ka=new Map;ya=new Map;for(var lb=z.hit.element,rb=0,sb=M.scene.getElementsIncludingDeleted();rb<sb.length;rb++){var dc=sb[rb];if(M.state.selectedElementIds[dc.id]||dc.id===(null==lb?void 0:lb.id)&&z.hit.wasAddedToSelection){var Yb=
Yi(M.state.editingGroupId,Ka,dc),zc=ri(z.origin.x-z.drag.offset.x,z.origin.y-z.drag.offset.y,M.state.gridSize);jf(Yb,{x:Yb.x+(zc[0]-Pa),y:Yb.y+(zc[1]-wa)});Da.push(Yb);ca.push(dc);ya.set(dc.id,Yb.id)}else Da.push(dc)}Pa=gh(gh([],Da),ca);Uj(Pa,ca,ya,"duplicatesServeAsOld");M.scene.replaceAllElements(Pa)}return}}if(Da=M.state.draggingElement)if(Fg(Da)?(z.drag.hasOccurred=!0,Ka=Da.points,rb=lb=void 0,"draw"===Da.type?(lb=ja.x-Da.x,rb=ja.y-Da.y):(lb=wa-Da.x,rb=ya-Da.y),ca.shiftKey&&2===Ka.length&&(lb=
(Pa=Ye(M.state.elementType,lb,rb)).width,rb=Pa.height),1===Ka.length?jf(Da,{points:gh(gh([],Ka),[[lb,rb]])}):1<Ka.length&&("draw"===Da.type?jf(Da,{points:F(gh(gh([],Ka),[[lb,rb]]),.7/M.state.zoom.value)}):jf(Da,{points:gh(gh([],Ka.slice(0,-1)),[[lb,rb]])})),og(Da)&&M.maybeSuggestBindingForLinearElementAtCursor(Da,"end",ja,M.state.startBoundElement)):(z.lastCoords.x=ja.x,z.lastCoords.y=ja.y,M.maybeDragNewGenericElement(z,ca)),"selection"===M.state.elementType){Pa=M.scene.getElements();!ca.shiftKey&&
kg(Pa,M.state)&&M.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var ed=function(id,vd){vd=ig(vd);var le=vd[0],ke=vd[1],Oe=vd[2],Je=vd[3];return id.filter(function(df){var zd=si(df),Zd=zd[0],je=zd[1],$e=zd[2];zd=zd[3];return"selection"!==df.type&&le<=Zd&&ke<=je&&Oe>=$e&&Je>=zd})}(Pa,Da);M.setState(function(id){return Wh(Wa(Wa({},id),{},{selectedElementIds:Wa(Wa({},id.selectedElementIds),ed.reduce(function(vd,le){return vd[le.id]=!0,vd},{}))}),M.scene.getElements())})}}}})},
y.prototype.handlePointerMoveOverScrollbars=function(z,M){return M.scrollbars.isOverHorizontal?(z=z.clientX,this.setState({scrollX:this.state.scrollX-(z-M.lastCoords.x)/this.state.zoom.value}),M.lastCoords.x=z,!0):M.scrollbars.isOverVertical?(z=z.clientY,this.setState({scrollY:this.state.scrollY-(z-M.lastCoords.y)/this.state.zoom.value}),M.lastCoords.y=z,!0):!1},y.prototype.onPointerUpFromPointerDownHandler=function(z){var M=this;return bg(function(ca){var ja=M.state,ya=ja.draggingElement,wa=ja.resizingElement,
Da=ja.multiElement,Pa=ja.elementType,Ka=ja.elementLocked,lb=ja.isResizing;ja=ja.isRotating;if(M.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Da||be(M.state.editingElement)?M.state.editingElement:null}),M.savePointer(ca.clientX,ca.clientY,"up"),M.state.editingLinearElement){var rb=dg.handlePointerUp(ca,M.state.editingLinearElement,M.state);rb!==M.state.editingLinearElement&&M.setState({editingLinearElement:rb,suggestedBindings:[]})}if(ho=
null,window.removeEventListener(hc.Ks.POINTER_MOVE,z.eventListeners.onMove),window.removeEventListener(hc.Ks.POINTER_UP,z.eventListeners.onUp),window.removeEventListener(hc.Ks.KEYDOWN,z.eventListeners.onKeyDown),window.removeEventListener(hc.Ks.KEYUP,z.eventListeners.onKeyUp),"draw"!==(null==ya?void 0:ya.type))if(Fg(ya))1<ya.points.length&&nk.resumeRecording(),ca=ug(ca,M.state),z.drag.hasOccurred||!ya||Da?z.drag.hasOccurred&&!Da&&(M.state.isBindingEnabled&&og(ya)&&jk(ya,M.state,M.scene,ca),M.setState({suggestedBindings:[],
startBoundElement:null}),Ka||"draw"===Pa?M.setState(function(Yb){var zc;return{draggingElement:null,selectedElementIds:Wa(Wa({},Yb.selectedElementIds),{},(zc={},zc[M.state.draggingElement.id]=!0,zc))}}):(Ii(M.canvas),M.setState(function(Yb){var zc;return{draggingElement:null,elementType:"selection",selectedElementIds:Wa(Wa({},Yb.selectedElementIds),{},(zc={},zc[M.state.draggingElement.id]=!0,zc))}}))):(jf(ya,{points:gh(gh([],ya.points),[[ca.x-ya.x,ca.y-ya.y]])}),M.setState({multiElement:ya,editingElement:M.state.draggingElement}));
else{if("selection"!==Pa&&ya&&Rh(ya))return M.scene.replaceAllElements(M.scene.getElementsIncludingDeleted().slice(0,-1)),void M.setState({draggingElement:null});ya&&jf(ya,Ml(ya));wa&&nk.resumeRecording();wa&&Rh(wa)&&M.scene.replaceAllElements(M.scene.getElementsIncludingDeleted().filter(function(Yb){return Yb.id!==wa.id}));var sb=z.hit.element;if(sb&&!z.drag.hasOccurred&&!z.hit.wasAddedToSelection)if(ca.shiftKey)if(M.state.selectedElementIds[sb.id])if(null!=zh(M.state,sb)){var dc=sb.groupIds.flatMap(function(Yb){return ck(M.scene.getElements(),
Yb)}).map(function(Yb){var zc;return(zc={})[Yb.id]=!1,zc}).reduce(function(Yb,zc){return Wa(Wa({},Yb),zc)},{});M.setState(function(Yb){return{selectedGroupIds:Wa(Wa({},Yb.selectedElementIds),sb.groupIds.map(function(zc){var ed;return(ed={})[zc]=!1,ed}).reduce(function(zc,ed){return Wa(Wa({},zc),ed)},{})),selectedElementIds:Wa(Wa({},Yb.selectedElementIds),dc)}})}else M.setState(function(Yb){var zc;return{selectedElementIds:Wa(Wa({},Yb.selectedElementIds),{},(zc={},zc[sb.id]=!1,zc))}});else M.setState(function(Yb){var zc;
return{selectedElementIds:Wa(Wa({},Yb.selectedElementIds),{},(zc={},zc[sb.id]=!0,zc))}});else M.setState(function(Yb){var zc;return Wa({},Wh(Wa(Wa({},Yb),{},{selectedElementIds:(zc={},zc[sb.id]=!0,zc)}),M.scene.getElements()))});M.state.editingLinearElement||z.drag.hasOccurred||M.state.isResizing||!(sb&&Lk(sb,M.state,z.origin.x,z.origin.y)||!sb&&z.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ka&&"draw"!==Pa&&ya&&M.setState(function(Yb){var zc;return{selectedElementIds:Wa(Wa({},Yb.selectedElementIds),
{},(zc={},zc[ya.id]=!0,zc))}}),("selection"!==Pa||kg(M.scene.getElements(),M.state))&&nk.resumeRecording(),(z.drag.hasOccurred||lb||ja)&&(M.state.isBindingEnabled?vg:ih)(uf(M.scene.getElements(),M.state)),Ka||"draw"===Pa?M.setState({draggingElement:null,suggestedBindings:[]}):(Ii(M.canvas),M.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):M.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else M.actionManager.executeAction(Mf)})},y.prototype.maybeSuggestBindingForAll=
function(z){var M;z=(M=new Set(z.map(function(ca){return ca.id})),z.flatMap(function(ca){return og(ca)?Il(ca).filter(function(ja){return!M.has(ja.id)}):yk(ca)?sh(ca).filter(function(ja){return!M.has(ja[0].id)}):[]}));this.setState({suggestedBindings:z})},y.prototype.clearSelection=function(z){this.setState(function(M){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:M.editingGroupId&&null!=z&&z.groupIds.includes(M.editingGroupId)?M.editingGroupId:null}});this.setState({selectedElementIds:{},
previousSelectedElementIds:this.state.selectedElementIds})},y.prototype.getTextWysiwygSnappedToCenterPosition=function(z,M,ca,ja,ya){if(ya=function(wa,Da,Pa){for(var Ka=null,lb=wa.length-1;0<=lb;--lb)if(!wa[lb].isDeleted){var rb=ig(wa[lb]),sb=rb[1],dc=rb[2],Yb=rb[3];if(rb[0]<Da&&Da<dc&&sb<Pa&&Pa<Yb){Ka=wa[lb];break}}return Ka}(this.scene.getElementsIncludingDeleted().filter(function(wa){return!be(wa)}),z,M))if(ja=ya.x+ya.width/2,ya=ya.y+ya.height/2,Math.hypot(z-ja,M-ya)<hc.wZ)return z=mh({sceneX:ja,
sceneY:ya},ca),{viewportX:z.x,viewportY:z.y,elementCenterX:ja,elementCenterY:ya}},y.prototype.getCanvasOffsets=function(z){var M,ca;return"number"==typeof(null==z?void 0:z.offsetLeft)&&"number"==typeof(null==z?void 0:z.offsetTop)?{offsetLeft:z.offsetLeft,offsetTop:z.offsetTop}:null!==(M=this.excalidrawContainerRef)&&void 0!==M&&null!==(ca=M.current)&&void 0!==ca&&ca.parentElement?(ca=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),M=ca.left,ca=ca.top,{offsetLeft:"number"==
typeof(null==z?void 0:z.offsetLeft)?z.offsetLeft:M,offsetTop:"number"==typeof(null==z?void 0:z.offsetTop)?z.offsetTop:ca}):{offsetLeft:"number"==typeof(null==z?void 0:z.offsetLeft)?z.offsetLeft:0,offsetTop:"number"==typeof(null==z?void 0:z.offsetTop)?z.offsetTop:0}},y.prototype.updateLanguage=function(){var z=this;return Pc()(function(){var M;return dp(this,function(ca){switch(ca.label){case 0:return M=fa.find(function(ja){return ja.code===z.props.langCode})||Za,[4,gb(M)];case 1:return ca.sent(),
z.setAppState({}),[2]}})})()},y}(Ea().Component);Wr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Vt=function(){var g=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=Ea().createRef();this.getSceneElementsIncludingDeleted=function(){return g.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return g.scene.getElements()};this.syncActionResult=bg(function(y){if(!g.unmounted&&!1!==y){var z=null;if(y.elements&&(y.elements.forEach(function(Pa){var Ka;
(null===(Ka=g.state.editingElement)||void 0===Ka?void 0:Ka.id)===Pa.id&&g.state.editingElement!==Pa&&!Pa.isDeleted&&(z=Pa)}),g.scene.replaceAllElements(y.elements),y.commitToHistory&&nk.resumeRecording()),y.appState||z){var M,ca,ja;y.commitToHistory&&nk.resumeRecording();var ya=(null==y||null===(M=y.appState)||void 0===M?void 0:M.viewModeEnabled)||!1,wa=(null==y||null===(ca=y.appState)||void 0===ca?void 0:ca.zenModeEnabled)||!1,Da=(null==y||null===(ja=y.appState)||void 0===ja?void 0:ja.gridSize)||
null;void 0!==g.props.viewModeEnabled&&(ya=g.props.viewModeEnabled);void 0!==g.props.zenModeEnabled&&(wa=g.props.zenModeEnabled);void 0!==g.props.gridModeEnabled&&(Da=g.props.gridModeEnabled?hc.k:null);g.setState(function(Pa){var Ka;return Object.assign(y.appState||{},{editingElement:z||(null===(Ka=y.appState)||void 0===Ka?void 0:Ka.editingElement)||null,width:Pa.width,height:Pa.height,offsetTop:Pa.offsetTop,offsetLeft:Pa.offsetLeft,viewModeEnabled:ya,zenModeEnabled:wa,gridSize:Da})},function(){y.syncHistory&&
nk.setCurrentState(g.state,g.scene.getElementsIncludingDeleted())})}}});this.onBlur=bg(function(){ep=!1;g.setState({isBindingEnabled:!0})});this.onUnload=function(){g.onBlur()};this.disableEvent=function(y){y.preventDefault()};this.onFontLoaded=function(){g.scene.getElementsIncludingDeleted().forEach(function(y){be(y)&&wi.delete(y)});g.onSceneUpdated()};this.importLibraryFromUrl=function(){var y=Pc()(function(z){var M,ca,ja,ya,wa;return dp(this,function(Da){switch(Da.label){case 0:window.history.replaceState({},
hc.iC,window.location.origin),Da.label=1;case 1:return Da.trys.push([1,7,,8]),[4,fetch(z)];case 2:return[4,Da.sent().blob()];case 3:return M=Da.sent(),ya=(ja=JSON).parse,[4,M.text()];case 4:Da=ca=ya.apply(ja,[Da.sent()]);if("object"!=typeof Da||!Da||"excalidrawlib"!==Da.type||1!==Da.version)throw Error();return window.confirm(eb("alerts.confirmAddLibrary",{numShapes:ca.library.length}))?[4,ph.importLibrary(M)]:[3,6];case 5:Da.sent(),g.setState({isLibraryOpen:!0}),Da.label=6;case 6:return[3,8];case 7:return wa=
Da.sent(),window.alert(eb("alerts.errorLoadingLibrary")),console.error(wa),[3,8];case 8:return[2]}})});return function(z){return y.apply(this,arguments)}}();this.resetHistory=function(){nk.clear()};this.resetScene=bg(function(y){g.scene.replaceAllElements([]);g.setState(function(z){return Wa(Wa({},Dh()),{},{isLoading:(null==y||!y.resetLoadingState)&&z.isLoading,appearance:g.state.appearance})});g.resetHistory()});this.initializeScene=Pc()(function(){var y,z,M,ca,ja;return dp(this,function(ya){switch(ya.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var wa=Pc()(function(Da){var Pa,Ka;return dp(this,function(lb){switch(lb.label){case 0:return Da.files.length?[4,(Pa=Da.files[0]).getFile()]:[2];case 1:return(Ka=lb.sent()).handle=Pa,Om(Ka,g.state).then(function(rb){return g.syncActionResult({elements:rb.elements,appState:Wa(Wa({},rb.appState||g.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(rb){g.setState({isLoading:!1,errorMessage:rb.message})}),[2]}})});
return function(Da){return wa.apply(this,arguments)}}()),g.state.isLoading||g.setState({isLoading:!0}),z=null,ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,g.props.initialData];case 2:return z=ya.sent()||null,[3,4];case 3:return M=ya.sent(),console.error(M),[3,4];case 4:return(ca=mn(z,null)).appState=Wa(Wa({},ca.appState),{},{isLoading:!1}),null!==(y=z)&&void 0!==y&&y.scrollToCenter&&(ca.appState=Wa(Wa({},ca.appState),mi(ca.elements,Wa(Wa({},ca.appState),{},{width:g.state.width,height:g.state.height,
offsetTop:g.state.offsetTop,offsetLeft:g.state.offsetLeft})))),g.resetHistory(),g.syncActionResult(Wa(Wa({},ca),{},{commitToHistory:!0})),(ja=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,g.importLibraryFromUrl(ja)]:[3,6];case 5:ya.sent(),ya.label=6;case 6:return[2]}})});this.onResize=bg(function(){g.scene.getElementsIncludingDeleted().forEach(function(y){return wi.delete(y)});g.setState({})});this.onScroll=ti(function(){var y=g.getCanvasOffsets(),z=y.offsetTop,M=y.offsetLeft;
g.setState(function(ca){return ca.offsetLeft===M&&ca.offsetTop===z?null:{offsetTop:z,offsetLeft:M}})},hc.HM);this.onCut=bg(function(y){Cg(y.target)||(g.cutAll(),y.preventDefault())});this.onCopy=bg(function(y){var z=document.getSelection();null!=z&&z.anchorNode&&!g.excalidrawContainerRef.current.contains(z.anchorNode)||Cg(y.target)||(g.copyAll(),y.preventDefault())});this.cutAll=function(){g.copyAll();g.actionManager.executeAction(Rg)};this.copyAll=function(){Ck(g.scene.getElements(),g.state)};this.onTapStart=
function(y){if(!wq)return wq=!0,clearTimeout(Zr),void(Zr=window.setTimeout(Wr.resetTapTwice,hc.Gj));if(wq&&1===y.touches.length){var z=y.touches[0];g.handleCanvasDoubleClick({clientX:z.clientX,clientY:z.clientY});wq=!1;clearTimeout(Zr)}y.preventDefault();2===y.touches.length&&g.setState({selectedElementIds:{}})};this.onTapEnd=function(y){y.preventDefault();0<y.touches.length&&g.setState({previousSelectedElementIds:{},selectedElementIds:g.state.previousSelectedElementIds})};this.pasteFromClipboard=
bg(function(){var y=Pc()(function(z){var M,ca,ja;return dp(this,function(ya){switch(ya.label){case 0:return M=document.activeElement,ca=document.elementFromPoint(Jp,Kp),!z||ca instanceof HTMLCanvasElement&&!Cg(M)?[4,db(z)]:[2];case 1:return(ja=ya.sent()).errorMessage?g.setState({errorMessage:ja.errorMessage}):ja.spreadsheet?g.setState({pasteDialog:{data:ja.spreadsheet,shown:!0}}):ja.elements?g.addElementsFromPasteOrLibrary(ja.elements):ja.text&&g.addTextFromPaste(ja.text),g.selectShapeTool("selection"),
null==z||z.preventDefault(),[2]}})});return function(z){return y.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(y,z,M){void 0===z&&(z=Jp);void 0===M&&(M=Kp);var ca=Bg(y),ja=ca[0],ya=ca[1],wa=Math.abs(ja-ca[2])/2;ca=Math.abs(ya-ca[3])/2;z=ug({clientX:z,clientY:M},g.state);wa=z.x-wa;ca=z.y-ca;var Da=new Map;wa=ri(wa,ca,g.state.gridSize);var Pa=wa[0],Ka=wa[1],lb=new Map;wa=y.map(function(rb){var sb=Yi(g.state.editingGroupId,Da,rb,{x:rb.x+Pa-ja,y:rb.y+Ka-ya});return lb.set(rb.id,
sb.id),sb});ca=gh(gh([],g.scene.getElementsIncludingDeleted()),wa);Uj(ca,y,lb);g.scene.replaceAllElements(ca);nk.resumeRecording();g.setState(Wh(Wa(Wa({},g.state),{},{isLibraryOpen:!1,selectedElementIds:wa.reduce(function(rb,sb){return rb[sb.id]=!0,rb},{}),selectedGroupIds:{}}),g.scene.getElements()))};this.setAppState=function(y){g.setState(y)};this.removePointer=function(y){"touch"===y.pointerType&&go&&(clearTimeout(go),go=0,lq=!1);Bl.delete(y.pointerId)};this.toggleLock=function(){g.setState(function(y){return{elementLocked:!y.elementLocked,
elementType:y.elementLocked?"selection":y.elementType}})};this.toggleZenMode=function(){g.actionManager.executeAction(oe)};this.toggleStats=function(){g.state.showStats||Sg("dialog","stats");g.actionManager.executeAction($n)};this.setScrollToCenter=function(y){g.setState(Wa({},mi(ge(y),g.state,g.canvas)))};this.clearToast=function(){g.setState({toastMessage:null})};this.updateScene=bg(function(y){var z;y.commitToHistory&&nk.resumeRecording();null!==(z=y.appState)&&void 0!==z&&z.viewBackgroundColor&&
g.setState({viewBackgroundColor:y.appState.viewBackgroundColor});y.elements&&g.scene.replaceAllElements(y.elements);y.collaborators&&g.setState({collaborators:y.collaborators})});this.onSceneUpdated=function(){g.setState({})};this.updateCurrentCursorPosition=bg(function(y){Jp=y.x;Kp=y.y});this.onKeyDown=bg(function(y){var z;if(!(("Proxy"in window&&(!y.shiftKey&&/^[A-Z]$/.test(y.key)||y.shiftKey&&/^[a-z]$/.test(y.key))&&(y=new Proxy(y,{get:function(ya,wa){var Da=ya[wa];return"function"==typeof Da?
Da.bind(ya):"key"===wa?y.shiftKey?ya.key.toUpperCase():ya.key.toLowerCase():Da}})),Cg(y.target)&&"Escape"!==y.key||xg(y.key)&&(z=y.target,z instanceof HTMLElement&&"wysiwyg"===z.dataset.type||z instanceof HTMLBRElement||z instanceof HTMLInputElement||z instanceof HTMLTextAreaElement||z instanceof HTMLSelectElement))||("?"===y.key&&g.setState({showHelpDialog:!0}),g.actionManager.handleKeyDown(y)||g.state.viewModeEnabled))){if(y[cf]&&g.setState({isBindingEnabled:!1}),"Digit9"===y.code&&g.setState({isLibraryOpen:!g.state.isLibraryOpen}),
xg(y.key)){z=g.state.gridSize&&(y.shiftKey?hc.$e:g.state.gridSize)||(y.shiftKey?hc.Iw:hc.$e);var M=g.scene.getElements().filter(function(ya){return g.state.selectedElementIds[ya.id]}),ca=0,ja=0;"ArrowLeft"===y.key?ca=-z:"ArrowRight"===y.key?ca=z:"ArrowUp"===y.key?ja=-z:"ArrowDown"===y.key&&(ja=z);M.forEach(function(ya){jf(ya,{x:ya.x+ca,y:ya.y+ja});Ai(ya,{simultaneouslyUpdated:M})});g.maybeSuggestBindingForAll(M);y.preventDefault()}else if("Enter"===y.key)if(z=uf(g.scene.getElements(),g.state),1===
z.length&&Fg(z[0]))g.state.editingLinearElement&&g.state.editingLinearElement.elementId===z[0].id||(nk.resumeRecording(),g.setState({editingLinearElement:new dg(z[0],g.scene)}));else{if(1===z.length&&!Fg(z[0]))return z=z[0],g.startTextEditing({sceneX:z.x+z.width/2,sceneY:z.y+z.height/2}),void y.preventDefault()}else y.ctrlKey||y.altKey||y.metaKey||null!==g.state.draggingElement||((z=function(ya){var wa=wm.find(function(Da,Pa){return ya===(Pa+1).toString()||("string"==typeof Da.key?Da.key===ya:Da.key.includes(ya))});
return(null==wa?void 0:wa.value)||null}(y.key))?g.selectShapeTool(z):"q"===y.key&&g.toggleLock());" "===y.key&&0===Bl.size&&(ep=!0,Ji(g.canvas,hc.oc.GRABBING))}});this.onKeyUp=bg(function(y){if(" "===y.key&&("selection"===g.state.elementType?Ii(g.canvas):(ui(g.canvas,g.state.elementType),g.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),ep=!1),y[cf]||g.state.isBindingEnabled||g.setState({isBindingEnabled:!0}),xg(y.key))y=uf(g.scene.getElements(),g.state),g.state.isBindingEnabled?
vg(y):ih(y),g.setState({suggestedBindings:[]})});this.onGestureStart=bg(function(y){y.preventDefault();g.setState({selectedElementIds:{}});zp=g.state.zoom.value});this.onGestureChange=bg(function(y){if(y.preventDefault(),2!==Bl.size){var z=zp;z&&g.setState(function(M){var ca=M.zoom,ja=M.offsetLeft;M=M.offsetTop;return{zoom:ci(Sj(z*y.scale),ca,{left:ja,top:M},{x:Jp,y:Kp})}})}});this.onGestureEnd=bg(function(y){y.preventDefault();g.setState({previousSelectedElementIds:{},selectedElementIds:g.state.previousSelectedElementIds});
zp=null});this.startTextEditing=function(y){var z=y.sceneX,M=y.sceneY;y=y.insertAtParentCenter;var ca=void 0===y||y;y=g.getTextElementAtPosition(z,M);ca=ca&&g.getTextWysiwygSnappedToCenterPosition(z,M,g.state,g.canvas,window.devicePixelRatio);z=y||Kj({x:ca?ca.elementCenterX:z,y:ca?ca.elementCenterY:M,strokeColor:g.state.currentItemStrokeColor,backgroundColor:g.state.currentItemBackgroundColor,fillStyle:g.state.currentItemFillStyle,strokeWidth:g.state.currentItemStrokeWidth,strokeStyle:g.state.currentItemStrokeStyle,
roughness:g.state.currentItemRoughness,opacity:g.state.currentItemOpacity,strokeSharpness:g.state.currentItemStrokeSharpness,text:"",fontSize:g.state.currentItemFontSize,fontFamily:g.state.currentItemFontFamily,textAlign:ca?"center":g.state.currentItemTextAlign,verticalAlign:ca?"middle":hc.hs});g.setState({editingElement:z});y?ca&&"center"===z.textAlign||jf(z,{verticalAlign:hc.hs}):(g.scene.replaceAllElements(gh(gh([],g.scene.getElementsIncludingDeleted()),[z])),ca||jf(z,{y:z.y-z.baseline/2}));g.setState({editingElement:z});
g.handleTextWysiwyg(z,{isExistingElement:!!y})};this.handleCanvasDoubleClick=function(y){if(!g.state.multiElement&&"selection"===g.state.elementType){var z=uf(g.scene.getElements(),g.state);if(1===z.length&&Fg(z[0]))g.state.editingLinearElement&&g.state.editingLinearElement.elementId===z[0].id||(nk.resumeRecording(),g.setState({editingLinearElement:new dg(z[0],g.scene)}));else{Ii(g.canvas);var M=ug(y,g.state);z=M.x;M=M.y;if(0<Li(g.state).length){var ca=g.getElementAtPosition(z,M),ja=ca&&function(ya,
wa){return ya.groupIds.find(function(Da){return wa[Da]})}(ca,g.state.selectedGroupIds);if(ja)return void g.setState(function(ya){var wa;return Wh(Wa(Wa({},ya),{},{editingGroupId:ja,selectedElementIds:(wa={},wa[ca.id]=!0,wa),selectedGroupIds:{}}),g.scene.getElements())})}Ii(g.canvas);y[cf]||g.startTextEditing({sceneX:z,sceneY:M,insertAtParentCenter:!y.altKey})}}};this.handleCanvasPointerMove=function(y){g.savePointer(y.clientX,y.clientY,g.state.cursorButton);Bl.has(y.pointerId)&&Bl.set(y.pointerId,
{x:y.clientX,y:y.clientY});var z=zp;if(2===Bl.size&&wp&&z&&ar){var M=Tm(Bl),ca=M.x-wp.x,ja=M.y-wp.y;wp=M;var ya=bo(Array.from(Bl.values()))/ar;g.setState(function(dc){var Yb=dc.zoom,zc=dc.offsetLeft,ed=dc.offsetTop;return{scrollX:dc.scrollX+ca/Yb.value,scrollY:dc.scrollY+ja/Yb.value,zoom:ci(Sj(z*ya),Yb,{left:zc,top:ed},M),shouldCacheIgnoreZoom:!0}});g.resetShouldCacheIgnoreZoomDebounced()}else wp=ar=zp=null;if(!(ep||xq||$r)){var wa=ki(Yr,y.clientX-g.state.offsetLeft,y.clientY-g.state.offsetTop).isOverEither;
g.state.draggingElement||g.state.multiElement||(wa?Ii(g.canvas):ui(g.canvas,g.state.elementType));var Da=ug(y,g.state),Pa=Da.x,Ka=Da.y;if(g.state.editingLinearElement&&!g.state.editingLinearElement.isDragging){var lb=dg.handlePointerMove(y,Pa,Ka,g.state.editingLinearElement,g.state.gridSize);lb!==g.state.editingLinearElement&&g.setState({editingLinearElement:lb});null!=lb.lastUncommittedPoint?g.maybeSuggestBindingAtCursor(Da):g.setState({suggestedBindings:[]})}"arrow"===g.state.elementType&&(lb=g.state.draggingElement,
og(lb)?g.maybeSuggestBindingForLinearElementAtCursor(lb,"end",Da,g.state.startBoundElement):g.maybeSuggestBindingAtCursor(Da));if(g.state.multiElement){wa=g.state.multiElement;Da=wa.x;lb=wa.y;y=wa.points;var rb=wa.lastCommittedPoint,sb=y[y.length-1];return ui(g.canvas,g.state.elementType),void(sb===rb?Math.hypot(sb[0]-(Pa-Da),sb[1]-(Ka-lb))>=hc.qx?jf(wa,{points:gh(gh([],y),[[Pa-Da,Ka-lb]])}):Ji(g.canvas,hc.oc.POINTER):2<y.length&&rb&&Math.hypot(rb[0]-(Pa-Da),rb[1]-(Ka-lb))<hc.qx?(Ji(g.canvas,hc.oc.POINTER),
jf(wa,{points:y.slice(0,-1)})):(ei(y,g.state.zoom.value)&&Ji(g.canvas,hc.oc.POINTER),jf(wa,{points:gh(gh([],y.slice(0,-1)),[[Pa-Da,Ka-lb]])})))}if(!(y.buttons||"selection"!==g.state.elementType&&"text"!==g.state.elementType)){rb=g.scene.getElements();lb=uf(rb,g.state);if(1!==lb.length||wa||g.state.editingLinearElement){if(1<lb.length&&!wa&&(Pa=of(Bg(lb),Pa,Ka,g.state.zoom,y.pointerType)))return void Ji(g.canvas,Ie({transformHandleType:Pa}))}else if((Pa=Oi(rb,g.state,Pa,Ka,g.state.zoom,y.pointerType))&&
Pa.transformHandleType)return void Ji(g.canvas,Ie(Pa));Pa=g.getElementAtPosition(Da.x,Da.y);"text"===g.state.elementType?Ji(g.canvas,be(Pa)?hc.oc.TEXT:hc.oc.CROSSHAIR):wa?Ji(g.canvas,hc.oc.AUTO):Pa||g.isHittingCommonBoundingBoxOfSelectedElements(Da,lb)?Ji(g.canvas,hc.oc.MOVE):Ji(g.canvas,hc.oc.AUTO)}}};this.handleTouchMove=function(y){lq=!0};this.handleCanvasPointerDown=function(y){if(y.persist(),g.maybeOpenContextMenuAfterPointerDownOnTouchDevices(y),g.maybeCleanupAfterMissingPointerUp(y),!(xq||
(g.setState({lastPointerDownWith:y.pointerType,cursorButton:"down"}),g.savePointer(y.clientX,y.clientY,"down"),g.handleCanvasPanUsingWheelOrSpaceDrag(y)||y.button!==hc.Oh.MAIN&&y.button!==hc.Oh.TOUCH||(g.updateGestureOnPointerDown(y),y.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<Bl.size)))){var z=g.initialPointerDownState(y);if(!g.handleDraggingScrollBar(y,z)&&(g.clearSelectionIfNotUsingSelection(),g.updateBindingEnabledOnPointerMove(y),!g.handleSelectionOnPointerDown(y,
z)))if("text"!==g.state.elementType){"arrow"===g.state.elementType||"draw"===g.state.elementType||"line"===g.state.elementType?g.handleLinearElementOnPointerDown(y,g.state.elementType,z):g.createGenericElementOnPointerDown(g.state.elementType,z);y=g.onPointerMoveFromPointerDownHandler(z);var M=g.onPointerUpFromPointerDownHandler(z),ca=g.onKeyDownFromPointerDownHandler(z),ja=g.onKeyUpFromPointerDownHandler(z);ho=M;g.state.viewModeEnabled||(window.addEventListener(hc.Ks.POINTER_MOVE,y),window.addEventListener(hc.Ks.POINTER_UP,
M),window.addEventListener(hc.Ks.KEYDOWN,ca),window.addEventListener(hc.Ks.KEYUP,ja),z.eventListeners.onMove=y,z.eventListeners.onUp=M,z.eventListeners.onKeyUp=ja,z.eventListeners.onKeyDown=ca)}else g.handleTextOnPointerDown(y,z)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(y){"touch"===y.pointerType&&(lq=!1,go?lq=!0:go=window.setTimeout(function(){go=0;lq||g.openContextMenu({clientX:y.clientX,clientY:y.clientY})},hc.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(y){if(0!==
Bl.size||!(y.button===hc.Oh.WHEEL||y.button===hc.Oh.MAIN&&ep||g.state.viewModeEnabled))return!1;xq=!0;var z=!1,M=/Linux/.test(window.navigator.platform);Ji(g.canvas,hc.oc.GRABBING);var ca=y.clientX,ja=y.clientY,ya=bg(function(Da){var Pa=ca-Da.clientX,Ka=ja-Da.clientY;if(ca=Da.clientX,ja=Da.clientY,M&&!z&&(1<Math.abs(Pa)||1<Math.abs(Ka))){z=!0;var lb=function(sb){document.body.removeEventListener(hc.Ks.PASTE,lb);sb.stopPropagation()},rb=function(){setTimeout(function(){document.body.removeEventListener(hc.Ks.PASTE,
lb);window.removeEventListener(hc.Ks.POINTER_UP,rb)},100)};document.body.addEventListener(hc.Ks.PASTE,lb);window.addEventListener(hc.Ks.POINTER_UP,rb)}g.setState({scrollX:g.state.scrollX-Pa/g.state.zoom.value,scrollY:g.state.scrollY-Ka/g.state.zoom.value})}),wa=bg(ho=function(){ho=null;xq=!1;ep||ui(g.canvas,g.state.elementType);g.setState({cursorButton:"up"});g.savePointer(y.clientX,y.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,ya);window.removeEventListener(hc.Ks.POINTER_UP,wa);window.removeEventListener(hc.Ks.BLUR,
wa)});return window.addEventListener(hc.Ks.BLUR,wa),window.addEventListener(hc.Ks.POINTER_MOVE,ya,{passive:!0}),window.addEventListener(hc.Ks.POINTER_UP,wa),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==g.state.elementType&&g.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(y,z){if("selection"===g.state.elementType){var M=g.scene.getElements(),ca=uf(M,g.state);1!==ca.length||g.state.editingLinearElement?1<ca.length&&
(z.resize.handleType=of(Bg(ca),z.origin.x,z.origin.y,g.state.zoom,y.pointerType)):(M=Oi(M,g.state,z.origin.x,z.origin.y,g.state.zoom,y.pointerType),null!=M&&(g.setState({resizingElement:M.element}),z.resize.handleType=M.transformHandleType));if(z.resize.handleType)Ji(g.canvas,Ie({transformHandleType:z.resize.handleType})),z.resize.isResizing=!0,z.resize.offset=Dg(function(rb,sb,dc,Yb){var zc,ed=1===sb.length?ig(sb[0]):Bg(sb),id=ed[0],vd=ed[1],le=ed[2];ed=ed[3];sb=1===sb.length?sb[0].angle:0;switch(dc=
(zc=Hf(dc,Yb,(id+le)/2,(vd+ed)/2,-sb))[0],Yb=zc[1],rb){case "n":return Hf(dc-(id+le)/2,Yb-vd,0,0,sb);case "s":return Hf(dc-(id+le)/2,Yb-ed,0,0,sb);case "w":return Hf(dc-id,Yb-(vd+ed)/2,0,0,sb);case "e":return Hf(dc-le,Yb-(vd+ed)/2,0,0,sb);case "nw":return Hf(dc-id,Yb-vd,0,0,sb);case "ne":return Hf(dc-le,Yb-vd,0,0,sb);case "sw":return Hf(dc-id,Yb-ed,0,0,sb);case "se":return Hf(dc-le,Yb-ed,0,0,sb);default:return[0,0]}}(z.resize.handleType,ca,z.origin.x,z.origin.y)),1===ca.length&&Fg(ca[0])&&2===ca[0].points.length&&
(z.resize.arrowDirection=(wa=z.resize.handleType,Da=ca[0],Pa=Da.points[1],Ka=Pa[0],lb=Pa[1],"nw"===wa&&(0>Ka||0>lb)||"ne"===wa&&0<=Ka||"sw"===wa&&0>=Ka||"se"===wa&&(0<Ka||0<lb)?"end":"origin"));else{var ja;if(g.state.editingLinearElement&&(ca=dg.handlePointerDown(y,g.state,function(rb){return g.setState(rb)},nk,z.origin),ca.hitElement&&(z.hit.element=ca.hitElement),ca.didAddPoint))return!0;z.hit.element=null!==(ja=z.hit.element)&&void 0!==ja?ja:g.getElementAtPosition(z.origin.x,z.origin.y);z.hit.allHitElements=
g.getElementsAtPosition(z.origin.x,z.origin.y);var ya=z.hit.element;ja=z.hit.allHitElements.some(function(rb){return g.isASelectedElement(rb)});if(null!==ya&&ja||y.shiftKey||z.hit.hasHitCommonBoundingBoxOfSelectedElements||g.clearSelection(ya),null!=ya){if(y[cf])return g.setState(function(rb){var sb;rb=cb(cb({},rb),{},{editingGroupId:ya.groupIds.length?ya.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(sb={},sb[ya.id]=!0,sb)});return Wa(Wa({},rb),{},{previousSelectedElementIds:g.state.selectedElementIds})}),
!1;g.state.selectedElementIds[ya.id]||(g.state.editingGroupId&&!ya.groupIds.includes(g.state.editingGroupId)&&g.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),ja||z.hit.hasHitCommonBoundingBoxOfSelectedElements||(g.setState(function(rb){var sb;return Wh(Wa(Wa({},rb),{},{selectedElementIds:Wa(Wa({},rb.selectedElementIds),{},(sb={},sb[ya.id]=!0,sb))}),g.scene.getElements())}),z.hit.wasAddedToSelection=!0))}g.setState({previousSelectedElementIds:g.state.selectedElementIds})}}var wa,
Da,Pa,Ka,lb;return!1};this.handleTextOnPointerDown=function(y,z){var M;"text"!==(null===(M=g.state.editingElement)||void 0===M?void 0:M.type)&&(g.startTextEditing({sceneX:z.origin.x,sceneY:z.origin.y,insertAtParentCenter:!y.altKey}),Ii(g.canvas),g.state.elementLocked||g.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(y,z,M){if(g.state.multiElement){var ca=g.state.multiElement;if("line"===ca.type&&ei(ca.points,g.state.zoom.value))return jf(ca,{lastCommittedPoint:ca.points[ca.points.length-
1]}),void g.actionManager.executeAction(Mf);z=ca.x;y=ca.y;var ja=ca.lastCommittedPoint;if(1<ca.points.length&&ja&&Math.hypot(ja[0]-(M.origin.x-z),ja[1]-(M.origin.y-y))<hc.qx)return void g.actionManager.executeAction(Mf);g.setState(function(Da){var Pa;return{selectedElementIds:Wa(Wa({},Da.selectedElementIds),{},(Pa={},Pa[ca.id]=!0,Pa))}});jf(ca,{lastCommittedPoint:ca.points[ca.points.length-1]});Ji(g.canvas,hc.oc.POINTER)}else{y=ri(M.origin.x,M.origin.y,"draw"===z?null:g.state.gridSize);var ya=g.state;
ja=ya.currentItemStartArrowhead;ya=ya.currentItemEndArrowhead;ja="arrow"===z?[ja,ya]:[null,null];var wa=Te({type:z,x:y[0],y:y[1],strokeColor:g.state.currentItemStrokeColor,backgroundColor:g.state.currentItemBackgroundColor,fillStyle:g.state.currentItemFillStyle,strokeWidth:g.state.currentItemStrokeWidth,strokeStyle:g.state.currentItemStrokeStyle,roughness:g.state.currentItemRoughness,opacity:g.state.currentItemOpacity,strokeSharpness:g.state.currentItemLinearStrokeSharpness,startArrowhead:ja[0],endArrowhead:ja[1]});
g.setState(function(Da){var Pa;return{selectedElementIds:Wa(Wa({},Da.selectedElementIds),{},(Pa={},Pa[wa.id]=!1,Pa))}});jf(wa,{points:gh(gh([],wa.points),[[0,0]])});M=bi(M.origin,g.scene);g.scene.replaceAllElements(gh(gh([],g.scene.getElementsIncludingDeleted()),[wa]));g.setState({draggingElement:wa,editingElement:wa,startBoundElement:M,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(y,z){z=ri(z.origin.x,z.origin.y,g.state.gridSize);y=Ol({type:y,x:z[0],y:z[1],strokeColor:g.state.currentItemStrokeColor,
backgroundColor:g.state.currentItemBackgroundColor,fillStyle:g.state.currentItemFillStyle,strokeWidth:g.state.currentItemStrokeWidth,strokeStyle:g.state.currentItemStrokeStyle,roughness:g.state.currentItemRoughness,opacity:g.state.currentItemOpacity,strokeSharpness:g.state.currentItemStrokeSharpness});"selection"===y.type?g.setState({selectionElement:y,draggingElement:y}):(g.scene.replaceAllElements(gh(gh([],g.scene.getElementsIncludingDeleted()),[y])),g.setState({multiElement:null,draggingElement:y,
editingElement:y}))};this.updateBindingEnabledOnPointerMove=function(y){y=!y[cf];g.state.isBindingEnabled!==y&&g.setState({isBindingEnabled:y})};this.maybeSuggestBindingAtCursor=function(y){y=bi(y,g.scene);g.setState({suggestedBindings:null!=y?[y]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(y,z,M,ca){z=bi(M,g.scene);g.setState({suggestedBindings:null==z||(null==ca?void 0:ca.id)===z.id&&3>y.points.length?[]:[z]})};this.handleCanvasRef=function(y){var z,M,ca;null!==y?(g.canvas=y,
g.rc=Qh.canvas(g.canvas),g.canvas.addEventListener(hc.Ks.WHEEL,g.handleWheel,{passive:!1}),g.canvas.addEventListener(hc.Ks.TOUCH_START,g.onTapStart),g.canvas.addEventListener(hc.Ks.TOUCH_END,g.onTapEnd)):(null===(z=g.canvas)||void 0===z||z.removeEventListener(hc.Ks.WHEEL,g.handleWheel),null===(M=g.canvas)||void 0===M||M.removeEventListener(hc.Ks.TOUCH_START,g.onTapStart),null===(ca=g.canvas)||void 0===ca||ca.removeEventListener(hc.Ks.TOUCH_END,g.onTapEnd))};this.handleCanvasOnDrop=function(){var y=
Pc()(function(z){var M,ca,ja,ya,wa,Da,Pa,Ka,lb,rb,sb;return dp(this,function(dc){switch(dc.label){case 0:return dc.trys.push([0,3,,4]),"image/png"!==(null==(ca=z.dataTransfer.files[0])?void 0:ca.type)&&"image/svg+xml"!==(null==ca?void 0:ca.type)?[3,2]:[4,Om(ca,g.state)];case 1:return ja=dc.sent(),ya=ja.elements,wa=ja.appState,g.syncActionResult({elements:ya,appState:Wa(Wa({},wa||g.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Da=dc.sent(),[2,g.setState({isLoading:!1,
errorMessage:Da.message})];case 4:if(""!==(Pa=z.dataTransfer.getData(hc.LO.excalidrawlib)))return g.addElementsFromPasteOrLibrary(JSON.parse(Pa),z.clientX,z.clientY),[2];if(!("application/json"===(null==(Ka=null===(M=z.dataTransfer)||void 0===M?void 0:M.files[0])?void 0:Ka.type)||null!=Ka&&Ka.name.endsWith(".excalidraw")))return[3,9];if(g.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];dc.label=5;case 5:return dc.trys.push([5,7,,8]),lb=z.dataTransfer.items[0],
rb=Ka,[4,lb.getAsFileSystemHandle()];case 6:return rb.handle=dc.sent(),[3,8];case 7:return sb=dc.sent(),console.warn(sb.name,sb.message),[3,8];case 8:return Om(Ka,g.state).then(function(Yb){return g.syncActionResult({elements:Yb.elements,appState:Wa(Wa({},Yb.appState||g.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Yb){g.setState({isLoading:!1,errorMessage:Yb.message})}),[3,10];case 9:(null==Ka?void 0:Ka.type)===hc.LO.excalidrawlib||null!=Ka&&Ka.name.endsWith(".excalidrawlib")?ph.importLibrary(Ka).then(function(){g.setState({isLibraryOpen:!1})}).catch(function(Yb){return g.setState({isLoading:!1,
errorMessage:Yb.message})}):g.setState({isLoading:!1,errorMessage:eb("alerts.couldNotLoadInvalidFile")}),dc.label=10;case 10:return[2]}})});return function(z){return y.apply(this,arguments)}}();this.handleCanvasContextMenu=function(y){y.preventDefault();g.openContextMenu(y)};this.maybeDragNewGenericElement=function(y,z){var M=g.state.draggingElement,ca=y.lastCoords;if(M)if("selection"===M.type)li(M,g.state.elementType,y.origin.x,y.origin.y,ca.x,ca.y,Math.abs(y.origin.x-ca.x),Math.abs(y.origin.y-ca.y),
z.shiftKey,z.altKey);else{var ja=ri(ca.x,ca.y,g.state.gridSize);ca=ja[0];ja=ja[1];li(M,g.state.elementType,y.originInGrid.x,y.originInGrid.y,ca,ja,Math.abs(y.originInGrid.x-ca),Math.abs(y.originInGrid.y-ja),z.shiftKey,z.altKey);g.maybeSuggestBindingForAll([M])}};this.maybeHandleResize=function(y,z){var M=uf(g.scene.getElements(),g.state),ca=y.resize.handleType;g.setState({isResizing:ca&&"rotation"!==ca,isRotating:"rotation"===ca});var ja=y.lastCoords;ja=ri(ja.x-y.resize.offset.x,ja.y-y.resize.offset.y,
g.state.gridSize);a:{var ya=y.resize.arrowDirection,wa=z.shiftKey,Da=z.altKey;z=z.shiftKey;var Pa=ja[0],Ka=ja[1];ja=y.resize.center.x;var lb=y.resize.center.y;if(1===M.length){ja=M[0];if("rotation"===ca)ca=ig(ja),ca=5*Math.PI/2+Math.atan2(Ka-(ca[1]+ca[3])/2,Pa-(ca[0]+ca[2])/2),wa&&(ca+=hc.ay/2,ca-=ca%hc.ay),ca=Qf(ca),jf(ja,{angle:ca}),Ai(ja);else if(!Fg(ja)||2!==ja.points.length||"nw"!==ca&&"ne"!==ca&&"sw"!==ca&&"se"!==ca)if(!be(ja)||"nw"!==ca&&"ne"!==ca&&"sw"!==ca&&"se"!==ca){if(ca){ya=y.originalElements.get(ja.id);
var rb=Pg(ya,ya.width,ya.height);wa=[rb[0],rb[1]];y=[rb[2],rb[3]];rb=[(wa[0]+y[0])/2,(wa[1]+y[1])/2];lb=ij([Pa,Ka],rb,-ya.angle);Pa=Pg(ja,ja.width,ja.height);var sb=Pa[2]-Pa[0],dc=Pa[3]-Pa[1];Pa=(y[0]-wa[0])/sb;Ka=(y[1]-wa[1])/dc;ca.includes("e")&&(Pa=(lb[0]-wa[0])/sb);ca.includes("s")&&(Ka=(lb[1]-wa[1])/dc);ca.includes("w")&&(Pa=(y[0]-lb[0])/sb);ca.includes("n")&&(Ka=(y[1]-lb[1])/dc);lb=ya.width;sb=ya.height;Pa*=ja.width;Ka*=ja.height;if(Da&&(Pa=2*Pa-lb,Ka=2*Ka-sb),z){dc=Math.abs(Pa)/lb;var Yb=Math.abs(Ka)/
sb;if(1===ca.length&&(Ka*=dc,Pa*=Yb),2===ca.length)dc=Math.max(dc,Yb),Pa=lb*dc*Math.sign(Pa),Ka=sb*dc*Math.sign(Ka)}Yb=Pg(ya,Pa,Ka);lb=Yb[0];sb=Yb[1];dc=Yb[2]-lb;Yb=Yb[3]-sb;var zc=ej([],wa);if(["n","w","nw"].includes(ca)&&(zc=[y[0]-Math.abs(dc),y[1]-Math.abs(Yb)]),"ne"===ca)zc=[wa[0],y[1]],zc=[zc[0],zc[1]-Math.abs(Yb)];"sw"===ca&&(wa=[y[0],wa[1]],zc=[wa[0]-Math.abs(dc),wa[1]]);z&&(["s","n"].includes(ca)&&(zc[0]=rb[0]-dc/2),["e","w"].includes(ca)&&(zc[1]=rb[1]-Yb/2));0>Pa&&(ca.includes("e")&&(zc[0]-=
Math.abs(dc)),ca.includes("w")&&(zc[0]+=Math.abs(dc)));0>Ka&&(ca.includes("s")&&(zc[1]-=Math.abs(Yb)),ca.includes("n")&&(zc[1]+=Math.abs(Yb)));Da&&(zc[0]=rb[0]-Math.abs(dc)/2,zc[1]=rb[1]-Math.abs(Yb)/2);ca=ya.angle;Da=ij(zc,rb,ca);z=ij([zc[0]+Math.abs(dc)/2,zc[1]+Math.abs(Yb)/2],rb,ca);zc=ij(Da,z,-ca);ca=kf(ya,Pa,Ka);Da=ej([],zc);Da[0]+=ya.x-lb;Da[1]+=ya.y-sb;ca=Hc({width:Math.abs(Pa),height:Math.abs(Ka),x:Da[0],y:Da[1]},ca);0!==ca.width&&0!==ca.height&&Number.isFinite(ca.x)&&Number.isFinite(ca.y)&&
(Ai(ja,{newSize:{width:ca.width,height:ca.height}}),jf(ja,ca))}}else{ya=ig(ja);y=ya[0];wa=ya[1];z=ya[2];ya=ya[3];Ka=Hf(Pa,Ka,(y+z)/2,(wa+ya)/2,-ja.angle);Pa=Ka[0];Ka=Ka[1];switch(ca){case "se":rb=Math.max((Pa-y)/(z-y),(Ka-wa)/(ya-wa));break;case "nw":rb=Math.max((z-Pa)/(z-y),(ya-Ka)/(ya-wa));break;case "ne":rb=Math.max((Pa-y)/(z-y),(ya-Ka)/(ya-wa));break;case "sw":rb=Math.max((z-Pa)/(z-y),(Ka-wa)/(ya-wa))}0<rb&&(Pa=ja.width*rb,rb*=ja.height,Ka=Ng(ja,Pa,rb),null!==Ka&&(lb=Pg(ja,Pa,rb),y=(y-lb[0])/
2,wa=(wa-lb[1])/2,z=(z-lb[2])/2,ya=(ya-lb[3])/2,ca={n:/^(n|ne|nw)$/.test(ca)||Da&&/^(s|se|sw)$/.test(ca),s:/^(s|se|sw)$/.test(ca)||Da&&/^(n|ne|nw)$/.test(ca),w:/^(w|nw|sw)$/.test(ca)||Da&&/^(e|ne|se)$/.test(ca),e:/^(e|ne|se)$/.test(ca)||Da&&/^(w|nw|sw)$/.test(ca)},ca=Zf(ca,ja.x,ja.y,ja.angle,y,wa,z,ya),jf(ja,{fontSize:Ka.size,width:Pa,height:rb,baseline:Ka.baseline,x:ca[0],y:ca[1]})));Ai(ja)}else ca=ig(ja),Da=Hf(Pa,Ka,(ca[0]+ca[2])/2,(ca[1]+ca[3])/2,-ja.angle),ca=Da[0],Da=Da[1],Da="end"===ya?[ca-
ja.x,Da-ja.y]:[ja.x+ja.points[1][0]-ca,ja.y+ja.points[1][1]-Da],ca=Da[0],Da=Da[1],wa&&(z=ja.angle,ca=Ye.apply(void 0,ej([ja.type],Hf(ca,Da,0,0,z))),Da=Hf(ca.width,ca.height,0,0,-z),ca=Da[0],Da=Da[1]),z=Zf("end"===ya?{s:!0,e:!0}:{n:!0,w:!0},ja.x,ja.y,ja.angle,0,0,(ja.points[1][0]-ca)/2,(ja.points[1][1]-Da)/2),jf(ja,{x:z[0],y:z[1],points:[[0,0],[ca,Da]]});ja=!0}else{if(1<M.length){if("rotation"===ca){ja=(rl(y,M,Pa,Ka,wa,ja,lb),!0);break a}if("nw"===ca||"ne"===ca||"sw"===ca||"se"===ca){ja=(Jl(M,ca,Pa,
Ka),!0);break a}}ja=!1}}return!!ja&&(g.maybeSuggestBindingForAll(M),!0)};this.openContextMenu=function(y){var z,M=y.clientX;y=y.clientY;var ca=ug({clientX:M,clientY:y},g.state),ja=ca.x,ya=ca.y,wa=cg.contextItemPredicate(g.actionManager.getElementsIncludingDeleted(),g.actionManager.getAppState()),Da=yi.contextItemPredicate(g.actionManager.getElementsIncludingDeleted(),g.actionManager.getAppState());ca=wg().matches;var Pa=g.scene.getElements();ja=g.getElementAtPosition(ja,ya);ya=[];(Dk&&0<Pa.length&&
ya.push(tp),Wj&&0<Pa.length&&ya.push(up),ja)?(g.state.selectedElementIds[ja.id]||g.setState({selectedElementIds:(z={},z[ja.id]=!0,z)}),g.state.viewModeEnabled?En({options:gh([navigator.clipboard&&pn],ya),top:y,left:M,actionManager:g.actionManager,appState:g.state}):En({options:gh(gh([ca&&iq,ca&&navigator.clipboard&&pn,ca&&navigator.clipboard&&{name:"paste",perform:function(Ka,lb){return g.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},ca&&"separator"],ya),["separator",
qf,hf,"separator",wa&&cg,Da&&yi,(wa||Da)&&"separator",Oo,"separator",Am,ul,u,J,"separator",qa,Rg]),top:y,left:M,actionManager:g.actionManager,appState:g.state})):(z=gh(gh([],ya),[void 0===g.props.gridModeEnabled&&rp,void 0===g.props.zenModeEnabled&&oe,void 0===g.props.viewModeEnabled&&Us,$n]),(En({options:z,top:y,left:M,actionManager:g.actionManager,appState:g.state}),g.state.viewModeEnabled)||En({options:[ca&&navigator.clipboard&&{name:"paste",perform:function(Ka,lb){return g.pasteFromClipboard(null),
{commitToHistory:!1}},contextItemLabel:"labels.paste"},ca&&navigator.clipboard&&"separator",Dk&&0<Pa.length&&tp,Wj&&0<Pa.length&&up,(Dk&&0<Pa.length||Wj&&0<Pa.length)&&"separator",ha,"separator",void 0===g.props.gridModeEnabled&&rp,void 0===g.props.zenModeEnabled&&oe,void 0===g.props.viewModeEnabled&&Us,$n],top:y,left:M,actionManager:g.actionManager,appState:g.state}))};this.handleWheel=bg(function(y){if(y.preventDefault(),!xq){var z=y.deltaX,M=y.deltaY,ca=g.state,ja=ca.selectedElementIds,ya=ca.previousSelectedElementIds;
if(y.metaKey||y.ctrlKey){y=Math.sign(M);ca=Math.abs(M);10<ca&&(ca=10);ca*=y;0!==Object.keys(ya).length&&setTimeout(function(){g.setState({selectedElementIds:ya,previousSelectedElementIds:{}})},1E3);var wa=g.state.zoom.value-ca/100;return wa+=Math.log10(Math.max(1,g.state.zoom.value))*-y,wa=Math.round(wa*hc.V4*100)/(100*hc.V4),g.setState(function(Da){var Pa=Da.zoom,Ka=Da.offsetLeft;Da=Da.offsetTop;return{zoom:ci(Sj(wa),Pa,{left:Ka,top:Da},{x:Jp,y:Kp}),selectedElementIds:{},previousSelectedElementIds:0!==
Object.keys(ja).length?ja:ya,shouldCacheIgnoreZoom:!0}}),void g.resetShouldCacheIgnoreZoomDebounced()}y.shiftKey?g.setState(function(Da){return{scrollX:Da.scrollX-(M||z)/Da.zoom.value}}):g.setState(function(Da){var Pa=Da.zoom;return{scrollX:Da.scrollX-z/Pa.value,scrollY:Da.scrollY-M/Pa.value}})}});this.savePointer=function(y,z,M){var ca,ja;y&&z&&(y=ug({clientX:y,clientY:z},g.state),isNaN(y.x)||isNaN(y.y),null===(ca=(ja=g.props).onPointerUpdate)||void 0===ca||ca.call(ja,{pointer:y,button:M,pointersMap:Bl}))};
this.resetShouldCacheIgnoreZoomDebounced=ti(function(){g.unmounted||g.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(g){return this.app.scene.replaceAllElements(g)}},history:{configurable:!0,get:function(){return nk}},library:{configurable:!0,value:ph}}));e(8234);e(4651);var Qs=
function(g){var y=g.width,z=g.height,M=g.offsetLeft,ca=g.offsetTop,ja=g.onChange,ya=g.initialData,wa=g.excalidrawRef,Da=g.onCollabButtonClick,Pa=g.isCollaborating,Ka=g.onPointerUpdate,lb=g.onExportToBackend,rb=g.renderFooter,sb=g.langCode;sb=void 0===sb?Za.code:sb;var dc=g.viewModeEnabled,Yb=g.zenModeEnabled;g=g.gridModeEnabled;return(0,jc.useEffect)(function(){var zc=function(ed){"number"==typeof ed.scale&&1!==ed.scale&&ed.preventDefault()};return document.addEventListener("touchmove",zc,{passive:!1}),
function(){document.removeEventListener("touchmove",zc)}},[]),Ea().createElement(se,{langCode:sb},Ea().createElement(mg,null,Ea().createElement(Wr,{width:y,height:z,offsetLeft:M,offsetTop:ca,onChange:ja,initialData:ya,excalidrawRef:wa,onCollabButtonClick:Da,isCollaborating:Pa,onPointerUpdate:Ka,onExportToBackend:lb,renderFooter:rb,langCode:sb,viewModeEnabled:dc,zenModeEnabled:Yb,gridModeEnabled:g})))};Qs.defaultProps={lanCode:Za.code};var Wt=(0,jc.forwardRef)(function(g,y){return Ea().createElement(Qs,
kb()({},g,{excalidrawRef:y}))});const Xt=Ea().memo(Wt,function(g,y){g.initialData;var z=sc()(g,["initialData"]),M=(y.initialData,sc()(y,["initialData"]));g=Object.keys(g);y=Object.keys(y);return g.length===y.length&&g.every(function(ca){return z[ca]===M[ca]})});e(6009);const du=Xt},4698:v=>{v.exports=A},6207:v=>{v.exports=p}},a={};return n.m=q,n.n=v=>{var m=v&&v.__esModule?()=>v.default:()=>v;return n.d(m,{a:m}),m},f=Object.getPrototypeOf?v=>Object.getPrototypeOf(v):v=>v.__proto__,n.t=function(v,
m){if((1&m&&(v=this(v)),8&m)||"object"==typeof v&&v&&(4&m&&v.__esModule||16&m&&"function"==typeof v.then))return v;var e=Object.create(null);n.r(e);var r={};b=b||[null,f({}),f([]),f(f)];for(m=2&m&&v;"object"==typeof m&&!~b.indexOf(m);m=f(m))Object.getOwnPropertyNames(m).forEach(x=>r[x]=()=>v[x]);return r.default=()=>v,n.d(e,r),e},n.d=(v,m)=>{for(var e in m)n.o(m,e)&&!n.o(v,e)&&Object.defineProperty(v,e,{enumerable:!0,get:m[e]})},n.f={},n.e=v=>Promise.all(Object.keys(n.f).reduce((m,e)=>(n.f[e](v,m),
m),[])),n.u=v=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",
491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[v]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",
213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",
661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[v]+".js",n.o=(v,m)=>Object.prototype.hasOwnProperty.call(v,m),h={},n.l=(v,m,e,r)=>{if(h[v])h[v].push(m);else{var x;if(void 0!==e){r=document.getElementsByTagName("script");for(var B=0;B<r.length;B++){var F=r[B];if(F.getAttribute("src")==v||F.getAttribute("data-webpack")==
"Excalidraw:"+e){var L=F;break}}}L||(x=!0,(L=document.createElement("script")).charset="utf-8",L.timeout=120,n.nc&&L.setAttribute("nonce",n.nc),L.setAttribute("data-webpack","Excalidraw:"+e),L.src=v);h[v]=[m];m=(C,D)=>{L.onerror=L.onload=null;clearTimeout(G);var w=h[v];if(delete h[v],L.parentNode&&L.parentNode.removeChild(L),w&&w.forEach(R=>R(D)),C)return C(D)};var G=setTimeout(m.bind(null,void 0,{type:"timeout",target:L}),12E4);L.onerror=m.bind(null,L.onerror);L.onload=m.bind(null,L.onload);x&&document.head.appendChild(L)}},
n.r=v=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"});Object.defineProperty(v,"__esModule",{value:!0})},n.p="",(()=>{var v={163:0};n.f.j=(r,x)=>{var B=n.o(v,r)?v[r]:void 0;if(0!==B)if(B)x.push(B[2]);else{var F=new Promise((G,C)=>{B=v[r]=[G,C]});x.push(B[2]=F);x=n.p+n.u(r);var L=Error();n.l(x,G=>{if(n.o(v,r)&&(0!==(B=v[r])&&(v[r]=void 0),B)){var C=G&&("load"===G.type?"missing":G.type);G=G&&G.target&&G.target.src;L.message="Loading chunk "+
r+" failed.\n("+C+": "+G+")";L.name="ChunkLoadError";L.type=C;L.request=G;B[1](L)}},"chunk-"+r,r)}};var m=(r,x)=>{for(var B,F,[L,G,C]=x,D=0,w=[];D<L.length;D++)F=L[D],n.o(v,F)&&v[F]&&w.push(v[F][0]),v[F]=0;for(B in G)n.o(G,B)&&(n.m[B]=G[B]);C&&C(n);for(r&&r(x);w.length;)w.shift()()},e=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];e.forEach(m.bind(null,0));e.push=m.bind(null,e.push.bind(e))})(),n(3956)})()})};
'use strict';
var $frontend$handler$draw$load_excalidraw_file$$ = function($file$jscomp$51$$, $ok_handler$jscomp$20$$) {
  var $temp__5720__auto__$jscomp$413$$ = $APP.$frontend$state$get_current_repo$$();
  $APP.$cljs$core$truth_$$($temp__5720__auto__$jscomp$413$$) && $APP.$frontend$util$p_handle$cljs$0core$0IFn$0_invoke$0arity$03$$($APP.$frontend$handler$file$load_file$$($temp__5720__auto__$jscomp$413$$, $file$jscomp$51$$), function($content$jscomp$135$$) {
    return $ok_handler$jscomp$20$$.$cljs$core$IFn$_invoke$arity$1$ ? $ok_handler$jscomp$20$$.$cljs$core$IFn$_invoke$arity$1$($content$jscomp$135$$) : $ok_handler$jscomp$20$$.call(null, $content$jscomp$135$$);
  }, function($error$jscomp$61$$) {
    return $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["Error loading ", $file$jscomp$51$$, ": ", $error$jscomp$61$$]));
  });
}, $frontend$extensions$excalidraw$update_draw_content_width$$ = function($state$jscomp$277$$) {
  var $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$ = $APP.$rum$core$dom_node$$($state$jscomp$277$$);
  $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$ = $APP.$cljs$core$truth_$$($el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$) ? $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$.querySelector(".draw-wrap") : $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$;
  $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$ = $APP.$cljs$core$truth_$$($el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$) ? $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$.clientWidth : $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$;
  $APP.$cljs$core$reset_BANG_$$($cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$277$$), $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$);
  return $state$jscomp$277$$;
}, $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "view-mode-enabled", "view-mode-enabled", -588220561), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "view-mode?", "frontend.extensions.excalidraw/view-mode?", 525380621), $cljs$cst$keyword$viewBackgroundColor$$ = new $APP.$cljs$core$Keyword$$(null, "viewBackgroundColor", "viewBackgroundColor", 1889137994), 
$cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "grid-mode-enabled", "grid-mode-enabled", 584978327), $cljs$cst$keyword$gridSize$$ = new $APP.$cljs$core$Keyword$$(null, "gridSize", "gridSize", 843108791), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "elements", "frontend.extensions.excalidraw/elements", 1745667967), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "loading?", "frontend.extensions.excalidraw/loading?", -1335058663), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "data", "frontend.extensions.excalidraw/data", -1371036113), $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "zen-mode-enabled", "zen-mode-enabled", -955634269), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "zen-mode?", "frontend.extensions.excalidraw/zen-mode?", 1559773511), $cljs$cst$keyword$appState$$ = new $APP.$cljs$core$Keyword$$(null, "appState", "appState", -1920687968), $cljs$cst$keyword$initial_DASH_data$$ = new $APP.$cljs$core$Keyword$$(null, "initial-data", "initial-data", -1315709804), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", 
"draw-width", "frontend.extensions.excalidraw/draw-width", -681100043);
$APP.$JSCompiler_StaticMethods_beforeLoadModuleCode$$("excalidraw");
var $module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$ = $APP.$shadow$js$require$$(645);
var $frontend$extensions$excalidraw$excalidraw$$, $frontend$extensions$excalidraw$draw_inner$$, $frontend$extensions$excalidraw$draw_container$$;
$APP.$frontend$extensions$excalidraw$$ = {};
$frontend$extensions$excalidraw$excalidraw$$ = $APP.$frontend$rum$adapt_class$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$goog$object$get$$($module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$, "default"));
$frontend$extensions$excalidraw$draw_inner$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($state$jscomp$278$$, $data$jscomp$200$$, $option$jscomp$21$$) {
  var $_STAR_draw_width$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$278$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $_STAR_zen_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$278$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $_STAR_view_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$278$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
  $wide_mode_QMARK_$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$ui_SLASH_wide_DASH_mode_QMARK_$$), $_STAR_elements$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$278$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), $file$jscomp$95$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($option$jscomp$21$$);
  return $APP.$cljs$core$truth_$$($data$jscomp$200$$) ? $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$655$$) {
    return $APP.$frontend$util$stop$$($e$jscomp$655$$);
  }, className:"overflow-hidden"}, [$APP.$daiquiri$core$create_element$$("div", {style:{fontSize:10}, className:"my-1"}, [$APP.$daiquiri$core$create_element$$("a", {onClick:$APP.$frontend$handler$ui$toggle_wide_mode_BANG_$$, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Wide Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? "ON" : "OFF"])))]), 
  $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_zen_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Zen Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$)) ? "ON" : "OFF"])))]), $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_view_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("View Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$)) ? "ON" : "OFF"])))])]), $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$656$$) {
    $APP.$frontend$util$stop$$($e$jscomp$656$$);
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !0);
  }, onBlur:function() {
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !1);
  }, className:"draw-wrap"}, [$APP.$daiquiri$interpreter$interpret$$(function() {
    var $G__99236$$ = $APP.$cljs$core$merge$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 6, [$APP.$cljs$cst$keyword$on_DASH_change$$, function($elements$jscomp$16$$, $state__$1$jscomp$9_state__$2$$) {
      var $elements__GT_clj$$ = $APP.$cljs_bean$core$__GT_clj$$($elements$jscomp$16$$);
      return $APP.$cljs$core$seq$$($elements__GT_clj$$) && $APP.$cljs$core$not_EQ_$$.$cljs$core$IFn$_invoke$arity$2$($elements$jscomp$16$$, $APP.$cljs$core$_deref$$($_STAR_elements$$)) ? ($state__$1$jscomp$9_state__$2$$ = $APP.$cljs_bean$core$__GT_clj$$($state__$1$jscomp$9_state__$2$$), $APP.$frontend$handler$draw$save_excalidraw_BANG_$$($file$jscomp$95$$, JSON.stringify($APP.$cljs_bean$core$__GT_js$$(new $APP.$cljs$core$PersistentArrayMap$$(null, 5, [$APP.$cljs$cst$keyword$type$$, "excalidraw", 
      $APP.$cljs$cst$keyword$version$$, 2, $APP.$cljs$cst$keyword$source$$, $APP.$frontend$config$website$$, $APP.$cljs$cst$keyword$elements$$, $elements$jscomp$16$$, $cljs$cst$keyword$appState$$, $APP.$cljs$core$select_keys$$($state__$1$jscomp$9_state__$2$$, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$cljs$cst$keyword$gridSize$$, $cljs$cst$keyword$viewBackgroundColor$$], null))], null)))), $APP.$cljs$core$reset_BANG_$$($_STAR_elements$$, $elements$jscomp$16$$)) : 
      null;
    }, $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$), $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$), $cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$, !1, $cljs$cst$keyword$initial_DASH_data$$, $data$jscomp$200$$, $APP.$cljs$cst$keyword$width$$, $APP.$cljs$core$_deref$$($_STAR_draw_width$$)], null), $APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? new $APP.$cljs$core$PersistentArrayMap$$(null, 
    1, [$APP.$cljs$cst$keyword$height$$, 650], null) : new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$height$$, 500], null)]));
    return $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$ ? $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$($G__99236$$) : $frontend$extensions$excalidraw$excalidraw$$.call(null, $G__99236$$);
  }())])]) : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 7, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(800, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!0, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!1, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
$APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(null, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_mount$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_update$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null)], null), "frontend.extensions.excalidraw/draw-inner");
$frontend$extensions$excalidraw$draw_container$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$, $attrs99237_option$jscomp$22$$) {
  var $_STAR_data_data$jscomp$201$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$ = $APP.$rum$core$react$$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$);
  $_STAR_data_data$jscomp$201$$ = $APP.$rum$core$react$$($_STAR_data_data$jscomp$201$$);
  var $db_restoring_QMARK_$jscomp$4$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$db_SLASH_restoring_QMARK_$$);
  return $APP.$cljs$core$truth_$$($APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($attrs99237_option$jscomp$22$$)) ? $APP.$cljs$core$truth_$$($db_restoring_QMARK_$jscomp$4$$) ? ($attrs99237_option$jscomp$22$$ = $APP.$frontend$ui$loading$$("Loading"), $APP.$daiquiri$core$create_element$$("div", $APP.$cljs$core$map_QMARK_$$($attrs99237_option$jscomp$22$$) ? $APP.$daiquiri$interpreter$attributes$$($APP.$daiquiri$normalize$merge_with_class$cljs$0core$0IFn$0_invoke$0arity$0variadic$$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 
  1, [$APP.$cljs$cst$keyword$class$$, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, ["ls-center"], null)], null), $attrs99237_option$jscomp$22$$]))) : {className:"ls-center"}, $APP.$cljs$core$map_QMARK_$$($attrs99237_option$jscomp$22$$) ? null : [$APP.$daiquiri$interpreter$interpret$$($attrs99237_option$jscomp$22$$)])) : !1 === $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$ ? $frontend$extensions$excalidraw$draw_inner$$($_STAR_data_data$jscomp$201$$, 
  $attrs99237_option$jscomp$22$$) : null : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$init$$, function($state$jscomp$280$$) {
  var $file$jscomp$96_option$jscomp$23_vec__99238$$ = $APP.$cljs$cst$keyword$rum_SLASH_args$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$280$$);
  $file$jscomp$96_option$jscomp$23_vec__99238$$ = $APP.$cljs$core$nth$$.$cljs$core$IFn$_invoke$arity$3$($file$jscomp$96_option$jscomp$23_vec__99238$$, 0, null);
  $file$jscomp$96_option$jscomp$23_vec__99238$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($file$jscomp$96_option$jscomp$23_vec__99238$$);
  var $_STAR_data$jscomp$1$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null), $_STAR_loading_QMARK_$jscomp$2$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(!0);
  $APP.$cljs$core$truth_$$($file$jscomp$96_option$jscomp$23_vec__99238$$) && $frontend$handler$draw$load_excalidraw_file$$($file$jscomp$96_option$jscomp$23_vec__99238$$, function($data$jscomp$202_e$jscomp$inline_7640$$) {
    if ($APP.$clojure$string$blank_QMARK_$$($data$jscomp$202_e$jscomp$inline_7640$$)) {
      var $data__$1$jscomp$9$$ = null;
    } else {
      try {
        $data__$1$jscomp$9$$ = JSON.parse($data$jscomp$202_e$jscomp$inline_7640$$);
      } catch ($e99234$jscomp$inline_7641$$) {
        if ($e99234$jscomp$inline_7641$$ instanceof Error) {
          $data$jscomp$202_e$jscomp$inline_7640$$ = $e99234$jscomp$inline_7641$$, $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["from json error:"])), console.dir($data$jscomp$202_e$jscomp$inline_7640$$), $data__$1$jscomp$9$$ = $APP.$frontend$handler$notification$show_BANG_$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$frontend$util$format$$("Could not load this invalid excalidraw file"), $APP.$cljs$cst$keyword$error$$);
        } else {
          throw $e99234$jscomp$inline_7641$$;
        }
      }
    }
    $APP.$cljs$core$reset_BANG_$$($_STAR_data$jscomp$1$$, $data__$1$jscomp$9$$);
    return $APP.$cljs$core$reset_BANG_$$($_STAR_loading_QMARK_$jscomp$2$$, !1);
  });
  return $APP.$cljs$core$assoc$$.$cljs$core$IFn$_invoke$arity$variadic$($state$jscomp$280$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$, $_STAR_data$jscomp$1$$, $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$, $_STAR_loading_QMARK_$jscomp$2$$]));
}], null)], null), "frontend.extensions.excalidraw/draw-container");
$APP.$frontend$extensions$excalidraw$draw$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defc$$, function($option$jscomp$24$$) {
  var $repo$jscomp$392$$ = $APP.$frontend$state$get_current_repo$$(), $granted_QMARK_$jscomp$2$$ = $APP.$frontend$state$sub$$(new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$cljs$cst$keyword$nfs_SLASH_user_DASH_granted_QMARK_$$, $repo$jscomp$392$$], null));
  return $APP.$frontend$config$local_db_QMARK_$$($repo$jscomp$392$$) && $APP.$cljs$core$not$$($granted_QMARK_$jscomp$2$$) && $APP.$cljs$core$not$$($APP.$frontend$util$electron_QMARK_$$()) ? null : $frontend$extensions$excalidraw$draw_container$$($option$jscomp$24$$);
}, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$], null), "frontend.extensions.excalidraw/draw");
$APP.$shadow$loader$mm$$.$setLoaded$();

}).call(this);
//# sourceMappingURL=excalidraw.js.map
